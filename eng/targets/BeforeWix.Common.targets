<!-- Targets for making .wixproj better. -->
<Project>
  <PropertyGroup Condition="'$(OutputType)' == 'package'">
    <EmbedCab Condition="'$(EmbedCab)' == ''">yes</EmbedCab>
    <InstallDir>$(ProductName)</InstallDir>

    <DefineConstants Condition="'$(Configuration)' == 'Debug'">$(DefineConstants);Debug</DefineConstants>
    <DefineConstants>$(DefineConstants);EmbedCab=$(EmbedCab)</DefineConstants>
  </PropertyGroup>

  <PropertyGroup Condition=" '$(OutputType)' == 'package' AND '$(Cabinet)' == '' ">
    <Cabinet>$(OutputName.Replace('-', '_')).cab</Cabinet>
    <Cabinet Condition=" '$(EmbedCab)' != 'yes' ">$(OutputName.Replace('_win', '')).cab</Cabinet>
  </PropertyGroup>

  <PropertyGroup>
    <Culture Condition=" '$(Culture)' == '' ">en-US</Culture>
    <Cultures Condition=" '$(Cultures)' == '' ">$(Culture)</Cultures>
    <InstallerPlatform>$(Platform)</InstallerPlatform>
    <OutDir Condition=" '$(OutDir)' == '' ">$(OutputPath)</OutDir>

    <DefineConstants>$(DefineConstants);Cabinet=$(Cabinet)</DefineConstants>
    <DefineConstants>$(DefineConstants);BinPath=$(OutputPath)$(Culture)\</DefineConstants>
    <DefineConstants>$(WixVariables);$(DefineConstants)</DefineConstants>
  </PropertyGroup>
</Project>