@page "/order-form"
@rendermode InteractiveServer

@using BlazorValidationSample.Models

<h1>Order Form</h1>

<p>Demonstrates IValidatableObject, custom FutureDateAttribute, and localized error messages.</p>

<EditForm Model="order" OnValidSubmit="HandleValidSubmit" FormName="OrderForm">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group">
        <label for="orderId">Order ID</label>
        <InputNumber id="orderId" @bind-Value="order.OrderId" />
        <ValidationMessage For="() => order.OrderId" />
    </div>

    <div class="form-group">
        <label for="productName">Product Name</label>
        <InputText id="productName" @bind-Value="order.ProductName" />
        <ValidationMessage For="() => order.ProductName" />
    </div>

    <div class="form-group">
        <label for="quantity">Quantity</label>
        <InputNumber id="quantity" @bind-Value="order.Quantity" />
        <ValidationMessage For="() => order.Quantity" />
    </div>

    <div class="form-group">
        <label for="deliveryDate">Delivery Date</label>
        <InputDate id="deliveryDate" @bind-Value="order.DeliveryDate" />
        <ValidationMessage For="() => order.DeliveryDate" />
    </div>

    <div class="form-group">
        <label for="notes">Notes</label>
        <InputTextArea id="notes" @bind-Value="order.Notes" />
        <ValidationMessage For="() => order.Notes" />
    </div>

    <button type="submit" class="btn-submit">Submit</button>
</EditForm>

@if (submitted)
{
    <div class="success-message">
        <strong>Success!</strong> Order #@order.OrderId for &ldquo;@order.ProductName&rdquo; submitted successfully.
    </div>
}

@code {
    private OrderModel order = new();
    private bool submitted;

    private void HandleValidSubmit()
    {
        submitted = true;
    }
}
