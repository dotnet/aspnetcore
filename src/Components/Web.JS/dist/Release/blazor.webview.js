!function(e){"use strict";var t,n,r;!function(e){const t=[],n="__jsObjectId",r="__dotNetObject",o="__byte[]",a="__dotNetStream",i="__jsStreamReferenceLength";let s,c;class l{constructor(e){this._jsObject=e,this._cachedFunctions=new Map}findFunction(e){const t=this._cachedFunctions.get(e);if(t)return t;let n,r=this._jsObject;if(e.split(".").forEach((t=>{if(!(t in r))throw new Error(`Could not find '${e}' ('${t}' was undefined).`);n=r,r=r[t]})),r instanceof Function)return r=r.bind(n),this._cachedFunctions.set(e,r),r;throw new Error(`The value '${e}' is not a function.`)}getWrappedObject(){return this._jsObject}}const u=0,d={[u]:new l(window)};d[0]._cachedFunctions.set("import",(e=>("string"==typeof e&&e.startsWith("./")&&(e=new URL(e.substring(2),document.baseURI).toString()),import(e))));let h,f=1;function m(e){t.push(e)}function p(e){if(e&&"object"==typeof e){d[f]=new l(e);const t={[n]:f};return f++,t}throw new Error(`Cannot create a JSObjectReference from the value '${e}'.`)}function b(e){let t=-1;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Blob)t=e.size;else{if(!(e.buffer instanceof ArrayBuffer))throw new Error("Supplied value is not a typed array or blob.");if(void 0===e.byteLength)throw new Error(`Cannot create a JSStreamReference from the value '${e}' as it doesn't have a byteLength.`);t=e.byteLength}const r={[i]:t};try{const t=p(e);r[n]=t[n]}catch(t){throw new Error(`Cannot create a JSStreamReference from the value '${e}'.`)}return r}function g(e,n){c=e;const r=n?JSON.parse(n,((e,n)=>t.reduce(((t,n)=>n(e,t)),n))):null;return c=void 0,r}function v(){if(void 0===s)throw new Error("No call dispatcher has been set.");if(null===s)throw new Error("There are multiple .NET runtimes present, so a default dispatcher could not be resolved. Use DotNetObject to invoke .NET instance methods.");return s}e.attachDispatcher=function(e){const t=new y(e);return void 0===s?s=t:s&&(s=null),t},e.attachReviver=m,e.invokeMethod=function(e,t,...n){return v().invokeDotNetStaticMethod(e,t,...n)},e.invokeMethodAsync=function(e,t,...n){return v().invokeDotNetStaticMethodAsync(e,t,...n)},e.createJSObjectReference=p,e.createJSStreamReference=b,e.disposeJSObjectReference=function(e){const t=e&&e[n];"number"==typeof t&&S(t)},function(e){e[e.Default=0]="Default",e[e.JSObjectReference=1]="JSObjectReference",e[e.JSStreamReference=2]="JSStreamReference",e[e.JSVoidResult=3]="JSVoidResult"}(h=e.JSCallResultType||(e.JSCallResultType={}));class y{constructor(e){this._dotNetCallDispatcher=e,this._byteArraysToBeRevived=new Map,this._pendingDotNetToJSStreams=new Map,this._pendingAsyncCalls={},this._nextAsyncCallId=1}getDotNetCallDispatcher(){return this._dotNetCallDispatcher}invokeJSFromDotNet(e,t,n,r){const o=g(this,t),a=A(E(e,r)(...o||[]),n);return null==a?null:R(this,a)}beginInvokeJSFromDotNet(e,t,n,r,o){const a=new Promise((e=>{const r=g(this,n);e(E(t,o)(...r||[]))}));e&&a.then((t=>R(this,[e,!0,A(t,r)]))).then((t=>this._dotNetCallDispatcher.endInvokeJSFromDotNet(e,!0,t)),(t=>this._dotNetCallDispatcher.endInvokeJSFromDotNet(e,!1,JSON.stringify([e,!1,w(t)]))))}endInvokeDotNetFromJS(e,t,n){const r=t?g(this,n):new Error(n);this.completePendingCall(parseInt(e,10),t,r)}invokeDotNetStaticMethod(e,t,...n){return this.invokeDotNetMethod(e,t,null,n)}invokeDotNetStaticMethodAsync(e,t,...n){return this.invokeDotNetMethodAsync(e,t,null,n)}invokeDotNetMethod(e,t,n,r){if(this._dotNetCallDispatcher.invokeDotNetFromJS){const o=R(this,r),a=this._dotNetCallDispatcher.invokeDotNetFromJS(e,t,n,o);return a?g(this,a):null}throw new Error("The current dispatcher does not support synchronous calls from JS to .NET. Use invokeDotNetMethodAsync instead.")}invokeDotNetMethodAsync(e,t,n,r){if(e&&n)throw new Error(`For instance method calls, assemblyName should be null. Received '${e}'.`);const o=this._nextAsyncCallId++,a=new Promise(((e,t)=>{this._pendingAsyncCalls[o]={resolve:e,reject:t}}));try{const a=R(this,r);this._dotNetCallDispatcher.beginInvokeDotNetFromJS(o,e,t,n,a)}catch(e){this.completePendingCall(o,!1,e)}return a}receiveByteArray(e,t){this._byteArraysToBeRevived.set(e,t)}processByteArray(e){const t=this._byteArraysToBeRevived.get(e);return t?(this._byteArraysToBeRevived.delete(e),t):null}supplyDotNetStream(e,t){if(this._pendingDotNetToJSStreams.has(e)){const n=this._pendingDotNetToJSStreams.get(e);this._pendingDotNetToJSStreams.delete(e),n.resolve(t)}else{const n=new D;n.resolve(t),this._pendingDotNetToJSStreams.set(e,n)}}getDotNetStreamPromise(e){let t;if(this._pendingDotNetToJSStreams.has(e))t=this._pendingDotNetToJSStreams.get(e).streamPromise,this._pendingDotNetToJSStreams.delete(e);else{const n=new D;this._pendingDotNetToJSStreams.set(e,n),t=n.streamPromise}return t}completePendingCall(e,t,n){if(!this._pendingAsyncCalls.hasOwnProperty(e))throw new Error(`There is no pending async call with ID ${e}.`);const r=this._pendingAsyncCalls[e];delete this._pendingAsyncCalls[e],t?r.resolve(n):r.reject(n)}}function w(e){return e instanceof Error?`${e.message}\n${e.stack}`:e?e.toString():"null"}function E(e,t){const n=d[t];if(n)return n.findFunction(e);throw new Error(`JS object instance with ID ${t} does not exist (has it been disposed?).`)}function S(e){delete d[e]}e.findJSFunction=E,e.disposeJSObjectReferenceById=S;class I{constructor(e,t){this._id=e,this._callDispatcher=t}invokeMethod(e,...t){return this._callDispatcher.invokeDotNetMethod(null,e,this._id,t)}invokeMethodAsync(e,...t){return this._callDispatcher.invokeDotNetMethodAsync(null,e,this._id,t)}dispose(){this._callDispatcher.invokeDotNetMethodAsync(null,"__Dispose",this._id,null).catch((e=>console.error(e)))}serializeAsArg(){return{[r]:this._id}}}e.DotNetObject=I,m((function(e,t){if(t&&"object"==typeof t){if(t.hasOwnProperty(r))return new I(t[r],c);if(t.hasOwnProperty(n)){const e=t[n],r=d[e];if(r)return r.getWrappedObject();throw new Error(`JS object instance with Id '${e}' does not exist. It may have been disposed.`)}if(t.hasOwnProperty(o)){const e=t[o],n=c.processByteArray(e);if(void 0===n)throw new Error(`Byte array index '${e}' does not exist.`);return n}if(t.hasOwnProperty(a)){const e=t[a],n=c.getDotNetStreamPromise(e);return new C(n)}}return t}));class C{constructor(e){this._streamPromise=e}stream(){return this._streamPromise}async arrayBuffer(){return new Response(await this.stream()).arrayBuffer()}}class D{constructor(){this.streamPromise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}function A(e,t){switch(t){case h.Default:return e;case h.JSObjectReference:return p(e);case h.JSStreamReference:return b(e);case h.JSVoidResult:return null;default:throw new Error(`Invalid JS call result type '${t}'.`)}}let N=0;function R(e,t){N=0,c=e;const n=JSON.stringify(t,k);return c=void 0,n}function k(e,t){if(t instanceof I)return t.serializeAsArg();if(t instanceof Uint8Array){c.getDotNetCallDispatcher().sendByteArray(N,t);const e={[o]:N};return N++,e}return t}}(t||(t={})),function(e){e[e.prependFrame=1]="prependFrame",e[e.removeFrame=2]="removeFrame",e[e.setAttribute=3]="setAttribute",e[e.removeAttribute=4]="removeAttribute",e[e.updateText=5]="updateText",e[e.stepIn=6]="stepIn",e[e.stepOut=7]="stepOut",e[e.updateMarkup=8]="updateMarkup",e[e.permutationListEntry=9]="permutationListEntry",e[e.permutationListEnd=10]="permutationListEnd"}(n||(n={})),function(e){e[e.element=1]="element",e[e.text=2]="text",e[e.attribute=3]="attribute",e[e.component=4]="component",e[e.region=5]="region",e[e.elementReferenceCapture=6]="elementReferenceCapture",e[e.markup=8]="markup",e[e.namedEvent=10]="namedEvent"}(r||(r={}));class o{constructor(e,t){this.componentId=e,this.fieldValue=t}static fromEvent(e,t){const n=t.target;if(n instanceof Element){const t=function(e){return e instanceof HTMLInputElement?e.type&&"checkbox"===e.type.toLowerCase()?{value:e.checked}:{value:e.value}:e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement?{value:e.value}:null}(n);if(t)return new o(e,t.value)}return null}}const a=new Map,i=new Map,s=[];function c(e){return a.get(e)}function l(e){const t=a.get(e);return t?.browserEventName||e}function u(e,t){e.forEach((e=>a.set(e,t)))}function d(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push({identifier:r.identifier,clientX:r.clientX,clientY:r.clientY,screenX:r.screenX,screenY:r.screenY,pageX:r.pageX,pageY:r.pageY})}return t}function h(e){return{detail:e.detail,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,offsetX:e.offsetX,offsetY:e.offsetY,pageX:e.pageX,pageY:e.pageY,movementX:e.movementX,movementY:e.movementY,button:e.button,buttons:e.buttons,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,type:e.type}}u(["input","change"],{createEventArgs:function(e){const t=e.target;if(function(e){return-1!==f.indexOf(e.getAttribute("type"))}(t)){const e=function(e){const t=e.value,n=e.type;switch(n){case"date":case"month":case"week":return t;case"datetime-local":return 16===t.length?t+":00":t;case"time":return 5===t.length?t+":00":t}throw new Error(`Invalid element type '${n}'.`)}(t);return{value:e}}if(function(e){return e instanceof HTMLSelectElement&&"select-multiple"===e.type}(t)){const e=t;return{value:Array.from(e.options).filter((e=>e.selected)).map((e=>e.value))}}{const e=function(e){return!!e&&"INPUT"===e.tagName&&"checkbox"===e.getAttribute("type")}(t);return{value:e?!!t.checked:t.value}}}}),u(["copy","cut","paste"],{createEventArgs:e=>({type:e.type})}),u(["drag","dragend","dragenter","dragleave","dragover","dragstart","drop"],{createEventArgs:e=>{return{...h(t=e),dataTransfer:t.dataTransfer?{dropEffect:t.dataTransfer.dropEffect,effectAllowed:t.dataTransfer.effectAllowed,files:Array.from(t.dataTransfer.files).map((e=>e.name)),items:Array.from(t.dataTransfer.items).map((e=>({kind:e.kind,type:e.type}))),types:t.dataTransfer.types}:null};var t}}),u(["focus","blur","focusin","focusout"],{createEventArgs:e=>({type:e.type})}),u(["keydown","keyup","keypress"],{createEventArgs:e=>{return{key:(t=e).key,code:t.code,location:t.location,repeat:t.repeat,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,type:t.type,isComposing:t.isComposing};var t}}),u(["contextmenu","click","mouseover","mouseout","mousemove","mousedown","mouseup","mouseleave","mouseenter","dblclick"],{createEventArgs:e=>h(e)}),u(["error"],{createEventArgs:e=>{return{message:(t=e).message,filename:t.filename,lineno:t.lineno,colno:t.colno,type:t.type};var t}}),u(["loadstart","timeout","abort","load","loadend","progress"],{createEventArgs:e=>{return{lengthComputable:(t=e).lengthComputable,loaded:t.loaded,total:t.total,type:t.type};var t}}),u(["touchcancel","touchend","touchmove","touchenter","touchleave","touchstart"],{createEventArgs:e=>{return{detail:(t=e).detail,touches:d(t.touches),targetTouches:d(t.targetTouches),changedTouches:d(t.changedTouches),ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,type:t.type};var t}}),u(["gotpointercapture","lostpointercapture","pointercancel","pointerdown","pointerenter","pointerleave","pointermove","pointerout","pointerover","pointerup"],{createEventArgs:e=>{return{...h(t=e),pointerId:t.pointerId,width:t.width,height:t.height,pressure:t.pressure,tiltX:t.tiltX,tiltY:t.tiltY,pointerType:t.pointerType,isPrimary:t.isPrimary};var t}}),u(["wheel","mousewheel"],{createEventArgs:e=>{return{...h(t=e),deltaX:t.deltaX,deltaY:t.deltaY,deltaZ:t.deltaZ,deltaMode:t.deltaMode};var t}}),u(["cancel","close","toggle"],{createEventArgs:()=>({})});const f=["date","datetime-local","month","time","week"],m=new Map;let p,b,g=0;const v={async add(e,t,n){if(!n)throw new Error("initialParameters must be an object, even if empty.");const r="__bl-dynamic-root:"+(++g).toString();m.set(r,e);const o=await E().invokeMethodAsync("AddRootComponent",t,r),a=new w(o,b[t]);return await a.setParameters(n),a}};class y{invoke(e){return this._callback(e)}setCallback(e){this._selfJSObjectReference||(this._selfJSObjectReference=t.createJSObjectReference(this)),this._callback=e}getJSObjectReference(){return this._selfJSObjectReference}dispose(){this._selfJSObjectReference&&t.disposeJSObjectReference(this._selfJSObjectReference)}}class w{constructor(e,t){this._jsEventCallbackWrappers=new Map,this._componentId=e;for(const e of t)"eventcallback"===e.type&&this._jsEventCallbackWrappers.set(e.name.toLowerCase(),new y)}setParameters(e){const t={},n=Object.entries(e||{}),r=n.length;for(const[e,r]of n){const n=this._jsEventCallbackWrappers.get(e.toLowerCase());n&&r?(n.setCallback(r),t[e]=n.getJSObjectReference()):t[e]=r}return E().invokeMethodAsync("SetRootComponentParameters",this._componentId,r,t)}async dispose(){if(null!==this._componentId){await E().invokeMethodAsync("RemoveRootComponent",this._componentId),this._componentId=null;for(const e of this._jsEventCallbackWrappers.values())e.dispose()}}}function E(){if(!p)throw new Error("Dynamic root components have not been enabled in this application.");return p}const S=new Map,I=[],C=new Map;function D(e,t,n){return N(e,t.eventHandlerId,(()=>A(e).invokeMethodAsync("DispatchEventAsync",t,n)))}function A(e){const t=S.get(e);if(!t)throw new Error(`No interop methods are registered for renderer ${e}`);return t}let N=(e,t,n)=>n();const R=x(["abort","blur","cancel","canplay","canplaythrough","change","close","cuechange","durationchange","emptied","ended","error","focus","load","loadeddata","loadedmetadata","loadend","loadstart","mouseenter","mouseleave","pointerenter","pointerleave","pause","play","playing","progress","ratechange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeupdate","toggle","unload","volumechange","waiting","DOMNodeInsertedIntoDocument","DOMNodeRemovedFromDocument"]),k={submit:!0},T=x(["click","dblclick","mousedown","mousemove","mouseup"]);class _{static{this.nextEventDelegatorId=0}constructor(e){this.browserRendererId=e,this.afterClickCallbacks=[];const t=++_.nextEventDelegatorId;this.eventsCollectionKey=`_blazorEvents_${t}`,this.eventInfoStore=new O(this.onGlobalEvent.bind(this))}setListener(e,t,n,r){const o=this.getEventHandlerInfosForElement(e,!0),a=o.getHandler(t);if(a)this.eventInfoStore.update(a.eventHandlerId,n);else{const a={element:e,eventName:t,eventHandlerId:n,renderingComponentId:r};this.eventInfoStore.add(a),o.setHandler(t,a)}}getHandler(e){return this.eventInfoStore.get(e)}removeListener(e){const t=this.eventInfoStore.remove(e);if(t){const e=t.element,n=this.getEventHandlerInfosForElement(e,!1);n&&n.removeHandler(t.eventName)}}notifyAfterClick(e){this.afterClickCallbacks.push(e),this.eventInfoStore.addGlobalListener("click")}setStopPropagation(e,t,n){this.getEventHandlerInfosForElement(e,!0).stopPropagation(t,n)}setPreventDefault(e,t,n){this.getEventHandlerInfosForElement(e,!0).preventDefault(t,n)}onGlobalEvent(e){if(!(e.target instanceof Element))return;this.dispatchGlobalEventToAllElements(e.type,e);const t=(n=e.type,i.get(n));var n;t&&t.forEach((t=>this.dispatchGlobalEventToAllElements(t,e))),"click"===e.type&&this.afterClickCallbacks.forEach((t=>t(e)))}dispatchGlobalEventToAllElements(e,t){const n=t.composedPath();let r=n.shift(),a=null,i=!1;const s=Object.prototype.hasOwnProperty.call(R,e);let l=!1;for(;r;){const h=r,f=this.getEventHandlerInfosForElement(h,!1);if(f){const n=f.getHandler(e);if(n&&(u=h,d=t.type,!((u instanceof HTMLButtonElement||u instanceof HTMLInputElement||u instanceof HTMLTextAreaElement||u instanceof HTMLSelectElement)&&Object.prototype.hasOwnProperty.call(T,d)&&u.disabled))){if(!i){const n=c(e);a=n?.createEventArgs?n.createEventArgs(t):{},i=!0}Object.prototype.hasOwnProperty.call(k,t.type)&&t.preventDefault(),D(this.browserRendererId,{eventHandlerId:n.eventHandlerId,eventName:e,eventFieldInfo:o.fromEvent(n.renderingComponentId,t)},a)}f.stopPropagation(e)&&(l=!0),f.preventDefault(e)&&t.preventDefault()}r=s||l?void 0:n.shift()}var u,d}getEventHandlerInfosForElement(e,t){return Object.prototype.hasOwnProperty.call(e,this.eventsCollectionKey)?e[this.eventsCollectionKey]:t?e[this.eventsCollectionKey]=new L:null}}class O{constructor(e){this.globalListener=e,this.infosByEventHandlerId={},this.countByEventName={},s.push(this.handleEventNameAliasAdded.bind(this))}add(e){if(this.infosByEventHandlerId[e.eventHandlerId])throw new Error(`Event ${e.eventHandlerId} is already tracked`);this.infosByEventHandlerId[e.eventHandlerId]=e,this.addGlobalListener(e.eventName)}get(e){return this.infosByEventHandlerId[e]}addGlobalListener(e){if(e=l(e),Object.prototype.hasOwnProperty.call(this.countByEventName,e))this.countByEventName[e]++;else{this.countByEventName[e]=1;const t=Object.prototype.hasOwnProperty.call(R,e);document.addEventListener(e,this.globalListener,t)}}update(e,t){if(Object.prototype.hasOwnProperty.call(this.infosByEventHandlerId,t))throw new Error(`Event ${t} is already tracked`);const n=this.infosByEventHandlerId[e];delete this.infosByEventHandlerId[e],n.eventHandlerId=t,this.infosByEventHandlerId[t]=n}remove(e){const t=this.infosByEventHandlerId[e];if(t){delete this.infosByEventHandlerId[e];const n=l(t.eventName);0==--this.countByEventName[n]&&(delete this.countByEventName[n],document.removeEventListener(n,this.globalListener))}return t}handleEventNameAliasAdded(e,t){if(Object.prototype.hasOwnProperty.call(this.countByEventName,e)){const n=this.countByEventName[e];delete this.countByEventName[e],document.removeEventListener(e,this.globalListener),this.addGlobalListener(t),this.countByEventName[t]+=n-1}}}class L{constructor(){this.handlers={},this.preventDefaultFlags=null,this.stopPropagationFlags=null}getHandler(e){return Object.prototype.hasOwnProperty.call(this.handlers,e)?this.handlers[e]:null}setHandler(e,t){this.handlers[e]=t}removeHandler(e){delete this.handlers[e]}preventDefault(e,t){return void 0!==t&&(this.preventDefaultFlags=this.preventDefaultFlags||{},this.preventDefaultFlags[e]=t),!!this.preventDefaultFlags&&this.preventDefaultFlags[e]}stopPropagation(e,t){return void 0!==t&&(this.stopPropagationFlags=this.stopPropagationFlags||{},this.stopPropagationFlags[e]=t),!!this.stopPropagationFlags&&this.stopPropagationFlags[e]}}function x(e){const t={};return e.forEach((e=>{t[e]=!0})),t}const F=Symbol(),M=Symbol();function P(e,t){if(F in e)return e;const n=[];if(e.childNodes.length>0){if(!t)throw new Error("New logical elements must start empty, or allowExistingContents must be true");e.childNodes.forEach((t=>{const r=P(t,!0);r[M]=e,n.push(r)}))}return e[F]=n,e}function B(e){const t=W(e);for(;t.length;)J(e,0)}function j(e,t){const n=document.createComment("!");return H(n,e,t),n}function H(e,t,n){const r=e;let o=e;if(e instanceof Comment){const t=W(r);if(t?.length>0){const t=G(r),n=new Range;n.setStartBefore(e),n.setEndAfter(t),o=n.extractContents()}}const a=U(r);if(a){const e=W(a),t=Array.prototype.indexOf.call(e,r);e.splice(t,1),delete r[M]}const i=W(t);if(n<i.length){const e=i[n];e.parentNode.insertBefore(o,e),i.splice(n,0,r)}else Y(o,t),i.push(r);r[M]=t,F in r||(r[F]=[])}function J(e,t){const n=W(e).splice(t,1)[0];if(n instanceof Comment){const e=W(n);if(e)for(;e.length>0;)J(n,0)}const r=n;r.parentNode.removeChild(r)}function U(e){return e[M]||null}function $(e,t){return W(e)[t]}function z(e){const t=X(e);return"http://www.w3.org/2000/svg"===t.namespaceURI&&"foreignObject"!==t.tagName}function W(e){return e[F]}function K(e){const t=W(U(e));return t[Array.prototype.indexOf.call(t,e)+1]||null}function V(e,t){const n=W(e);t.forEach((e=>{e.moveRangeStart=n[e.fromSiblingIndex],e.moveRangeEnd=G(e.moveRangeStart)})),t.forEach((t=>{const r=document.createComment("marker");t.moveToBeforeMarker=r;const o=n[t.toSiblingIndex+1];o?o.parentNode.insertBefore(r,o):Y(r,e)})),t.forEach((e=>{const t=e.moveToBeforeMarker,n=t.parentNode,r=e.moveRangeStart,o=e.moveRangeEnd;let a=r;for(;a;){const e=a.nextSibling;if(n.insertBefore(a,t),a===o)break;a=e}n.removeChild(t)})),t.forEach((e=>{n[e.toSiblingIndex]=e.moveRangeStart}))}function X(e){if(e instanceof Element||e instanceof DocumentFragment)return e;if(e instanceof Comment)return e.parentNode;throw new Error("Not a valid logical element")}function Y(e,t){if(t instanceof Element||t instanceof DocumentFragment)t.appendChild(e);else{if(!(t instanceof Comment))throw new Error(`Cannot append node because the parent is not a valid logical element. Parent: ${t}`);{const n=K(t);n?n.parentNode.insertBefore(e,n):Y(e,U(t))}}}function G(e){if(e instanceof Element||e instanceof DocumentFragment)return e;const t=K(e);if(t)return t.previousSibling;{const t=U(e);return t instanceof Element||t instanceof DocumentFragment?t.lastChild:G(t)}}function q(e){return`_bl_${e}`}const Z="__internalId";t.attachReviver(((e,t)=>t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,Z)&&"string"==typeof t[Z]?function(e){const t=`[${q(e)}]`;return document.querySelector(t)}(t[Z]):t));const Q="_blazorDeferredValue";function ee(e){return"select-multiple"===e.type}function te(e,t){e.value=t||""}function ne(e,t){e instanceof HTMLSelectElement?ee(e)?function(e,t){t||=[];for(let n=0;n<e.options.length;n++)e.options[n].selected=-1!==t.indexOf(e.options[n].value)}(e,t):te(e,t):e.value=t}function re(e){const t=function(e){for(;e;){if(e instanceof HTMLSelectElement)return e;e=e.parentElement}return null}(e);if(!function(e){return!!e&&Q in e}(t))return!1;if(ee(t))e.selected=-1!==t._blazorDeferredValue.indexOf(e.value);else{if(t._blazorDeferredValue!==e.value)return!1;te(t,e.value),delete t._blazorDeferredValue}return!0}const oe=document.createElement("template"),ae=document.createElementNS("http://www.w3.org/2000/svg","g"),ie=new Set,se=Symbol(),ce=Symbol();class le{constructor(e){this.rootComponentIds=new Set,this.childComponentLocations={},this.eventDelegator=new _(e),this.eventDelegator.notifyAfterClick((e=>{we()&&function(e){if(0!==e.button||function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey}(e))return;if(e.defaultPrevented)return;const t=function(e){const t=e.composedPath&&e.composedPath();if(t)for(let e=0;e<t.length;e++){const n=t[e];if(n instanceof HTMLAnchorElement||n instanceof SVGAElement)return n}return null}(e);if(t&&function(e){const t=e.getAttribute("target");return(!t||"_self"===t)&&e.hasAttribute("href")&&!e.hasAttribute("download")}(t)){const n=ye(t.getAttribute("href"));ge(n)&&(e.preventDefault(),Te(n,!0,!1))}}(e)}))}getRootComponentCount(){return this.rootComponentIds.size}attachRootComponentToLogicalElement(e,t,n){if(function(e){return e[se]}(t))throw new Error(`Root component '${e}' could not be attached because its target element is already associated with a root component`);n&&(t=j(t,W(t).length)),ue(t,!0),this.attachComponentToElement(e,t),this.rootComponentIds.add(e),ie.add(t)}updateComponent(e,t,n,r){const o=this.childComponentLocations[t];if(!o)throw new Error(`No element is currently associated with component ${t}`);ie.delete(o)&&(B(o),o instanceof Comment&&(o.textContent="!"));const a=X(o)?.getRootNode(),i=a&&a.activeElement;this.applyEdits(e,t,o,0,n,r),i instanceof HTMLElement&&a&&a.activeElement!==i&&i.focus()}disposeComponent(e){if(this.rootComponentIds.delete(e)){const t=this.childComponentLocations[e];ue(t,!1),!0===t[ce]?ie.add(t):B(t)}delete this.childComponentLocations[e]}disposeEventHandler(e){this.eventDelegator.removeListener(e)}attachComponentToElement(e,t){this.childComponentLocations[e]=t}applyEdits(e,t,r,o,a,i){let s,c=0,l=o;const u=e.arrayBuilderSegmentReader,d=e.editReader,h=e.frameReader,f=u.values(a),m=u.offset(a),p=m+u.count(a);for(let a=m;a<p;a++){const u=e.diffReader.editsEntry(f,a),m=d.editType(u);switch(m){case n.prependFrame:{const n=d.newTreeIndex(u),o=e.referenceFramesEntry(i,n),a=d.siblingIndex(u);this.insertFrame(e,t,r,l+a,i,o,n);break}case n.removeFrame:J(r,l+d.siblingIndex(u));break;case n.setAttribute:{const n=d.newTreeIndex(u),o=e.referenceFramesEntry(i,n),a=$(r,l+d.siblingIndex(u));if(!(a instanceof Element))throw new Error("Cannot set attribute on non-element child");this.applyAttribute(e,t,a,o);break}case n.removeAttribute:{const e=$(r,l+d.siblingIndex(u));if(!(e instanceof Element))throw new Error("Cannot remove attribute from non-element child");{const t=d.removedAttributeName(u);this.setOrRemoveAttributeOrProperty(e,t,null)}break}case n.updateText:{const t=d.newTreeIndex(u),n=e.referenceFramesEntry(i,t),o=$(r,l+d.siblingIndex(u));if(!(o instanceof Text))throw new Error("Cannot set text content on non-text child");o.textContent=h.textContent(n);break}case n.updateMarkup:{const t=d.newTreeIndex(u),n=e.referenceFramesEntry(i,t),o=d.siblingIndex(u);J(r,l+o),this.insertMarkup(e,r,l+o,n);break}case n.stepIn:r=$(r,l+d.siblingIndex(u)),c++,l=0;break;case n.stepOut:r=U(r),c--,l=0===c?o:0;break;case n.permutationListEntry:s=s||[],s.push({fromSiblingIndex:l+d.siblingIndex(u),toSiblingIndex:l+d.moveToSiblingIndex(u)});break;case n.permutationListEnd:V(r,s),s=void 0;break;default:throw new Error(`Unknown edit type: ${m}`)}}}insertFrame(e,t,n,o,a,i,s){const c=e.frameReader,l=c.frameType(i);switch(l){case r.element:return this.insertElement(e,t,n,o,a,i,s),1;case r.text:return this.insertText(e,n,o,i),1;case r.attribute:throw new Error("Attribute frames should only be present as leading children of element frames.");case r.component:return this.insertComponent(e,n,o,i),1;case r.region:return this.insertFrameRange(e,t,n,o,a,s+1,s+c.subtreeLength(i));case r.elementReferenceCapture:if(n instanceof Element)return u=n,d=c.elementReferenceCaptureId(i),u.setAttribute(q(d),""),0;throw new Error("Reference capture frames can only be children of element frames.");case r.markup:return this.insertMarkup(e,n,o,i),1;case r.namedEvent:return 0;default:throw new Error(`Unknown frame type: ${l}`)}var u,d}insertElement(e,t,n,o,a,i,s){const c=e.frameReader,l=c.elementName(i),u="svg"===l||z(n)?document.createElementNS("http://www.w3.org/2000/svg",l):document.createElement(l),d=P(u);let h=!1;const f=s+c.subtreeLength(i);for(let i=s+1;i<f;i++){const s=e.referenceFramesEntry(a,i);if(c.frameType(s)!==r.attribute){H(u,n,o),h=!0,this.insertFrameRange(e,t,d,0,a,i,f);break}this.applyAttribute(e,t,u,s)}var m;h||H(u,n,o),(m=u)instanceof HTMLOptionElement?re(m):Q in m&&ne(m,m[Q])}insertComponent(e,t,n,r){const o=j(t,n),a=e.frameReader.componentId(r);this.attachComponentToElement(a,o)}insertText(e,t,n,r){const o=e.frameReader.textContent(r);H(document.createTextNode(o),t,n)}insertMarkup(e,t,n,r){const o=j(t,n),a=(i=e.frameReader.markupContent(r),z(t)?(ae.innerHTML=i||" ",ae):(oe.innerHTML=i||" ",oe.content.querySelectorAll("script").forEach((e=>{const t=document.createElement("script");t.textContent=e.textContent,e.getAttributeNames().forEach((n=>{t.setAttribute(n,e.getAttribute(n))})),e.parentNode.replaceChild(t,e)})),oe.content));var i;let s=0;for(;a.firstChild;)H(a.firstChild,o,s++)}applyAttribute(e,t,n,r){const o=e.frameReader,a=o.attributeName(r),i=o.attributeEventHandlerId(r);if(i){const e=he(a);return void this.eventDelegator.setListener(n,e,i,t)}const s=o.attributeValue(r);this.setOrRemoveAttributeOrProperty(n,a,s)}insertFrameRange(e,t,n,r,o,a,i){const s=r;for(let s=a;s<i;s++){const a=e.referenceFramesEntry(o,s);r+=this.insertFrame(e,t,n,r,o,a,s),s+=de(e,a)}return r-s}setOrRemoveAttributeOrProperty(e,t,n){(function(e,t,n){switch(t){case"value":return function(e,t){switch(t&&"INPUT"===e.tagName&&(t=function(e,t){switch(t.getAttribute("type")){case"time":return 8!==e.length||!e.endsWith("00")&&t.hasAttribute("step")?e:e.substring(0,5);case"datetime-local":return 19!==e.length||!e.endsWith("00")&&t.hasAttribute("step")?e:e.substring(0,16);default:return e}}(t,e)),e.tagName){case"INPUT":case"SELECT":case"TEXTAREA":return t&&e instanceof HTMLSelectElement&&ee(e)&&(t=JSON.parse(t)),ne(e,t),e[Q]=t,!0;case"OPTION":return t||""===t?e.setAttribute("value",t):e.removeAttribute("value"),re(e),!0;default:return!1}}(e,n);case"checked":return function(e,t){return"INPUT"===e.tagName&&(e.checked=null!==t,!0)}(e,n);default:return!1}})(e,t,n)||(t.startsWith("__internal_")?this.applyInternalAttribute(e,t.substring(11),n):null!==n?e.setAttribute(t,n):e.removeAttribute(t))}applyInternalAttribute(e,t,n){if(t.startsWith("stopPropagation_")){const r=he(t.substring(16));this.eventDelegator.setStopPropagation(e,r,null!==n)}else{if(!t.startsWith("preventDefault_"))throw new Error(`Unsupported internal attribute '${t}'`);{const r=he(t.substring(15));this.eventDelegator.setPreventDefault(e,r,null!==n)}}}}function ue(e,t){e[se]=t}function de(e,t){const n=e.frameReader;switch(n.frameType(t)){case r.component:case r.element:case r.region:return n.subtreeLength(t)-1;default:return 0}}function he(e){if(e.startsWith("on"))return e.substring(2);throw new Error(`Attribute should be an event name, but doesn't start with 'on'. Value: '${e}'`)}const fe={};let me,pe,be=!1;function ge(e){const t=(n=document.baseURI).substring(0,n.lastIndexOf("/"));var n;const r=e.charAt(t.length);return e.startsWith(t)&&(""===r||"/"===r||"?"===r||"#"===r)}function ve(e){document.getElementById(e)?.scrollIntoView()}function ye(e){return pe=pe||document.createElement("a"),pe.href=e,pe.href}function we(){return void 0!==me}function Ee(){return me}let Se=!1,Ie=0,Ce=0;const De=new Map;let Ae=async function(e){Le();const t=Pe();if(t?.hasLocationChangingEventListeners){const n=e.state?._index??0,r=e.state?.userState,o=n-Ie,a=location.href;if(await Oe(-o),!await xe(a,r,!1,t))return;await Oe(o)}await Fe(!0)},Ne=null;const Re={listenForNavigationEvents:function(e,t,n){De.set(e,{rendererId:e,hasLocationChangingEventListeners:!1,locationChanged:t,locationChanging:n}),Se||(Se=!0,window.addEventListener("popstate",Me),Ie=history.state?._index??0)},enableNavigationInterception:function(e){if(void 0!==me&&me!==e)throw new Error("Only one interactive runtime may enable navigation interception at a time.");me=e},setHasLocationChangingListeners:function(e,t){const n=De.get(e);if(!n)throw new Error(`Renderer with ID '${e}' is not listening for navigation events`);n.hasLocationChangingEventListeners=t},endLocationChanging:function(e,t){Ne&&e===Ce&&(Ne(t),Ne=null)},navigateTo:function(e,t){ke(e,t,!0)},refresh:function(e){location.reload()},getBaseURI:()=>document.baseURI,getLocationHref:()=>location.href,scrollToElement:ve};function ke(e,t,n=!1){const r=ye(e);!t.forceLoad&&ge(r)?Be()?Te(r,!1,t.replaceHistoryEntry,t.historyEntryState,n):function(){throw new Error("No enhanced programmatic navigation handler has been attached")}():function(e,t){if(location.href===e){const t=e+"?";history.replaceState(null,"",t),location.replace(e)}else t?location.replace(e):location.href=e}(e,t.replaceHistoryEntry)}async function Te(e,t,n,r=void 0,o=!1){if(Le(),function(e){const t=new URL(e);return""!==t.hash&&location.origin===t.origin&&location.pathname===t.pathname&&location.search===t.search}(e))return _e(e,n,r),void function(e){const t=e.indexOf("#");t!==e.length-1&&ve(e.substring(t+1))}(e);const a=Pe();(o||!a?.hasLocationChangingEventListeners||await xe(e,r,t,a))&&(be=!0,_e(e,n,r),await Fe(t))}function _e(e,t,n=void 0){t?history.replaceState({userState:n,_index:Ie},"",e):(Ie++,history.pushState({userState:n,_index:Ie},"",e))}function Oe(e){return new Promise((t=>{const n=Ae;Ae=()=>{Ae=n,t()},history.go(e)}))}function Le(){Ne&&(Ne(!1),Ne=null)}function xe(e,t,n,r){return new Promise((o=>{Le(),Ce++,Ne=o,r.locationChanging(Ce,e,t,n)}))}async function Fe(e,t){const n=location.href;await Promise.all(Array.from(De,(async([t,r])=>{var o;o=t,S.has(o)&&await r.locationChanged(n,history.state?.userState,e)})))}async function Me(e){Ae&&Be()&&await Ae(e),Ie=history.state?._index??0}function Pe(){const e=Ee();if(void 0!==e)return De.get(e)}function Be(){return we()||!0}const je={focus:function(e,t){if(e instanceof HTMLElement)e.focus({preventScroll:t});else{if(!(e instanceof SVGElement))throw new Error("Unable to focus an invalid element.");if(!e.hasAttribute("tabindex"))throw new Error("Unable to focus an SVG element that does not have a tabindex.");e.focus({preventScroll:t})}},focusBySelector:function(e){const t=document.querySelector(e);t&&(t.hasAttribute("tabindex")||(t.tabIndex=-1),t.focus({preventScroll:!0}))}},He={init:function(e,t,n,r=50){const o=Ue(t);(o||document.documentElement).style.overflowAnchor="none";const a=document.createRange();h(n.parentElement)&&(t.style.display="table-row",n.style.display="table-row");const i=new IntersectionObserver((function(r){r.forEach((r=>{if(!r.isIntersecting)return;a.setStartAfter(t),a.setEndBefore(n);const o=a.getBoundingClientRect().height,i=r.rootBounds?.height;r.target===t?e.invokeMethodAsync("OnSpacerBeforeVisible",r.intersectionRect.top-r.boundingClientRect.top,o,i):r.target===n&&n.offsetHeight>0&&e.invokeMethodAsync("OnSpacerAfterVisible",r.boundingClientRect.bottom-r.intersectionRect.bottom,o,i)}))}),{root:o,rootMargin:`${r}px`});i.observe(t),i.observe(n);const s=d(t),c=d(n),{observersByDotNetObjectId:l,id:u}=$e(e);function d(e){const t={attributes:!0},n=new MutationObserver(((n,r)=>{h(e.parentElement)&&(r.disconnect(),e.style.display="table-row",r.observe(e,t)),i.unobserve(e),i.observe(e)}));return n.observe(e,t),n}function h(e){return null!==e&&(e instanceof HTMLTableElement&&""===e.style.display||"table"===e.style.display||e instanceof HTMLTableSectionElement&&""===e.style.display||"table-row-group"===e.style.display)}l[u]={intersectionObserver:i,mutationObserverBefore:s,mutationObserverAfter:c}},dispose:function(e){const{observersByDotNetObjectId:t,id:n}=$e(e),r=t[n];r&&(r.intersectionObserver.disconnect(),r.mutationObserverBefore.disconnect(),r.mutationObserverAfter.disconnect(),e.dispose(),delete t[n])}},Je=Symbol();function Ue(e){return e&&e!==document.body&&e!==document.documentElement?"visible"!==getComputedStyle(e).overflowY?e:Ue(e.parentElement):null}function $e(e){const t=e._callDispatcher,n=e._id;return t[Je]??={},{observersByDotNetObjectId:t[Je],id:n}}const ze={getAndRemoveExistingTitle:function(){const e=document.head?document.head.getElementsByTagName("title"):[];if(0===e.length)return null;let t=null;for(let n=e.length-1;n>=0;n--){const r=e[n],o=r.previousSibling;o instanceof Comment&&null!==U(o)||(null===t&&(t=r.textContent),r.parentNode?.removeChild(r))}return t}},We={init:function(e,t){t._blazorInputFileNextFileId=0,t.addEventListener("click",(function(){t.value=""})),t.addEventListener("change",(function(){t._blazorFilesById={};const n=Array.prototype.map.call(t.files,(function(e){const n={id:++t._blazorInputFileNextFileId,lastModified:new Date(e.lastModified).toISOString(),name:e.name,size:e.size,contentType:e.type,readPromise:void 0,arrayBuffer:void 0,blob:e};return t._blazorFilesById[n.id]=n,n}));e.invokeMethodAsync("NotifyChange",n)}))},toImageFile:async function(e,t,n,r,o){const a=Ke(e,t),i=await new Promise((function(e){const t=new Image;t.onload=function(){URL.revokeObjectURL(t.src),e(t)},t.onerror=function(){t.onerror=null,URL.revokeObjectURL(t.src)},t.src=URL.createObjectURL(a.blob)})),s=await new Promise((function(e){const t=Math.min(1,r/i.width),a=Math.min(1,o/i.height),s=Math.min(t,a),c=document.createElement("canvas");c.width=Math.round(i.width*s),c.height=Math.round(i.height*s),c.getContext("2d")?.drawImage(i,0,0,c.width,c.height),c.toBlob(e,n)})),c={id:++e._blazorInputFileNextFileId,lastModified:a.lastModified,name:a.name,size:s?.size||0,contentType:n,blob:s||a.blob};return e._blazorFilesById[c.id]=c,c},readFileData:async function(e,t){return Ke(e,t).blob}};function Ke(e,t){const n=e._blazorFilesById[t];if(!n)throw new Error(`There is no file with ID ${t}. The file list may have changed. See https://aka.ms/aspnet/blazor-input-file-multiple-selections.`);return n}const Ve=new Set,Xe={enableNavigationPrompt:function(e){0===Ve.size&&window.addEventListener("beforeunload",Ye),Ve.add(e)},disableNavigationPrompt:function(e){Ve.delete(e),0===Ve.size&&window.removeEventListener("beforeunload",Ye)}};function Ye(e){e.preventDefault(),e.returnValue=!0}const Ge=new Map,qe={navigateTo:function(e,t,n=!1){ke(e,t instanceof Object?t:{forceLoad:t,replaceHistoryEntry:n})},registerCustomEventType:function(e,t){if(!t)throw new Error("The options parameter is required.");if(a.has(e))throw new Error(`The event '${e}' is already registered.`);if(t.browserEventName){const n=i.get(t.browserEventName);n?n.push(e):i.set(t.browserEventName,[e]),s.forEach((n=>n(e,t.browserEventName)))}a.set(e,t)},rootComponents:v,runtime:{},_internal:{navigationManager:Re,domWrapper:je,Virtualize:He,PageTitle:ze,InputFile:We,NavigationLock:Xe,getJSDataStreamChunk:async function(e,t,n){return e instanceof Blob?await async function(e,t,n){const r=e.slice(t,t+n),o=await r.arrayBuffer();return new Uint8Array(o)}(e,t,n):function(e,t,n){return new Uint8Array(e.buffer,e.byteOffset+t,n)}(e,t,n)},attachWebRendererInterop:function(e,n,r,o){if(S.has(e))throw new Error(`Interop methods are already registered for renderer ${e}`);S.set(e,n),r&&o&&Object.keys(r).length>0&&function(e,n,r){if(p)throw new Error("Dynamic root components have already been enabled.");p=e,b=n;for(const[e,o]of Object.entries(r)){const r=t.findJSFunction(e,0);for(const e of o)r(e,n[e])}}(A(e),r,o),C.get(e)?.[0]?.(),function(e){for(const t of I)t(e)}(e)}}};window.Blazor=qe;let Ze=!1;const Qe="function"==typeof TextDecoder?new TextDecoder("utf-8"):null,et=Qe?Qe.decode.bind(Qe):function(e){let t=0;const n=e.length,r=[],o=[];for(;t<n;){const n=e[t++];if(0===n)break;if(128&n){if(192==(224&n)){const o=63&e[t++];r.push((31&n)<<6|o)}else if(224==(240&n)){const o=63&e[t++],a=63&e[t++];r.push((31&n)<<12|o<<6|a)}else if(240==(248&n)){let o=(7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++];o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o)}}else r.push(n);r.length>1024&&(o.push(String.fromCharCode.apply(null,r)),r.length=0)}return o.push(String.fromCharCode.apply(null,r)),o.join("")},tt=Math.pow(2,32),nt=Math.pow(2,21)-1;function rt(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24}function ot(e,t){return e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24>>>0)}function at(e,t){const n=ot(e,t+4);if(n>nt)throw new Error(`Cannot read uint64 with high order part ${n}, because the result would exceed Number.MAX_SAFE_INTEGER.`);return n*tt+ot(e,t)}class it{constructor(e){this.batchData=e;const t=new ut(e);this.arrayRangeReader=new dt(e),this.arrayBuilderSegmentReader=new ht(e),this.diffReader=new st(e),this.editReader=new ct(e,t),this.frameReader=new lt(e,t)}updatedComponents(){return rt(this.batchData,this.batchData.length-20)}referenceFrames(){return rt(this.batchData,this.batchData.length-16)}disposedComponentIds(){return rt(this.batchData,this.batchData.length-12)}disposedEventHandlerIds(){return rt(this.batchData,this.batchData.length-8)}updatedComponentsEntry(e,t){const n=e+4*t;return rt(this.batchData,n)}referenceFramesEntry(e,t){return e+20*t}disposedComponentIdsEntry(e,t){const n=e+4*t;return rt(this.batchData,n)}disposedEventHandlerIdsEntry(e,t){const n=e+8*t;return at(this.batchData,n)}}class st{constructor(e){this.batchDataUint8=e}componentId(e){return rt(this.batchDataUint8,e)}edits(e){return e+4}editsEntry(e,t){return e+16*t}}class ct{constructor(e,t){this.batchDataUint8=e,this.stringReader=t}editType(e){return rt(this.batchDataUint8,e)}siblingIndex(e){return rt(this.batchDataUint8,e+4)}newTreeIndex(e){return rt(this.batchDataUint8,e+8)}moveToSiblingIndex(e){return rt(this.batchDataUint8,e+8)}removedAttributeName(e){const t=rt(this.batchDataUint8,e+12);return this.stringReader.readString(t)}}class lt{constructor(e,t){this.batchDataUint8=e,this.stringReader=t}frameType(e){return rt(this.batchDataUint8,e)}subtreeLength(e){return rt(this.batchDataUint8,e+4)}elementReferenceCaptureId(e){const t=rt(this.batchDataUint8,e+4);return this.stringReader.readString(t)}componentId(e){return rt(this.batchDataUint8,e+8)}elementName(e){const t=rt(this.batchDataUint8,e+8);return this.stringReader.readString(t)}textContent(e){const t=rt(this.batchDataUint8,e+4);return this.stringReader.readString(t)}markupContent(e){const t=rt(this.batchDataUint8,e+4);return this.stringReader.readString(t)}attributeName(e){const t=rt(this.batchDataUint8,e+4);return this.stringReader.readString(t)}attributeValue(e){const t=rt(this.batchDataUint8,e+8);return this.stringReader.readString(t)}attributeEventHandlerId(e){return at(this.batchDataUint8,e+12)}}class ut{constructor(e){this.batchDataUint8=e,this.stringTableStartIndex=rt(e,e.length-4)}readString(e){if(-1===e)return null;{const n=rt(this.batchDataUint8,this.stringTableStartIndex+4*e),r=function(e,t){let n=0,r=0;for(let o=0;o<4;o++){const a=e[t+o];if(n|=(127&a)<<r,a<128)break;r+=7}return n}(this.batchDataUint8,n),o=n+((t=r)<128?1:t<16384?2:t<2097152?3:4),a=new Uint8Array(this.batchDataUint8.buffer,this.batchDataUint8.byteOffset+o,r);return et(a)}var t}}class dt{constructor(e){this.batchDataUint8=e}count(e){return rt(this.batchDataUint8,e)}values(e){return e+4}}class ht{constructor(e){this.batchDataUint8=e}offset(e){return 0}count(e){return rt(this.batchDataUint8,e)}values(e){return e+4}}const ft="__bwv:";let mt=!1;function pt(e,t){Et("OnRenderCompleted",e,t)}function bt(e,t,n,r,o){Et("BeginInvokeDotNet",e?e.toString():null,t,n,r||0,o)}function gt(e,t,n){Et("EndInvokeJS",e,t,n)}function vt(e,t){const n=function(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=String.fromCharCode(e[n]);return btoa(t.join(""))}(t);Et("ReceiveByteArrayFromJS",e,n)}function yt(e,t,n){return Et("OnLocationChanged",e,t,n),Promise.resolve()}function wt(e,t,n,r){return Et("OnLocationChanging",e,t,n,r),Promise.resolve()}function Et(e,...t){const n=function(e,t){return mt?null:`${ft}${JSON.stringify([e,...t])}`}(e,t);n&&window.external.sendMessage(n)}var St,It;function Ct(t,n){const r=Dt(n);e.dispatcher.receiveByteArray(t,r)}function Dt(e){const t=atob(e),n=t.length,r=new Uint8Array(n);for(let e=0;e<n;e++)r[e]=t.charCodeAt(e);return r}!function(e){e[e.Default=0]="Default",e[e.Server=1]="Server",e[e.WebAssembly=2]="WebAssembly",e[e.WebView=3]="WebView"}(St||(St={})),function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"}(It||(It={}));class At{constructor(e=!0,t,n,r=0){this.singleRuntime=e,this.logger=t,this.webRendererId=r,this.afterStartedCallbacks=[],n&&this.afterStartedCallbacks.push(...n)}async importInitializersAsync(e,t){await Promise.all(e.map((e=>async function(e,n){const r=function(e){const t=document.baseURI;return t.endsWith("/")?`${t}${e}`:`${t}/${e}`}(n),o=await import(r);if(void 0!==o){if(e.singleRuntime){const{beforeStart:n,afterStarted:r,beforeWebAssemblyStart:i,afterWebAssemblyStarted:s,beforeServerStart:c,afterServerStarted:l}=o;let u=n;e.webRendererId===St.Server&&c&&(u=c),e.webRendererId===St.WebAssembly&&i&&(u=i);let d=r;return e.webRendererId===St.Server&&l&&(d=l),e.webRendererId===St.WebAssembly&&s&&(d=s),a(e,u,d,t)}return function(e,t,n){const o=n[0],{beforeStart:i,afterStarted:s,beforeWebStart:c,afterWebStarted:l,beforeWebAssemblyStart:u,afterWebAssemblyStarted:d,beforeServerStart:h,afterServerStarted:f}=t,m=!(c||l||u||d||h||f||!i&&!s),p=m&&o.enableClassicInitializers;if(m&&!o.enableClassicInitializers)e.logger?.log(It.Warning,`Initializer '${r}' will be ignored because multiple runtimes are available. Use 'before(Web|WebAssembly|Server)Start' and 'after(Web|WebAssembly|Server)Started' instead.`);else if(p)return a(e,i,s,n);if(function(e){e.webAssembly?e.webAssembly.initializers||(e.webAssembly.initializers={beforeStart:[],afterStarted:[]}):e.webAssembly={initializers:{beforeStart:[],afterStarted:[]}},e.circuit?e.circuit.initializers||(e.circuit.initializers={beforeStart:[],afterStarted:[]}):e.circuit={initializers:{beforeStart:[],afterStarted:[]}}}(o),u&&o.webAssembly.initializers.beforeStart.push(u),d&&o.webAssembly.initializers.afterStarted.push(d),h&&o.circuit.initializers.beforeStart.push(h),f&&o.circuit.initializers.afterStarted.push(f),l&&e.afterStartedCallbacks.push(l),c)return c(o)}(e,o,t)}function a(e,t,n,r){if(n&&e.afterStartedCallbacks.push(n),t)return t(...r)}}(this,e))))}async invokeAfterStartedCallbacks(e){const t=(n=this.webRendererId,C.get(n)?.[1]);var n;t&&await t,await Promise.all(this.afterStartedCallbacks.map((t=>t(e))))}}let Nt=!1;async function Rt(){if(Nt)throw new Error("Blazor has already started.");Nt=!0,e.dispatcher=t.attachDispatcher({beginInvokeDotNetFromJS:bt,endInvokeJSFromDotNet:gt,sendByteArray:vt});const n=await async function(){const e=await fetch("_framework/blazor.modules.json",{method:"GET",credentials:"include",cache:"no-cache"}),t=await e.json(),n=new At;return await n.importInitializersAsync(t,[]),n}();(function(){const t={AttachToDocument:(e,t)=>{!function(e,t,n){const r="::before";let o=!1;if(e.endsWith("::after"))e=e.slice(0,-7),o=!0;else if(e.endsWith(r))throw new Error(`The '${r}' selector is not supported.`);const a=function(e){const t=m.get(e);if(t)return m.delete(e),t}(e)||document.querySelector(e);if(!a)throw new Error(`Could not find any element matching selector '${e}'.`);!function(e,t,n,r){let o=fe[e];o||(o=new le(e),fe[e]=o),o.attachRootComponentToLogicalElement(n,t,r)}(n,P(a,!0),t,o)}(t,e,St.WebView)},RenderBatch:(e,t)=>{try{const n=Dt(t);(function(e,t){const n=fe[e];if(!n)throw new Error(`There is no browser renderer with ID ${e}.`);const r=t.arrayRangeReader,o=t.updatedComponents(),a=r.values(o),i=r.count(o),s=t.referenceFrames(),c=r.values(s),l=t.diffReader;for(let e=0;e<i;e++){const r=t.updatedComponentsEntry(a,e),o=l.componentId(r),i=l.edits(r);n.updateComponent(t,o,i,c)}const u=t.disposedComponentIds(),d=r.values(u),h=r.count(u);for(let e=0;e<h;e++){const r=t.disposedComponentIdsEntry(d,e);n.disposeComponent(r)}const f=t.disposedEventHandlerIds(),m=r.values(f),p=r.count(f);for(let e=0;e<p;e++){const r=t.disposedEventHandlerIdsEntry(m,e);n.disposeEventHandler(r)}be&&(be=!1,window.scrollTo&&window.scrollTo(0,0))})(St.WebView,new it(n)),pt(e,null)}catch(t){pt(e,t.toString())}},NotifyUnhandledException:(e,t)=>{mt=!0,console.error(`${e}\n${t}`),function(){const e=document.querySelector("#blazor-error-ui");e&&(e.style.display="block"),Ze||(Ze=!0,document.querySelectorAll("#blazor-error-ui .reload").forEach((e=>{e.onclick=function(e){location.reload(),e.preventDefault()}})),document.querySelectorAll("#blazor-error-ui .dismiss").forEach((e=>{e.onclick=function(e){const t=document.querySelector("#blazor-error-ui");t&&(t.style.display="none"),e.preventDefault()}})))}()},BeginInvokeJS:e.dispatcher.beginInvokeJSFromDotNet.bind(e.dispatcher),EndInvokeDotNet:e.dispatcher.endInvokeDotNetFromJS.bind(e.dispatcher),SendByteArrayToJS:Ct,Navigate:Re.navigateTo,Refresh:Re.refresh,SetHasLocationChangingListeners:e=>{Re.setHasLocationChangingListeners(St.WebView,e)},EndLocationChanging:Re.endLocationChanging};window.external.receiveMessage((e=>{const n=function(e){if(mt||!e||!e.startsWith(ft))return null;const t=e.substring(6),[n,...r]=JSON.parse(t);return{messageType:n,args:r}}(e);if(n){if(!Object.prototype.hasOwnProperty.call(t,n.messageType))throw new Error(`Unsupported IPC message type '${n.messageType}'`);t[n.messageType].apply(null,n.args)}}))})(),qe._internal.receiveWebViewDotNetDataStream=kt,Re.enableNavigationInterception(St.WebView),Re.listenForNavigationEvents(St.WebView,yt,wt),Et("AttachPage",Re.getBaseURI(),Re.getLocationHref()),await n.invokeAfterStartedCallbacks(qe)}function kt(t,n,r,o){!function(e,t,n,r,o){let a=Ge.get(t);if(!a){const n=new ReadableStream({start(e){Ge.set(t,e),a=e}});e.supplyDotNetStream(t,n)}o?(a.error(o),Ge.delete(t)):0===r?(a.close(),Ge.delete(t)):a.enqueue(n.length===r?n:n.subarray(0,r))}(e.dispatcher,t,n,r,o)}e.dispatcher=void 0,qe.start=Rt,window.DotNet=t,document&&document.currentScript&&"false"!==document.currentScript.getAttribute("autostart")&&Rt()}({});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmxhem9yLndlYnZpZXcuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL0pTSW50ZXJvcC9NaWNyb3NvZnQuSlNJbnRlcm9wLkpTL3NyYy9kaXN0L3NyYy9NaWNyb3NvZnQuSlNJbnRlcm9wLmpzIiwiLi4vLi4vc3JjL1JlbmRlcmluZy9SZW5kZXJCYXRjaC9SZW5kZXJCYXRjaC50cyIsIi4uLy4uL3NyYy9SZW5kZXJpbmcvRXZlbnRzL0V2ZW50RmllbGRJbmZvLnRzIiwiLi4vLi4vc3JjL1JlbmRlcmluZy9FdmVudHMvRXZlbnRUeXBlcy50cyIsIi4uLy4uL3NyYy9SZW5kZXJpbmcvSlNSb290Q29tcG9uZW50cy50cyIsIi4uLy4uL3NyYy9SZW5kZXJpbmcvV2ViUmVuZGVyZXJJbnRlcm9wTWV0aG9kcy50cyIsIi4uLy4uL3NyYy9SZW5kZXJpbmcvRXZlbnRzL0V2ZW50RGVsZWdhdG9yLnRzIiwiLi4vLi4vc3JjL1JlbmRlcmluZy9Mb2dpY2FsRWxlbWVudHMudHMiLCIuLi8uLi9zcmMvUmVuZGVyaW5nL0VsZW1lbnRSZWZlcmVuY2VDYXB0dXJlLnRzIiwiLi4vLi4vc3JjL1JlbmRlcmluZy9Eb21TcGVjaWFsUHJvcGVydHlVdGlsLnRzIiwiLi4vLi4vc3JjL1JlbmRlcmluZy9Ccm93c2VyUmVuZGVyZXIudHMiLCIuLi8uLi9zcmMvU2VydmljZXMvTmF2aWdhdGlvbk1hbmFnZXIudHMiLCIuLi8uLi9zcmMvU2VydmljZXMvTmF2aWdhdGlvblV0aWxzLnRzIiwiLi4vLi4vc3JjL1JlbmRlcmluZy9SZW5kZXJlci50cyIsIi4uLy4uL3NyYy9Eb21XcmFwcGVyLnRzIiwiLi4vLi4vc3JjL1ZpcnR1YWxpemUudHMiLCIuLi8uLi9zcmMvUGFnZVRpdGxlLnRzIiwiLi4vLi4vc3JjL0lucHV0RmlsZS50cyIsIi4uLy4uL3NyYy9OYXZpZ2F0aW9uTG9jay50cyIsIi4uLy4uL3NyYy9TdHJlYW1pbmdJbnRlcm9wLnRzIiwiLi4vLi4vc3JjL0dsb2JhbEV4cG9ydHMudHMiLCIuLi8uLi9zcmMvQm9vdEVycm9ycy50cyIsIi4uLy4uL3NyYy9VdGY4RGVjb2Rlci50cyIsIi4uLy4uL3NyYy9CaW5hcnlEZWNvZGVyLnRzIiwiLi4vLi4vc3JjL1JlbmRlcmluZy9SZW5kZXJCYXRjaC9PdXRPZlByb2Nlc3NSZW5kZXJCYXRjaC50cyIsIi4uLy4uL3NyYy9QbGF0Zm9ybS9XZWJWaWV3L1dlYlZpZXdJcGNDb21tb24udHMiLCIuLi8uLi9zcmMvUGxhdGZvcm0vV2ViVmlldy9XZWJWaWV3SXBjU2VuZGVyLnRzIiwiLi4vLi4vc3JjL1JlbmRlcmluZy9XZWJSZW5kZXJlcklkLnRzIiwiLi4vLi4vc3JjL1BsYXRmb3JtL0xvZ2dpbmcvTG9nZ2VyLnRzIiwiLi4vLi4vc3JjL1BsYXRmb3JtL1dlYlZpZXcvV2ViVmlld0lwY1JlY2VpdmVyLnRzIiwiLi4vLi4vc3JjL0pTSW5pdGlhbGl6ZXJzL0pTSW5pdGlhbGl6ZXJzLnRzIiwiLi4vLi4vc3JjL0Jvb3QuV2ViVmlldy50cyIsIi4uLy4uL3NyYy9KU0luaXRpYWxpemVycy9KU0luaXRpYWxpemVycy5XZWJWaWV3LnRzIiwiLi4vLi4vc3JjL0Jvb3RDb21tb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbi8vIFRoaXMgaXMgYSBzaW5nbGUtZmlsZSBzZWxmLWNvbnRhaW5lZCBtb2R1bGUgdG8gYXZvaWQgdGhlIG5lZWQgZm9yIGEgV2VicGFjayBidWlsZFxuZXhwb3J0IHZhciBEb3ROZXQ7XG4oZnVuY3Rpb24gKERvdE5ldCkge1xuICAgIGNvbnN0IGpzb25SZXZpdmVycyA9IFtdO1xuICAgIGNvbnN0IGpzT2JqZWN0SWRLZXkgPSBcIl9fanNPYmplY3RJZFwiO1xuICAgIGNvbnN0IGRvdE5ldE9iamVjdFJlZktleSA9IFwiX19kb3ROZXRPYmplY3RcIjtcbiAgICBjb25zdCBieXRlQXJyYXlSZWZLZXkgPSBcIl9fYnl0ZVtdXCI7XG4gICAgY29uc3QgZG90TmV0U3RyZWFtUmVmS2V5ID0gXCJfX2RvdE5ldFN0cmVhbVwiO1xuICAgIGNvbnN0IGpzU3RyZWFtUmVmZXJlbmNlTGVuZ3RoS2V5ID0gXCJfX2pzU3RyZWFtUmVmZXJlbmNlTGVuZ3RoXCI7XG4gICAgLy8gSWYgdW5kZWZpbmVkLCBubyBkaXNwYXRjaGVyIGhhcyBiZWVuIGF0dGFjaGVkIHlldC5cbiAgICAvLyBJZiBudWxsLCB0aGlzIG1lYW5zIG1vcmUgdGhhbiBvbmUgZGlzcGF0Y2hlciB3YXMgYXR0YWNoZWQsIHNvIG5vIGRlZmF1bHQgY2FuIGJlIGRldGVybWluZWQuXG4gICAgLy8gT3RoZXJ3aXNlLCB0aGVyZSB3YXMgb25seSBvbmUgZGlzcGF0Y2hlciByZWdpc3RlcmVkLiBXZSBrZWVwIHRyYWNrIG9mIHRoaXMgaW5zdGFuY2UgdG8ga2VlcCBsZWdhY3kgQVBJcyB3b3JraW5nLlxuICAgIGxldCBkZWZhdWx0Q2FsbERpc3BhdGNoZXI7XG4gICAgLy8gUHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBcImN1cnJlbnRcIiBjYWxsIGRpc3BhdGNoZXIgd2l0aG91dCBoYXZpbmcgdG8gZmxvdyBpdCB0aHJvdWdoIG5lc3RlZCBmdW5jdGlvbiBjYWxscy5cbiAgICBsZXQgY3VycmVudENhbGxEaXNwYXRjaGVyO1xuICAgIGNsYXNzIEpTT2JqZWN0IHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgY29uc3RydWN0b3IoX2pzT2JqZWN0KSB7XG4gICAgICAgICAgICB0aGlzLl9qc09iamVjdCA9IF9qc09iamVjdDtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlZEZ1bmN0aW9ucyA9IG5ldyBNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5kRnVuY3Rpb24oaWRlbnRpZmllcikge1xuICAgICAgICAgICAgY29uc3QgY2FjaGVkRnVuY3Rpb24gPSB0aGlzLl9jYWNoZWRGdW5jdGlvbnMuZ2V0KGlkZW50aWZpZXIpO1xuICAgICAgICAgICAgaWYgKGNhY2hlZEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlZEZ1bmN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuX2pzT2JqZWN0O1xuICAgICAgICAgICAgbGV0IGxhc3RTZWdtZW50VmFsdWU7XG4gICAgICAgICAgICBpZGVudGlmaWVyLnNwbGl0KFwiLlwiKS5mb3JFYWNoKHNlZ21lbnQgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzZWdtZW50IGluIHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0U2VnbWVudFZhbHVlID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHRbc2VnbWVudF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBmaW5kICcke2lkZW50aWZpZXJ9JyAoJyR7c2VnbWVudH0nIHdhcyB1bmRlZmluZWQpLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmJpbmQobGFzdFNlZ21lbnRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVkRnVuY3Rpb25zLnNldChpZGVudGlmaWVyLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSB2YWx1ZSAnJHtpZGVudGlmaWVyfScgaXMgbm90IGEgZnVuY3Rpb24uYCk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0V3JhcHBlZE9iamVjdCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9qc09iamVjdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB3aW5kb3dKU09iamVjdElkID0gMDtcbiAgICBjb25zdCBjYWNoZWRKU09iamVjdHNCeUlkID0ge1xuICAgICAgICBbd2luZG93SlNPYmplY3RJZF06IG5ldyBKU09iamVjdCh3aW5kb3cpXG4gICAgfTtcbiAgICBjYWNoZWRKU09iamVjdHNCeUlkW3dpbmRvd0pTT2JqZWN0SWRdLl9jYWNoZWRGdW5jdGlvbnMuc2V0KFwiaW1wb3J0XCIsICh1cmwpID0+IHtcbiAgICAgICAgLy8gSW4gbW9zdCBjYXNlcyBkZXZlbG9wZXJzIHdpbGwgd2FudCB0byByZXNvbHZlIGR5bmFtaWMgaW1wb3J0cyByZWxhdGl2ZSB0byB0aGUgYmFzZSBIUkVGLlxuICAgICAgICAvLyBIb3dldmVyIHNpbmNlIHdlJ3JlIHRoZSBvbmUgY2FsbGluZyB0aGUgaW1wb3J0IGtleXdvcmQsIHRoZXkgd291bGQgYmUgcmVzb2x2ZWQgcmVsYXRpdmUgdG9cbiAgICAgICAgLy8gdGhpcyBmcmFtZXdvcmsgYnVuZGxlIFVSTC4gRml4IHRoaXMgYnkgcHJvdmlkaW5nIGFuIGFic29sdXRlIFVSTC5cbiAgICAgICAgaWYgKHR5cGVvZiB1cmwgPT09IFwic3RyaW5nXCIgJiYgdXJsLnN0YXJ0c1dpdGgoXCIuL1wiKSkge1xuICAgICAgICAgICAgdXJsID0gbmV3IFVSTCh1cmwuc3Vic3RyaW5nKDIpLCBkb2N1bWVudC5iYXNlVVJJKS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbXBvcnQoLyogd2VicGFja0lnbm9yZTogdHJ1ZSAqLyB1cmwpO1xuICAgIH0pO1xuICAgIGxldCBuZXh0SnNPYmplY3RJZCA9IDE7IC8vIFN0YXJ0IGF0IDEgYmVjYXVzZSB6ZXJvIGlzIHJlc2VydmVkIGZvciBcIndpbmRvd1wiXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIC5ORVQgY2FsbCBkaXNwYXRjaGVyIHRvIHVzZSBmb3IgaGFuZGxpbmcgaW52b2NhdGlvbnMgYmV0d2VlbiBKYXZhU2NyaXB0IGFuZCBhIC5ORVQgcnVudGltZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkb3ROZXRDYWxsRGlzcGF0Y2hlciBBbiBvYmplY3QgdGhhdCBjYW4gZGlzcGF0Y2ggY2FsbHMgZnJvbSBKYXZhU2NyaXB0IHRvIGEgLk5FVCBydW50aW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGF0dGFjaERpc3BhdGNoZXIoZG90TmV0Q2FsbERpc3BhdGNoZXIpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IENhbGxEaXNwYXRjaGVyKGRvdE5ldENhbGxEaXNwYXRjaGVyKTtcbiAgICAgICAgaWYgKGRlZmF1bHRDYWxsRGlzcGF0Y2hlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBUaGlzIHdhcyB0aGUgZmlyc3QgZGlzcGF0Y2hlciByZWdpc3RlcmVkLCBzbyBpdCBiZWNvbWVzIHRoZSBkZWZhdWx0LiBUaGlzIGV4aXN0cyBwdXJlbHkgZm9yXG4gICAgICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbiAgICAgICAgICAgIGRlZmF1bHRDYWxsRGlzcGF0Y2hlciA9IHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZWZhdWx0Q2FsbERpc3BhdGNoZXIpIHtcbiAgICAgICAgICAgIC8vIFRoZXJlIGlzIGFscmVhZHkgYSBkZWZhdWx0IGRpc3BhdGNoZXIuIE5vdyB0aGF0IHRoZXJlIGFyZSBtdWx0aXBsZSB0byBjaG9vc2UgZnJvbSwgdGhlcmUgY2FuXG4gICAgICAgICAgICAvLyBiZSBubyBhY2NlcHRhYmxlIGRlZmF1bHQsIHNvIHdlIG51bGxpZnkgdGhlIGRlZmF1bHQgZGlzcGF0Y2hlci5cbiAgICAgICAgICAgIGRlZmF1bHRDYWxsRGlzcGF0Y2hlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgRG90TmV0LmF0dGFjaERpc3BhdGNoZXIgPSBhdHRhY2hEaXNwYXRjaGVyO1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBKU09OIHJldml2ZXIgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIHVzZWQgd2hlbiBwYXJzaW5nIGFyZ3VtZW50cyByZWNlaXZlZCBmcm9tIC5ORVQuXG4gICAgICogQHBhcmFtIHJldml2ZXIgVGhlIHJldml2ZXIgdG8gYWRkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGF0dGFjaFJldml2ZXIocmV2aXZlcikge1xuICAgICAgICBqc29uUmV2aXZlcnMucHVzaChyZXZpdmVyKTtcbiAgICB9XG4gICAgRG90TmV0LmF0dGFjaFJldml2ZXIgPSBhdHRhY2hSZXZpdmVyO1xuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIHNwZWNpZmllZCAuTkVUIHB1YmxpYyBtZXRob2Qgc3luY2hyb25vdXNseS4gTm90IGFsbCBob3N0aW5nIHNjZW5hcmlvcyBzdXBwb3J0XG4gICAgICogc3luY2hyb25vdXMgaW52b2NhdGlvbiwgc28gaWYgcG9zc2libGUgdXNlIGludm9rZU1ldGhvZEFzeW5jIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgRG90TmV0T2JqZWN0IHRvIGludm9rZSBpbnN0YW5jZSBtZXRob2RzIGluc3RlYWQuXG4gICAgICogQHBhcmFtIGFzc2VtYmx5TmFtZSBUaGUgc2hvcnQgbmFtZSAod2l0aG91dCBrZXkvdmVyc2lvbiBvciAuZGxsIGV4dGVuc2lvbikgb2YgdGhlIC5ORVQgYXNzZW1ibHkgY29udGFpbmluZyB0aGUgbWV0aG9kLlxuICAgICAqIEBwYXJhbSBtZXRob2RJZGVudGlmaWVyIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLiBUaGUgbWV0aG9kIG11c3QgaGF2ZSBhIFtKU0ludm9rYWJsZV0gYXR0cmlidXRlIHNwZWNpZnlpbmcgdGhpcyBpZGVudGlmaWVyLlxuICAgICAqIEBwYXJhbSBhcmdzIEFyZ3VtZW50cyB0byBwYXNzIHRvIHRoZSBtZXRob2QsIGVhY2ggb2Ygd2hpY2ggbXVzdCBiZSBKU09OLXNlcmlhbGl6YWJsZS5cbiAgICAgKiBAcmV0dXJucyBUaGUgcmVzdWx0IG9mIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW52b2tlTWV0aG9kKGFzc2VtYmx5TmFtZSwgbWV0aG9kSWRlbnRpZmllciwgLi4uYXJncykge1xuICAgICAgICBjb25zdCBkaXNwYXRjaGVyID0gZ2V0RGVmYXVsdENhbGxEaXNwYXRjaGVyKCk7XG4gICAgICAgIHJldHVybiBkaXNwYXRjaGVyLmludm9rZURvdE5ldFN0YXRpY01ldGhvZChhc3NlbWJseU5hbWUsIG1ldGhvZElkZW50aWZpZXIsIC4uLmFyZ3MpO1xuICAgIH1cbiAgICBEb3ROZXQuaW52b2tlTWV0aG9kID0gaW52b2tlTWV0aG9kO1xuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIHNwZWNpZmllZCAuTkVUIHB1YmxpYyBtZXRob2QgYXN5bmNocm9ub3VzbHkuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgRG90TmV0T2JqZWN0IHRvIGludm9rZSBpbnN0YW5jZSBtZXRob2RzIGluc3RlYWQuXG4gICAgICogQHBhcmFtIGFzc2VtYmx5TmFtZSBUaGUgc2hvcnQgbmFtZSAod2l0aG91dCBrZXkvdmVyc2lvbiBvciAuZGxsIGV4dGVuc2lvbikgb2YgdGhlIC5ORVQgYXNzZW1ibHkgY29udGFpbmluZyB0aGUgbWV0aG9kLlxuICAgICAqIEBwYXJhbSBtZXRob2RJZGVudGlmaWVyIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLiBUaGUgbWV0aG9kIG11c3QgaGF2ZSBhIFtKU0ludm9rYWJsZV0gYXR0cmlidXRlIHNwZWNpZnlpbmcgdGhpcyBpZGVudGlmaWVyLlxuICAgICAqIEBwYXJhbSBhcmdzIEFyZ3VtZW50cyB0byBwYXNzIHRvIHRoZSBtZXRob2QsIGVhY2ggb2Ygd2hpY2ggbXVzdCBiZSBKU09OLXNlcmlhbGl6YWJsZS5cbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgcmVwcmVzZW50aW5nIHRoZSByZXN1bHQgb2YgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnZva2VNZXRob2RBc3luYyhhc3NlbWJseU5hbWUsIG1ldGhvZElkZW50aWZpZXIsIC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgZGlzcGF0Y2hlciA9IGdldERlZmF1bHRDYWxsRGlzcGF0Y2hlcigpO1xuICAgICAgICByZXR1cm4gZGlzcGF0Y2hlci5pbnZva2VEb3ROZXRTdGF0aWNNZXRob2RBc3luYyhhc3NlbWJseU5hbWUsIG1ldGhvZElkZW50aWZpZXIsIC4uLmFyZ3MpO1xuICAgIH1cbiAgICBEb3ROZXQuaW52b2tlTWV0aG9kQXN5bmMgPSBpbnZva2VNZXRob2RBc3luYztcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgSmF2YVNjcmlwdCBvYmplY3QgcmVmZXJlbmNlIHRoYXQgY2FuIGJlIHBhc3NlZCB0byAuTkVUIHZpYSBpbnRlcm9wIGNhbGxzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGpzT2JqZWN0IFRoZSBKYXZhU2NyaXB0IE9iamVjdCB1c2VkIHRvIGNyZWF0ZSB0aGUgSmF2YVNjcmlwdCBvYmplY3QgcmVmZXJlbmNlLlxuICAgICAqIEByZXR1cm5zIFRoZSBKYXZhU2NyaXB0IG9iamVjdCByZWZlcmVuY2UgKHRoaXMgd2lsbCBiZSB0aGUgc2FtZSBpbnN0YW5jZSBhcyB0aGUgZ2l2ZW4gb2JqZWN0KS5cbiAgICAgKiBAdGhyb3dzIEVycm9yIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBub3QgYW4gT2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUpTT2JqZWN0UmVmZXJlbmNlKGpzT2JqZWN0KSB7XG4gICAgICAgIGlmIChqc09iamVjdCAmJiB0eXBlb2YganNPYmplY3QgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGNhY2hlZEpTT2JqZWN0c0J5SWRbbmV4dEpzT2JqZWN0SWRdID0gbmV3IEpTT2JqZWN0KGpzT2JqZWN0KTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICBbanNPYmplY3RJZEtleV06IG5leHRKc09iamVjdElkXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbmV4dEpzT2JqZWN0SWQrKztcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY3JlYXRlIGEgSlNPYmplY3RSZWZlcmVuY2UgZnJvbSB0aGUgdmFsdWUgJyR7anNPYmplY3R9Jy5gKTtcbiAgICB9XG4gICAgRG90TmV0LmNyZWF0ZUpTT2JqZWN0UmVmZXJlbmNlID0gY3JlYXRlSlNPYmplY3RSZWZlcmVuY2U7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIEphdmFTY3JpcHQgZGF0YSByZWZlcmVuY2UgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIC5ORVQgdmlhIGludGVyb3AgY2FsbHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RyZWFtUmVmZXJlbmNlIFRoZSBBcnJheUJ1ZmZlclZpZXcgb3IgQmxvYiB1c2VkIHRvIGNyZWF0ZSB0aGUgSmF2YVNjcmlwdCBzdHJlYW0gcmVmZXJlbmNlLlxuICAgICAqIEByZXR1cm5zIFRoZSBKYXZhU2NyaXB0IGRhdGEgcmVmZXJlbmNlICh0aGlzIHdpbGwgYmUgdGhlIHNhbWUgaW5zdGFuY2UgYXMgdGhlIGdpdmVuIG9iamVjdCkuXG4gICAgICogQHRocm93cyBFcnJvciBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgbm90IGFuIE9iamVjdCBvciBkb2Vzbid0IGhhdmUgYSB2YWxpZCBieXRlTGVuZ3RoLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUpTU3RyZWFtUmVmZXJlbmNlKHN0cmVhbVJlZmVyZW5jZSkge1xuICAgICAgICBsZXQgbGVuZ3RoID0gLTE7XG4gICAgICAgIC8vIElmIHdlJ3JlIGdpdmVuIGEgcmF3IEFycmF5IEJ1ZmZlciwgd2UgaW50ZXJwcmV0IGl0IGFzIGEgYFVpbnQ4QXJyYXlgIGFzXG4gICAgICAgIC8vIEFycmF5QnVmZmVycycgYXJlbid0IGRpcmVjdGx5IHJlYWRhYmxlLlxuICAgICAgICBpZiAoc3RyZWFtUmVmZXJlbmNlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgIHN0cmVhbVJlZmVyZW5jZSA9IG5ldyBVaW50OEFycmF5KHN0cmVhbVJlZmVyZW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0cmVhbVJlZmVyZW5jZSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgICAgIGxlbmd0aCA9IHN0cmVhbVJlZmVyZW5jZS5zaXplO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0cmVhbVJlZmVyZW5jZS5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICAgICAgaWYgKHN0cmVhbVJlZmVyZW5jZS5ieXRlTGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjcmVhdGUgYSBKU1N0cmVhbVJlZmVyZW5jZSBmcm9tIHRoZSB2YWx1ZSAnJHtzdHJlYW1SZWZlcmVuY2V9JyBhcyBpdCBkb2Vzbid0IGhhdmUgYSBieXRlTGVuZ3RoLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGVuZ3RoID0gc3RyZWFtUmVmZXJlbmNlLmJ5dGVMZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdXBwbGllZCB2YWx1ZSBpcyBub3QgYSB0eXBlZCBhcnJheSBvciBibG9iLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgICBbanNTdHJlYW1SZWZlcmVuY2VMZW5ndGhLZXldOiBsZW5ndGhcbiAgICAgICAgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGpzT2JqZWN0UmVmZXJlbmNlID0gY3JlYXRlSlNPYmplY3RSZWZlcmVuY2Uoc3RyZWFtUmVmZXJlbmNlKTtcbiAgICAgICAgICAgIHJlc3VsdFtqc09iamVjdElkS2V5XSA9IGpzT2JqZWN0UmVmZXJlbmNlW2pzT2JqZWN0SWRLZXldO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY3JlYXRlIGEgSlNTdHJlYW1SZWZlcmVuY2UgZnJvbSB0aGUgdmFsdWUgJyR7c3RyZWFtUmVmZXJlbmNlfScuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgRG90TmV0LmNyZWF0ZUpTU3RyZWFtUmVmZXJlbmNlID0gY3JlYXRlSlNTdHJlYW1SZWZlcmVuY2U7XG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgdGhlIGdpdmVuIEphdmFTY3JpcHQgb2JqZWN0IHJlZmVyZW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBqc09iamVjdFJlZmVyZW5jZSBUaGUgSmF2YVNjcmlwdCBPYmplY3QgcmVmZXJlbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRpc3Bvc2VKU09iamVjdFJlZmVyZW5jZShqc09iamVjdFJlZmVyZW5jZSkge1xuICAgICAgICBjb25zdCBpZCA9IGpzT2JqZWN0UmVmZXJlbmNlICYmIGpzT2JqZWN0UmVmZXJlbmNlW2pzT2JqZWN0SWRLZXldO1xuICAgICAgICBpZiAodHlwZW9mIGlkID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICBkaXNwb3NlSlNPYmplY3RSZWZlcmVuY2VCeUlkKGlkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBEb3ROZXQuZGlzcG9zZUpTT2JqZWN0UmVmZXJlbmNlID0gZGlzcG9zZUpTT2JqZWN0UmVmZXJlbmNlO1xuICAgIGZ1bmN0aW9uIHBhcnNlSnNvbldpdGhSZXZpdmVycyhjYWxsRGlzcGF0Y2hlciwganNvbikge1xuICAgICAgICBjdXJyZW50Q2FsbERpc3BhdGNoZXIgPSBjYWxsRGlzcGF0Y2hlcjtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0ganNvbiA/IEpTT04ucGFyc2UoanNvbiwgKGtleSwgaW5pdGlhbFZhbHVlKSA9PiB7XG4gICAgICAgICAgICAvLyBJbnZva2UgZWFjaCByZXZpdmVyIGluIG9yZGVyLCBwYXNzaW5nIHRoZSBvdXRwdXQgZnJvbSB0aGUgcHJldmlvdXMgcmV2aXZlcixcbiAgICAgICAgICAgIC8vIHNvIHRoYXQgZWFjaCBvbmUgZ2V0cyBhIGNoYW5jZSB0byB0cmFuc2Zvcm0gdGhlIHZhbHVlXG4gICAgICAgICAgICByZXR1cm4ganNvblJldml2ZXJzLnJlZHVjZSgobGF0ZXN0VmFsdWUsIHJldml2ZXIpID0+IHJldml2ZXIoa2V5LCBsYXRlc3RWYWx1ZSksIGluaXRpYWxWYWx1ZSk7XG4gICAgICAgIH0pIDogbnVsbDtcbiAgICAgICAgY3VycmVudENhbGxEaXNwYXRjaGVyID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXREZWZhdWx0Q2FsbERpc3BhdGNoZXIoKSB7XG4gICAgICAgIGlmIChkZWZhdWx0Q2FsbERpc3BhdGNoZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gY2FsbCBkaXNwYXRjaGVyIGhhcyBiZWVuIHNldC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGVmYXVsdENhbGxEaXNwYXRjaGVyID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGVyZSBhcmUgbXVsdGlwbGUgLk5FVCBydW50aW1lcyBwcmVzZW50LCBzbyBhIGRlZmF1bHQgZGlzcGF0Y2hlciBjb3VsZCBub3QgYmUgcmVzb2x2ZWQuIFVzZSBEb3ROZXRPYmplY3QgdG8gaW52b2tlIC5ORVQgaW5zdGFuY2UgbWV0aG9kcy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdENhbGxEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgdGhlIHR5cGUgb2YgcmVzdWx0IGV4cGVjdGVkIGZyb20gYSBKUyBpbnRlcm9wIGNhbGwuXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvd1xuICAgIGxldCBKU0NhbGxSZXN1bHRUeXBlO1xuICAgIChmdW5jdGlvbiAoSlNDYWxsUmVzdWx0VHlwZSkge1xuICAgICAgICBKU0NhbGxSZXN1bHRUeXBlW0pTQ2FsbFJlc3VsdFR5cGVbXCJEZWZhdWx0XCJdID0gMF0gPSBcIkRlZmF1bHRcIjtcbiAgICAgICAgSlNDYWxsUmVzdWx0VHlwZVtKU0NhbGxSZXN1bHRUeXBlW1wiSlNPYmplY3RSZWZlcmVuY2VcIl0gPSAxXSA9IFwiSlNPYmplY3RSZWZlcmVuY2VcIjtcbiAgICAgICAgSlNDYWxsUmVzdWx0VHlwZVtKU0NhbGxSZXN1bHRUeXBlW1wiSlNTdHJlYW1SZWZlcmVuY2VcIl0gPSAyXSA9IFwiSlNTdHJlYW1SZWZlcmVuY2VcIjtcbiAgICAgICAgSlNDYWxsUmVzdWx0VHlwZVtKU0NhbGxSZXN1bHRUeXBlW1wiSlNWb2lkUmVzdWx0XCJdID0gM10gPSBcIkpTVm9pZFJlc3VsdFwiO1xuICAgIH0pKEpTQ2FsbFJlc3VsdFR5cGUgPSBEb3ROZXQuSlNDYWxsUmVzdWx0VHlwZSB8fCAoRG90TmV0LkpTQ2FsbFJlc3VsdFR5cGUgPSB7fSkpO1xuICAgIGNsYXNzIENhbGxEaXNwYXRjaGVyIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5LWZ1bmN0aW9uXG4gICAgICAgIGNvbnN0cnVjdG9yKF9kb3ROZXRDYWxsRGlzcGF0Y2hlcikge1xuICAgICAgICAgICAgdGhpcy5fZG90TmV0Q2FsbERpc3BhdGNoZXIgPSBfZG90TmV0Q2FsbERpc3BhdGNoZXI7XG4gICAgICAgICAgICB0aGlzLl9ieXRlQXJyYXlzVG9CZVJldml2ZWQgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nRG90TmV0VG9KU1N0cmVhbXMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nQXN5bmNDYWxscyA9IHt9O1xuICAgICAgICAgICAgdGhpcy5fbmV4dEFzeW5jQ2FsbElkID0gMTsgLy8gU3RhcnQgYXQgMSBiZWNhdXNlIHplcm8gc2lnbmFscyBcIm5vIHJlc3BvbnNlIG5lZWRlZFwiXG4gICAgICAgIH1cbiAgICAgICAgZ2V0RG90TmV0Q2FsbERpc3BhdGNoZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZG90TmV0Q2FsbERpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgICAgaW52b2tlSlNGcm9tRG90TmV0KGlkZW50aWZpZXIsIGFyZ3NKc29uLCByZXN1bHRUeXBlLCB0YXJnZXRJbnN0YW5jZUlkKSB7XG4gICAgICAgICAgICBjb25zdCBhcmdzID0gcGFyc2VKc29uV2l0aFJldml2ZXJzKHRoaXMsIGFyZ3NKc29uKTtcbiAgICAgICAgICAgIGNvbnN0IGpzRnVuY3Rpb24gPSBmaW5kSlNGdW5jdGlvbihpZGVudGlmaWVyLCB0YXJnZXRJbnN0YW5jZUlkKTtcbiAgICAgICAgICAgIGNvbnN0IHJldHVyblZhbHVlID0ganNGdW5jdGlvbiguLi4oYXJncyB8fCBbXSkpO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlSlNDYWxsUmVzdWx0KHJldHVyblZhbHVlLCByZXN1bHRUeXBlKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQgPT09IG51bGwgfHwgcmVzdWx0ID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICA6IHN0cmluZ2lmeUFyZ3ModGhpcywgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBiZWdpbkludm9rZUpTRnJvbURvdE5ldChhc3luY0hhbmRsZSwgaWRlbnRpZmllciwgYXJnc0pzb24sIHJlc3VsdFR5cGUsIHRhcmdldEluc3RhbmNlSWQpIHtcbiAgICAgICAgICAgIC8vIENvZXJjZSBzeW5jaHJvbm91cyBmdW5jdGlvbnMgaW50byBhc3luYyBvbmVzLCBwbHVzIHRyZWF0XG4gICAgICAgICAgICAvLyBzeW5jaHJvbm91cyBleGNlcHRpb25zIHRoZSBzYW1lIGFzIGFzeW5jIG9uZXNcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcmdzID0gcGFyc2VKc29uV2l0aFJldml2ZXJzKHRoaXMsIGFyZ3NKc29uKTtcbiAgICAgICAgICAgICAgICBjb25zdCBqc0Z1bmN0aW9uID0gZmluZEpTRnVuY3Rpb24oaWRlbnRpZmllciwgdGFyZ2V0SW5zdGFuY2VJZCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3luY2hyb25vdXNSZXN1bHRPclByb21pc2UgPSBqc0Z1bmN0aW9uKC4uLihhcmdzIHx8IFtdKSk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShzeW5jaHJvbm91c1Jlc3VsdE9yUHJvbWlzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIFdlIG9ubHkgbGlzdGVuIGZvciBhIHJlc3VsdCBpZiB0aGUgY2FsbGVyIHdhbnRzIHRvIGJlIG5vdGlmaWVkIGFib3V0IGl0XG4gICAgICAgICAgICBpZiAoYXN5bmNIYW5kbGUpIHtcbiAgICAgICAgICAgICAgICAvLyBPbiBjb21wbGV0aW9uLCBkaXNwYXRjaCByZXN1bHQgYmFjayB0byAuTkVUXG4gICAgICAgICAgICAgICAgLy8gTm90IHVzaW5nIFwiYXdhaXRcIiBiZWNhdXNlIGl0IGNvZGVnZW5zIGEgbG90IG9mIGJvaWxlcnBsYXRlXG4gICAgICAgICAgICAgICAgcHJvbWlzZS5cbiAgICAgICAgICAgICAgICAgICAgdGhlbihyZXN1bHQgPT4gc3RyaW5naWZ5QXJncyh0aGlzLCBbXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jSGFuZGxlLFxuICAgICAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVKU0NhbGxSZXN1bHQocmVzdWx0LCByZXN1bHRUeXBlKVxuICAgICAgICAgICAgICAgIF0pKS5cbiAgICAgICAgICAgICAgICAgICAgdGhlbihyZXN1bHQgPT4gdGhpcy5fZG90TmV0Q2FsbERpc3BhdGNoZXIuZW5kSW52b2tlSlNGcm9tRG90TmV0KGFzeW5jSGFuZGxlLCB0cnVlLCByZXN1bHQpLCBlcnJvciA9PiB0aGlzLl9kb3ROZXRDYWxsRGlzcGF0Y2hlci5lbmRJbnZva2VKU0Zyb21Eb3ROZXQoYXN5bmNIYW5kbGUsIGZhbHNlLCBKU09OLnN0cmluZ2lmeShbXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jSGFuZGxlLFxuICAgICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0RXJyb3IoZXJyb3IpXG4gICAgICAgICAgICAgICAgXSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbmRJbnZva2VEb3ROZXRGcm9tSlMoYXN5bmNDYWxsSWQsIHN1Y2Nlc3MsIHJlc3VsdEpzb25PckV4Y2VwdGlvbk1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdE9yRXJyb3IgPSBzdWNjZXNzXG4gICAgICAgICAgICAgICAgPyBwYXJzZUpzb25XaXRoUmV2aXZlcnModGhpcywgcmVzdWx0SnNvbk9yRXhjZXB0aW9uTWVzc2FnZSlcbiAgICAgICAgICAgICAgICA6IG5ldyBFcnJvcihyZXN1bHRKc29uT3JFeGNlcHRpb25NZXNzYWdlKTtcbiAgICAgICAgICAgIHRoaXMuY29tcGxldGVQZW5kaW5nQ2FsbChwYXJzZUludChhc3luY0NhbGxJZCwgMTApLCBzdWNjZXNzLCByZXN1bHRPckVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBpbnZva2VEb3ROZXRTdGF0aWNNZXRob2QoYXNzZW1ibHlOYW1lLCBtZXRob2RJZGVudGlmaWVyLCAuLi5hcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbnZva2VEb3ROZXRNZXRob2QoYXNzZW1ibHlOYW1lLCBtZXRob2RJZGVudGlmaWVyLCBudWxsLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBpbnZva2VEb3ROZXRTdGF0aWNNZXRob2RBc3luYyhhc3NlbWJseU5hbWUsIG1ldGhvZElkZW50aWZpZXIsIC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmludm9rZURvdE5ldE1ldGhvZEFzeW5jKGFzc2VtYmx5TmFtZSwgbWV0aG9kSWRlbnRpZmllciwgbnVsbCwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgaW52b2tlRG90TmV0TWV0aG9kKGFzc2VtYmx5TmFtZSwgbWV0aG9kSWRlbnRpZmllciwgZG90TmV0T2JqZWN0SWQsIGFyZ3MpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kb3ROZXRDYWxsRGlzcGF0Y2hlci5pbnZva2VEb3ROZXRGcm9tSlMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcmdzSnNvbiA9IHN0cmluZ2lmeUFyZ3ModGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0SnNvbiA9IHRoaXMuX2RvdE5ldENhbGxEaXNwYXRjaGVyLmludm9rZURvdE5ldEZyb21KUyhhc3NlbWJseU5hbWUsIG1ldGhvZElkZW50aWZpZXIsIGRvdE5ldE9iamVjdElkLCBhcmdzSnNvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdEpzb24gPyBwYXJzZUpzb25XaXRoUmV2aXZlcnModGhpcywgcmVzdWx0SnNvbikgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGN1cnJlbnQgZGlzcGF0Y2hlciBkb2VzIG5vdCBzdXBwb3J0IHN5bmNocm9ub3VzIGNhbGxzIGZyb20gSlMgdG8gLk5FVC4gVXNlIGludm9rZURvdE5ldE1ldGhvZEFzeW5jIGluc3RlYWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGludm9rZURvdE5ldE1ldGhvZEFzeW5jKGFzc2VtYmx5TmFtZSwgbWV0aG9kSWRlbnRpZmllciwgZG90TmV0T2JqZWN0SWQsIGFyZ3MpIHtcbiAgICAgICAgICAgIGlmIChhc3NlbWJseU5hbWUgJiYgZG90TmV0T2JqZWN0SWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZvciBpbnN0YW5jZSBtZXRob2QgY2FsbHMsIGFzc2VtYmx5TmFtZSBzaG91bGQgYmUgbnVsbC4gUmVjZWl2ZWQgJyR7YXNzZW1ibHlOYW1lfScuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhc3luY0NhbGxJZCA9IHRoaXMuX25leHRBc3luY0NhbGxJZCsrO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0UHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nQXN5bmNDYWxsc1thc3luY0NhbGxJZF0gPSB7IHJlc29sdmUsIHJlamVjdCB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3NKc29uID0gc3RyaW5naWZ5QXJncyh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kb3ROZXRDYWxsRGlzcGF0Y2hlci5iZWdpbkludm9rZURvdE5ldEZyb21KUyhhc3luY0NhbGxJZCwgYXNzZW1ibHlOYW1lLCBtZXRob2RJZGVudGlmaWVyLCBkb3ROZXRPYmplY3RJZCwgYXJnc0pzb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgLy8gU3luY2hyb25vdXMgZmFpbHVyZVxuICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGVQZW5kaW5nQ2FsbChhc3luY0NhbGxJZCwgZmFsc2UsIGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHRQcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIHJlY2VpdmVCeXRlQXJyYXkoaWQsIGRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuX2J5dGVBcnJheXNUb0JlUmV2aXZlZC5zZXQoaWQsIGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHByb2Nlc3NCeXRlQXJyYXkoaWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2J5dGVBcnJheXNUb0JlUmV2aXZlZC5nZXQoaWQpO1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2J5dGVBcnJheXNUb0JlUmV2aXZlZC5kZWxldGUoaWQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBzdXBwbHlEb3ROZXRTdHJlYW0oc3RyZWFtSWQsIHN0cmVhbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdEb3ROZXRUb0pTU3RyZWFtcy5oYXMoc3RyZWFtSWQpKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHJlY2VpdmVyIGlzIGFscmVhZHkgd2FpdGluZywgc28gd2UgY2FuIHJlc29sdmUgdGhlIHByb21pc2Ugbm93IGFuZCBzdG9wIHRyYWNraW5nIHRoaXNcbiAgICAgICAgICAgICAgICBjb25zdCBwZW5kaW5nU3RyZWFtID0gdGhpcy5fcGVuZGluZ0RvdE5ldFRvSlNTdHJlYW1zLmdldChzdHJlYW1JZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ0RvdE5ldFRvSlNTdHJlYW1zLmRlbGV0ZShzdHJlYW1JZCk7XG4gICAgICAgICAgICAgICAgcGVuZGluZ1N0cmVhbS5yZXNvbHZlKHN0cmVhbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgcmVjZWl2ZXIgaGFzbid0IHN0YXJ0ZWQgd2FpdGluZyB5ZXQsIHNvIHRyYWNrIGEgcHJlLWNvbXBsZXRlZCBlbnRyeSBpdCBjYW4gYXR0YWNoIHRvIGxhdGVyXG4gICAgICAgICAgICAgICAgY29uc3QgcGVuZGluZ1N0cmVhbSA9IG5ldyBQZW5kaW5nU3RyZWFtKCk7XG4gICAgICAgICAgICAgICAgcGVuZGluZ1N0cmVhbS5yZXNvbHZlKHN0cmVhbSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ0RvdE5ldFRvSlNTdHJlYW1zLnNldChzdHJlYW1JZCwgcGVuZGluZ1N0cmVhbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2V0RG90TmV0U3RyZWFtUHJvbWlzZShzdHJlYW1JZCkge1xuICAgICAgICAgICAgLy8gV2UgbWlnaHQgYWxyZWFkeSBoYXZlIHN0YXJ0ZWQgcmVjZWl2aW5nIHRoZSBzdHJlYW0sIG9yIG1heWJlIGl0IHdpbGwgY29tZSBsYXRlci5cbiAgICAgICAgICAgIC8vIFdlIGhhdmUgdG8gaGFuZGxlIGJvdGggcG9zc2libGUgb3JkZXJpbmdzLCBidXQgd2UgY2FuIGNvdW50IG9uIGl0IGNvbWluZyBldmVudHVhbGx5IGJlY2F1c2VcbiAgICAgICAgICAgIC8vIGl0J3Mgbm90IHNvbWV0aGluZyB0aGUgZGV2ZWxvcGVyIGdldHMgdG8gY29udHJvbCwgYW5kIGl0IHdvdWxkIGJlIGFuIGVycm9yIGlmIGl0IGRvZXNuJ3QuXG4gICAgICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdEb3ROZXRUb0pTU3RyZWFtcy5oYXMoc3RyZWFtSWQpKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UndmUgYWxyZWFkeSBzdGFydGVkIHJlY2VpdmluZyB0aGUgc3RyZWFtLCBzbyBubyBsb25nZXIgbmVlZCB0byB0cmFjayBpdCBhcyBwZW5kaW5nXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5fcGVuZGluZ0RvdE5ldFRvSlNTdHJlYW1zLmdldChzdHJlYW1JZCkuc3RyZWFtUHJvbWlzZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nRG90TmV0VG9KU1N0cmVhbXMuZGVsZXRlKHN0cmVhbUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdlIGhhdmVuJ3Qgc3RhcnRlZCByZWNlaXZpbmcgaXQgeWV0LCBzbyBhZGQgYW4gZW50cnkgdG8gdHJhY2sgaXQgYXMgcGVuZGluZ1xuICAgICAgICAgICAgICAgIGNvbnN0IHBlbmRpbmdTdHJlYW0gPSBuZXcgUGVuZGluZ1N0cmVhbSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdEb3ROZXRUb0pTU3RyZWFtcy5zZXQoc3RyZWFtSWQsIHBlbmRpbmdTdHJlYW0pO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHBlbmRpbmdTdHJlYW0uc3RyZWFtUHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY29tcGxldGVQZW5kaW5nQ2FsbChhc3luY0NhbGxJZCwgc3VjY2VzcywgcmVzdWx0T3JFcnJvcikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9wZW5kaW5nQXN5bmNDYWxscy5oYXNPd25Qcm9wZXJ0eShhc3luY0NhbGxJZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZXJlIGlzIG5vIHBlbmRpbmcgYXN5bmMgY2FsbCB3aXRoIElEICR7YXN5bmNDYWxsSWR9LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYXN5bmNDYWxsID0gdGhpcy5fcGVuZGluZ0FzeW5jQ2FsbHNbYXN5bmNDYWxsSWRdO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3BlbmRpbmdBc3luY0NhbGxzW2FzeW5jQ2FsbElkXTtcbiAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgYXN5bmNDYWxsLnJlc29sdmUocmVzdWx0T3JFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhc3luY0NhbGwucmVqZWN0KHJlc3VsdE9yRXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZvcm1hdEVycm9yKGVycm9yKSB7XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7ZXJyb3IubWVzc2FnZX1cXG4ke2Vycm9yLnN0YWNrfWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVycm9yID8gZXJyb3IudG9TdHJpbmcoKSA6IFwibnVsbFwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kSlNGdW5jdGlvbihpZGVudGlmaWVyLCB0YXJnZXRJbnN0YW5jZUlkKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldEluc3RhbmNlID0gY2FjaGVkSlNPYmplY3RzQnlJZFt0YXJnZXRJbnN0YW5jZUlkXTtcbiAgICAgICAgaWYgKHRhcmdldEluc3RhbmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0SW5zdGFuY2UuZmluZEZ1bmN0aW9uKGlkZW50aWZpZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSlMgb2JqZWN0IGluc3RhbmNlIHdpdGggSUQgJHt0YXJnZXRJbnN0YW5jZUlkfSBkb2VzIG5vdCBleGlzdCAoaGFzIGl0IGJlZW4gZGlzcG9zZWQ/KS5gKTtcbiAgICB9XG4gICAgRG90TmV0LmZpbmRKU0Z1bmN0aW9uID0gZmluZEpTRnVuY3Rpb247XG4gICAgZnVuY3Rpb24gZGlzcG9zZUpTT2JqZWN0UmVmZXJlbmNlQnlJZChpZCkge1xuICAgICAgICBkZWxldGUgY2FjaGVkSlNPYmplY3RzQnlJZFtpZF07XG4gICAgfVxuICAgIERvdE5ldC5kaXNwb3NlSlNPYmplY3RSZWZlcmVuY2VCeUlkID0gZGlzcG9zZUpTT2JqZWN0UmVmZXJlbmNlQnlJZDtcbiAgICBjbGFzcyBEb3ROZXRPYmplY3Qge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHktZnVuY3Rpb25cbiAgICAgICAgY29uc3RydWN0b3IoX2lkLCBfY2FsbERpc3BhdGNoZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2lkID0gX2lkO1xuICAgICAgICAgICAgdGhpcy5fY2FsbERpc3BhdGNoZXIgPSBfY2FsbERpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgICAgaW52b2tlTWV0aG9kKG1ldGhvZElkZW50aWZpZXIsIC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWxsRGlzcGF0Y2hlci5pbnZva2VEb3ROZXRNZXRob2QobnVsbCwgbWV0aG9kSWRlbnRpZmllciwgdGhpcy5faWQsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGludm9rZU1ldGhvZEFzeW5jKG1ldGhvZElkZW50aWZpZXIsIC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWxsRGlzcGF0Y2hlci5pbnZva2VEb3ROZXRNZXRob2RBc3luYyhudWxsLCBtZXRob2RJZGVudGlmaWVyLCB0aGlzLl9pZCwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgZGlzcG9zZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLl9jYWxsRGlzcGF0Y2hlci5pbnZva2VEb3ROZXRNZXRob2RBc3luYyhudWxsLCBcIl9fRGlzcG9zZVwiLCB0aGlzLl9pZCwgbnVsbCk7XG4gICAgICAgICAgICBwcm9taXNlLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IpKTtcbiAgICAgICAgfVxuICAgICAgICBzZXJpYWxpemVBc0FyZygpIHtcbiAgICAgICAgICAgIHJldHVybiB7IFtkb3ROZXRPYmplY3RSZWZLZXldOiB0aGlzLl9pZCB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIERvdE5ldC5Eb3ROZXRPYmplY3QgPSBEb3ROZXRPYmplY3Q7XG4gICAgYXR0YWNoUmV2aXZlcihmdW5jdGlvbiByZXZpdmVSZWZlcmVuY2Uoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoZG90TmV0T2JqZWN0UmVmS2V5KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRG90TmV0T2JqZWN0KHZhbHVlW2RvdE5ldE9iamVjdFJlZktleV0sIGN1cnJlbnRDYWxsRGlzcGF0Y2hlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShqc09iamVjdElkS2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gdmFsdWVbanNPYmplY3RJZEtleV07XG4gICAgICAgICAgICAgICAgY29uc3QganNPYmplY3QgPSBjYWNoZWRKU09iamVjdHNCeUlkW2lkXTtcbiAgICAgICAgICAgICAgICBpZiAoanNPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpzT2JqZWN0LmdldFdyYXBwZWRPYmplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBKUyBvYmplY3QgaW5zdGFuY2Ugd2l0aCBJZCAnJHtpZH0nIGRvZXMgbm90IGV4aXN0LiBJdCBtYXkgaGF2ZSBiZWVuIGRpc3Bvc2VkLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoYnl0ZUFycmF5UmVmS2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdmFsdWVbYnl0ZUFycmF5UmVmS2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBieXRlQXJyYXkgPSBjdXJyZW50Q2FsbERpc3BhdGNoZXIucHJvY2Vzc0J5dGVBcnJheShpbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKGJ5dGVBcnJheSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQnl0ZSBhcnJheSBpbmRleCAnJHtpbmRleH0nIGRvZXMgbm90IGV4aXN0LmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYnl0ZUFycmF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoZG90TmV0U3RyZWFtUmVmS2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0cmVhbUlkID0gdmFsdWVbZG90TmV0U3RyZWFtUmVmS2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW1Qcm9taXNlID0gY3VycmVudENhbGxEaXNwYXRjaGVyLmdldERvdE5ldFN0cmVhbVByb21pc2Uoc3RyZWFtSWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRG90TmV0U3RyZWFtKHN0cmVhbVByb21pc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFVucmVjb2duaXplZCAtIGxldCBhbm90aGVyIHJldml2ZXIgaGFuZGxlIGl0XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9KTtcbiAgICBjbGFzcyBEb3ROZXRTdHJlYW0ge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHktZnVuY3Rpb25cbiAgICAgICAgY29uc3RydWN0b3IoX3N0cmVhbVByb21pc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0cmVhbVByb21pc2UgPSBfc3RyZWFtUHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogU3VwcGxpZXMgYSByZWFkYWJsZSBzdHJlYW0gb2YgZGF0YSBiZWluZyBzZW50IGZyb20gLk5FVC5cbiAgICAgICAgICovXG4gICAgICAgIHN0cmVhbSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdHJlYW1Qcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdXBwbGllcyBhIGFycmF5IGJ1ZmZlciBvZiBkYXRhIGJlaW5nIHNlbnQgZnJvbSAuTkVULlxuICAgICAgICAgKiBOb3RlIHRoZXJlIGlzIGEgSmF2YVNjcmlwdCBsaW1pdCBvbiB0aGUgc2l6ZSBvZiB0aGUgQXJyYXlCdWZmZXIgZXF1YWwgdG8gYXBwcm94aW1hdGVseSAyR0IuXG4gICAgICAgICAqL1xuICAgICAgICBhc3luYyBhcnJheUJ1ZmZlcigpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoYXdhaXQgdGhpcy5zdHJlYW0oKSkuYXJyYXlCdWZmZXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGFzcyBQZW5kaW5nU3RyZWFtIHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICB0aGlzLnN0cmVhbVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlamVjdCA9IHJlamVjdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUpTQ2FsbFJlc3VsdChyZXR1cm5WYWx1ZSwgcmVzdWx0VHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHJlc3VsdFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgSlNDYWxsUmVzdWx0VHlwZS5EZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICAgICAgICAgIGNhc2UgSlNDYWxsUmVzdWx0VHlwZS5KU09iamVjdFJlZmVyZW5jZTpcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlSlNPYmplY3RSZWZlcmVuY2UocmV0dXJuVmFsdWUpO1xuICAgICAgICAgICAgY2FzZSBKU0NhbGxSZXN1bHRUeXBlLkpTU3RyZWFtUmVmZXJlbmNlOlxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVKU1N0cmVhbVJlZmVyZW5jZShyZXR1cm5WYWx1ZSk7XG4gICAgICAgICAgICBjYXNlIEpTQ2FsbFJlc3VsdFR5cGUuSlNWb2lkUmVzdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgSlMgY2FsbCByZXN1bHQgdHlwZSAnJHtyZXN1bHRUeXBlfScuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IG5leHRCeXRlQXJyYXlJbmRleCA9IDA7XG4gICAgZnVuY3Rpb24gc3RyaW5naWZ5QXJncyhjYWxsRGlzcGF0Y2hlciwgYXJncykge1xuICAgICAgICBuZXh0Qnl0ZUFycmF5SW5kZXggPSAwO1xuICAgICAgICBjdXJyZW50Q2FsbERpc3BhdGNoZXIgPSBjYWxsRGlzcGF0Y2hlcjtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5zdHJpbmdpZnkoYXJncywgYXJnUmVwbGFjZXIpO1xuICAgICAgICBjdXJyZW50Q2FsbERpc3BhdGNoZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFyZ1JlcGxhY2VyKGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRG90TmV0T2JqZWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUuc2VyaWFsaXplQXNBcmcoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRvdE5ldENhbGxEaXNwYXRjaGVyID0gY3VycmVudENhbGxEaXNwYXRjaGVyLmdldERvdE5ldENhbGxEaXNwYXRjaGVyKCk7XG4gICAgICAgICAgICBkb3ROZXRDYWxsRGlzcGF0Y2hlci5zZW5kQnl0ZUFycmF5KG5leHRCeXRlQXJyYXlJbmRleCwgdmFsdWUpO1xuICAgICAgICAgICAgY29uc3QganNvblZhbHVlID0geyBbYnl0ZUFycmF5UmVmS2V5XTogbmV4dEJ5dGVBcnJheUluZGV4IH07XG4gICAgICAgICAgICBuZXh0Qnl0ZUFycmF5SW5kZXgrKztcbiAgICAgICAgICAgIHJldHVybiBqc29uVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn0pKERvdE5ldCB8fCAoRG90TmV0ID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1pY3Jvc29mdC5KU0ludGVyb3AuanMubWFwIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJCYXRjaCB7XHJcbiAgdXBkYXRlZENvbXBvbmVudHMoKTogQXJyYXlSYW5nZTxSZW5kZXJUcmVlRGlmZj47XHJcbiAgcmVmZXJlbmNlRnJhbWVzKCk6IEFycmF5UmFuZ2U8UmVuZGVyVHJlZUZyYW1lPjtcclxuICBkaXNwb3NlZENvbXBvbmVudElkcygpOiBBcnJheVJhbmdlPG51bWJlcj47XHJcbiAgZGlzcG9zZWRFdmVudEhhbmRsZXJJZHMoKTogQXJyYXlSYW5nZTxudW1iZXI+O1xyXG5cclxuICB1cGRhdGVkQ29tcG9uZW50c0VudHJ5KHZhbHVlczogQXJyYXlWYWx1ZXM8UmVuZGVyVHJlZURpZmY+LCBpbmRleDogbnVtYmVyKTogUmVuZGVyVHJlZURpZmY7XHJcbiAgcmVmZXJlbmNlRnJhbWVzRW50cnkodmFsdWVzOiBBcnJheVZhbHVlczxSZW5kZXJUcmVlRnJhbWU+LCBpbmRleDogbnVtYmVyKTogUmVuZGVyVHJlZUZyYW1lO1xyXG4gIGRpc3Bvc2VkQ29tcG9uZW50SWRzRW50cnkodmFsdWVzOiBBcnJheVZhbHVlczxudW1iZXI+LCBpbmRleDogbnVtYmVyKTogbnVtYmVyO1xyXG4gIGRpc3Bvc2VkRXZlbnRIYW5kbGVySWRzRW50cnkodmFsdWVzOiBBcnJheVZhbHVlczxudW1iZXI+LCBpbmRleDogbnVtYmVyKTogbnVtYmVyO1xyXG5cclxuICBkaWZmUmVhZGVyOiBSZW5kZXJUcmVlRGlmZlJlYWRlcjtcclxuICBlZGl0UmVhZGVyOiBSZW5kZXJUcmVlRWRpdFJlYWRlcjtcclxuICBmcmFtZVJlYWRlcjogUmVuZGVyVHJlZUZyYW1lUmVhZGVyO1xyXG4gIGFycmF5UmFuZ2VSZWFkZXI6IEFycmF5UmFuZ2VSZWFkZXI7XHJcbiAgYXJyYXlCdWlsZGVyU2VnbWVudFJlYWRlcjogQXJyYXlCdWlsZGVyU2VnbWVudFJlYWRlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBcnJheVJhbmdlUmVhZGVyIHtcclxuICBjb3VudDxUPihhcnJheVJhbmdlOiBBcnJheVJhbmdlPFQ+KTogbnVtYmVyO1xyXG4gIHZhbHVlczxUPihhcnJheVJhbmdlOiBBcnJheVJhbmdlPFQ+KTogQXJyYXlWYWx1ZXM8VD47XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQXJyYXlCdWlsZGVyU2VnbWVudFJlYWRlciB7XHJcbiAgb2Zmc2V0PFQ+KGFycmF5QnVpbGRlclNlZ21lbnQ6IEFycmF5QnVpbGRlclNlZ21lbnQ8VD4pOiBudW1iZXI7XHJcbiAgY291bnQ8VD4oYXJyYXlCdWlsZGVyU2VnbWVudDogQXJyYXlCdWlsZGVyU2VnbWVudDxUPik6IG51bWJlcjtcclxuICB2YWx1ZXM8VD4oYXJyYXlCdWlsZGVyU2VnbWVudDogQXJyYXlCdWlsZGVyU2VnbWVudDxUPik6IEFycmF5VmFsdWVzPFQ+O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlclRyZWVEaWZmUmVhZGVyIHtcclxuICBjb21wb25lbnRJZChkaWZmOiBSZW5kZXJUcmVlRGlmZik6IG51bWJlcjtcclxuICBlZGl0cyhkaWZmOiBSZW5kZXJUcmVlRGlmZik6IEFycmF5QnVpbGRlclNlZ21lbnQ8UmVuZGVyVHJlZUVkaXQ+O1xyXG4gIGVkaXRzRW50cnkodmFsdWVzOiBBcnJheVZhbHVlczxSZW5kZXJUcmVlRWRpdD4sIGluZGV4OiBudW1iZXIpOiBSZW5kZXJUcmVlRWRpdDtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJUcmVlRWRpdFJlYWRlciB7XHJcbiAgZWRpdFR5cGUoZWRpdDogUmVuZGVyVHJlZUVkaXQpOiBFZGl0VHlwZTtcclxuICBzaWJsaW5nSW5kZXgoZWRpdDogUmVuZGVyVHJlZUVkaXQpOiBudW1iZXI7XHJcbiAgbmV3VHJlZUluZGV4KGVkaXQ6IFJlbmRlclRyZWVFZGl0KTogbnVtYmVyO1xyXG4gIG1vdmVUb1NpYmxpbmdJbmRleChlZGl0OiBSZW5kZXJUcmVlRWRpdCk6IG51bWJlcjtcclxuICByZW1vdmVkQXR0cmlidXRlTmFtZShlZGl0OiBSZW5kZXJUcmVlRWRpdCk6IHN0cmluZyB8IG51bGw7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyVHJlZUZyYW1lUmVhZGVyIHtcclxuICBmcmFtZVR5cGUoZnJhbWU6IFJlbmRlclRyZWVGcmFtZSk6IEZyYW1lVHlwZTtcclxuICBzdWJ0cmVlTGVuZ3RoKGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpOiBudW1iZXI7XHJcbiAgZWxlbWVudFJlZmVyZW5jZUNhcHR1cmVJZChmcmFtZTogUmVuZGVyVHJlZUZyYW1lKTogc3RyaW5nIHwgbnVsbDtcclxuICBjb21wb25lbnRJZChmcmFtZTogUmVuZGVyVHJlZUZyYW1lKTogbnVtYmVyO1xyXG4gIGVsZW1lbnROYW1lKGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpOiBzdHJpbmcgfCBudWxsO1xyXG4gIHRleHRDb250ZW50KGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpOiBzdHJpbmcgfCBudWxsO1xyXG4gIG1hcmt1cENvbnRlbnQoZnJhbWU6IFJlbmRlclRyZWVGcmFtZSk6IHN0cmluZztcclxuICBhdHRyaWJ1dGVOYW1lKGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpOiBzdHJpbmcgfCBudWxsO1xyXG4gIGF0dHJpYnV0ZVZhbHVlKGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpOiBzdHJpbmcgfCBudWxsO1xyXG4gIGF0dHJpYnV0ZUV2ZW50SGFuZGxlcklkKGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQXJyYXlSYW5nZTxUPiB7IEFycmF5UmFuZ2VfX0RPX05PVF9JTVBMRU1FTlQ6IHVua25vd24gfVxyXG5leHBvcnQgaW50ZXJmYWNlIEFycmF5QnVpbGRlclNlZ21lbnQ8VD4geyBBcnJheUJ1aWxkZXJTZWdtZW50X19ET19OT1RfSU1QTEVNRU5UOiB1bmtub3duIH1cclxuZXhwb3J0IGludGVyZmFjZSBBcnJheVZhbHVlczxUPiB7IEFycmF5VmFsdWVzX19ET19OT1RfSU1QTEVNRU5UOiB1bmtub3duIH1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyVHJlZURpZmYgeyBSZW5kZXJUcmVlRGlmZl9fRE9fTk9UX0lNUExFTUVOVDogdW5rbm93biB9XHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyVHJlZUZyYW1lIHsgUmVuZGVyVHJlZUZyYW1lX19ET19OT1RfSU1QTEVNRU5UOiB1bmtub3duIH1cclxuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJUcmVlRWRpdCB7IFJlbmRlclRyZWVFZGl0X19ET19OT1RfSU1QTEVNRU5UOiB1bmtub3duIH1cclxuXHJcbmV4cG9ydCBlbnVtIEVkaXRUeXBlIHtcclxuICAvLyBUaGUgdmFsdWVzIG11c3QgYmUga2VwdCBpbiBzeW5jIHdpdGggdGhlIC5ORVQgZXF1aXZhbGVudCBpbiBSZW5kZXJUcmVlRWRpdFR5cGUuY3NcclxuICBwcmVwZW5kRnJhbWUgPSAxLFxyXG4gIHJlbW92ZUZyYW1lID0gMixcclxuICBzZXRBdHRyaWJ1dGUgPSAzLFxyXG4gIHJlbW92ZUF0dHJpYnV0ZSA9IDQsXHJcbiAgdXBkYXRlVGV4dCA9IDUsXHJcbiAgc3RlcEluID0gNixcclxuICBzdGVwT3V0ID0gNyxcclxuICB1cGRhdGVNYXJrdXAgPSA4LFxyXG4gIHBlcm11dGF0aW9uTGlzdEVudHJ5ID0gOSxcclxuICBwZXJtdXRhdGlvbkxpc3RFbmQgPSAxMCxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gRnJhbWVUeXBlIHtcclxuICAvLyBUaGUgdmFsdWVzIG11c3QgYmUga2VwdCBpbiBzeW5jIHdpdGggdGhlIC5ORVQgZXF1aXZhbGVudCBpbiBSZW5kZXJUcmVlRnJhbWVUeXBlLmNzXHJcbiAgZWxlbWVudCA9IDEsXHJcbiAgdGV4dCA9IDIsXHJcbiAgYXR0cmlidXRlID0gMyxcclxuICBjb21wb25lbnQgPSA0LFxyXG4gIHJlZ2lvbiA9IDUsXHJcbiAgZWxlbWVudFJlZmVyZW5jZUNhcHR1cmUgPSA2LFxyXG4gIG1hcmt1cCA9IDgsXHJcbiAgbmFtZWRFdmVudCA9IDEwLFxyXG59XHJcbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuXHJcbmV4cG9ydCBjbGFzcyBFdmVudEZpZWxkSW5mbyB7XHJcbiAgY29uc3RydWN0b3IocHVibGljIGNvbXBvbmVudElkOiBudW1iZXIsIHB1YmxpYyBmaWVsZFZhbHVlOiBzdHJpbmcgfCBib29sZWFuKSB7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIGZyb21FdmVudChjb21wb25lbnRJZDogbnVtYmVyLCBldmVudDogRXZlbnQpOiBFdmVudEZpZWxkSW5mbyB8IG51bGwge1xyXG4gICAgY29uc3QgZWxlbSA9IGV2ZW50LnRhcmdldDtcclxuICAgIGlmIChlbGVtIGluc3RhbmNlb2YgRWxlbWVudCkge1xyXG4gICAgICBjb25zdCBmaWVsZERhdGEgPSBnZXRGb3JtRmllbGREYXRhKGVsZW0pO1xyXG4gICAgICBpZiAoZmllbGREYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFdmVudEZpZWxkSW5mbyhjb21wb25lbnRJZCwgZmllbGREYXRhLnZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFRoaXMgZXZlbnQgaXNuJ3QgaGFwcGVuaW5nIG9uIGEgZm9ybSBmaWVsZCB0aGF0IHdlIGNhbiByZXZlcnNlLW1hcCBiYWNrIHRvIHNvbWUgaW5jb21pbmcgYXR0cmlidXRlXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEZvcm1GaWVsZERhdGEoZWxlbTogRWxlbWVudCkge1xyXG4gIC8vIFRoZSBsb2dpYyBpbiBoZXJlIHNob3VsZCBiZSB0aGUgaW52ZXJzZSBvZiB0aGUgbG9naWMgaW4gQnJvd3NlclJlbmRlcmVyJ3MgdHJ5QXBwbHlTcGVjaWFsUHJvcGVydHkuXHJcbiAgLy8gVGhhdCBpcywgd2UncmUgZG9pbmcgdGhlIHJldmVyc2UgbWFwcGluZywgc3RhcnRpbmcgZnJvbSBhbiBIVE1MIHByb3BlcnR5IGFuZCByZWNvbnN0cnVjdGluZyB3aGljaFxyXG4gIC8vIFwic3BlY2lhbFwiIGF0dHJpYnV0ZSB3b3VsZCBoYXZlIGJlZW4gbWFwcGVkIHRvIHRoYXQgcHJvcGVydHkuXHJcbiAgaWYgKGVsZW0gaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XHJcbiAgICByZXR1cm4gKGVsZW0udHlwZSAmJiBlbGVtLnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ2NoZWNrYm94JylcclxuICAgICAgPyB7IHZhbHVlOiBlbGVtLmNoZWNrZWQgfVxyXG4gICAgICA6IHsgdmFsdWU6IGVsZW0udmFsdWUgfTtcclxuICB9XHJcblxyXG4gIGlmIChlbGVtIGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQgfHwgZWxlbSBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnQpIHtcclxuICAgIHJldHVybiB7IHZhbHVlOiBlbGVtLnZhbHVlIH07XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbnVsbDtcclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50VHlwZU9wdGlvbnMge1xyXG4gIGJyb3dzZXJFdmVudE5hbWU/OiBzdHJpbmc7XHJcbiAgY3JlYXRlRXZlbnRBcmdzPzogKGV2ZW50OiBFdmVudCkgPT4gdW5rbm93bjtcclxufVxyXG5cclxuY29uc3QgZXZlbnRUeXBlUmVnaXN0cnk6IE1hcDxzdHJpbmcsIEV2ZW50VHlwZU9wdGlvbnM+ID0gbmV3IE1hcCgpO1xyXG5jb25zdCBicm93c2VyRXZlbnROYW1lc1RvQWxpYXNlczogTWFwPHN0cmluZywgc3RyaW5nW10+ID0gbmV3IE1hcCgpO1xyXG5jb25zdCBjcmVhdGVCbGFua0V2ZW50QXJnc09wdGlvbnM6IEV2ZW50VHlwZU9wdGlvbnMgPSB7IGNyZWF0ZUV2ZW50QXJnczogKCkgPT4gKHt9KSB9O1xyXG5cclxuZXhwb3J0IGNvbnN0IGV2ZW50TmFtZUFsaWFzUmVnaXN0ZXJlZENhbGxiYWNrczogKChhbGlhc0V2ZW50TmFtZTogc3RyaW5nLCBicm93c2VyRXZlbnROYW1lKSA9PiB2b2lkKVtdID0gW107XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJDdXN0b21FdmVudFR5cGUoZXZlbnROYW1lOiBzdHJpbmcsIG9wdGlvbnM6IEV2ZW50VHlwZU9wdGlvbnMpOiB2b2lkIHtcclxuICBpZiAoIW9wdGlvbnMpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignVGhlIG9wdGlvbnMgcGFyYW1ldGVyIGlzIHJlcXVpcmVkLicpO1xyXG4gIH1cclxuXHJcbiAgLy8gVGhlcmUgY2FuJ3QgYmUgbW9yZSB0aGFuIG9uZSByZWdpc3RyYXRpb24gZm9yIHRoZSBzYW1lIGV2ZW50IG5hbWUgYmVjYXVzZSB0aGVuIHdlIHdvdWxkbid0XHJcbiAgLy8ga25vdyB3aGljaCBldmVudGFyZ3MgZGF0YSB0byBzdXBwbHkuXHJcbiAgaWYgKGV2ZW50VHlwZVJlZ2lzdHJ5LmhhcyhldmVudE5hbWUpKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBldmVudCAnJHtldmVudE5hbWV9JyBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuYCk7XHJcbiAgfVxyXG5cclxuICAvLyBJZiBhcHBsaWNhYmxlLCByZWdpc3RlciB0aGlzIGFzIGFuIGFsaWFzIG9mIHRoZSBnaXZlbiBicm93c2VyRXZlbnROYW1lXHJcbiAgaWYgKG9wdGlvbnMuYnJvd3NlckV2ZW50TmFtZSkge1xyXG4gICAgY29uc3QgYWxpYXNHcm91cCA9IGJyb3dzZXJFdmVudE5hbWVzVG9BbGlhc2VzLmdldChvcHRpb25zLmJyb3dzZXJFdmVudE5hbWUpO1xyXG4gICAgaWYgKGFsaWFzR3JvdXApIHtcclxuICAgICAgYWxpYXNHcm91cC5wdXNoKGV2ZW50TmFtZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBicm93c2VyRXZlbnROYW1lc1RvQWxpYXNlcy5zZXQob3B0aW9ucy5icm93c2VyRXZlbnROYW1lLCBbZXZlbnROYW1lXSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRm9yIGRldmVsb3BlciBjb252ZW5pZW5jZSwgaXQncyBhbGxvd2VkIHRvIHJlZ2lzdGVyIHRoZSBjdXN0b20gZXZlbnQgdHlwZSAqYWZ0ZXIqXHJcbiAgICAvLyBzb21lIGxpc3RlbmVycyBmb3IgaXQgYXJlIGFscmVhZHkgcHJlc2VudC4gT25jZSB0aGUgZXZlbnQgbmFtZSBhbGlhcyBnZXRzIHJlZ2lzdGVyZWQsXHJcbiAgICAvLyB3ZSBoYXZlIHRvIG5vdGlmeSBhbnkgZXhpc3RpbmcgZXZlbnQgZGVsZWdhdG9ycyBzbyB0aGV5IGNhbiB1cGRhdGUgdGhlaXIgZGVsZWdhdGVkXHJcbiAgICAvLyBldmVudHMgbGlzdC5cclxuICAgIGV2ZW50TmFtZUFsaWFzUmVnaXN0ZXJlZENhbGxiYWNrcy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKGV2ZW50TmFtZSwgb3B0aW9ucy5icm93c2VyRXZlbnROYW1lKSk7XHJcbiAgfVxyXG5cclxuICBldmVudFR5cGVSZWdpc3RyeS5zZXQoZXZlbnROYW1lLCBvcHRpb25zKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEV2ZW50VHlwZU9wdGlvbnMoZXZlbnROYW1lOiBzdHJpbmcpOiBFdmVudFR5cGVPcHRpb25zIHwgdW5kZWZpbmVkIHtcclxuICByZXR1cm4gZXZlbnRUeXBlUmVnaXN0cnkuZ2V0KGV2ZW50TmFtZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFdmVudE5hbWVBbGlhc2VzKGV2ZW50TmFtZTogc3RyaW5nKTogc3RyaW5nW10gfCB1bmRlZmluZWQge1xyXG4gIHJldHVybiBicm93c2VyRXZlbnROYW1lc1RvQWxpYXNlcy5nZXQoZXZlbnROYW1lKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEJyb3dzZXJFdmVudE5hbWUocG9zc2libGVBbGlhc0V2ZW50TmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICBjb25zdCBldmVudE9wdGlvbnMgPSBldmVudFR5cGVSZWdpc3RyeS5nZXQocG9zc2libGVBbGlhc0V2ZW50TmFtZSk7XHJcbiAgcmV0dXJuIGV2ZW50T3B0aW9ucz8uYnJvd3NlckV2ZW50TmFtZSB8fCBwb3NzaWJsZUFsaWFzRXZlbnROYW1lO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWdpc3RlckJ1aWx0SW5FdmVudFR5cGUoZXZlbnROYW1lczogc3RyaW5nW10sIG9wdGlvbnM6IEV2ZW50VHlwZU9wdGlvbnMpIHtcclxuICBldmVudE5hbWVzLmZvckVhY2goZXZlbnROYW1lID0+IGV2ZW50VHlwZVJlZ2lzdHJ5LnNldChldmVudE5hbWUsIG9wdGlvbnMpKTtcclxufVxyXG5cclxucmVnaXN0ZXJCdWlsdEluRXZlbnRUeXBlKFsnaW5wdXQnLCAnY2hhbmdlJ10sIHtcclxuICBjcmVhdGVFdmVudEFyZ3M6IHBhcnNlQ2hhbmdlRXZlbnQsXHJcbn0pO1xyXG5cclxucmVnaXN0ZXJCdWlsdEluRXZlbnRUeXBlKFtcclxuICAnY29weScsXHJcbiAgJ2N1dCcsXHJcbiAgJ3Bhc3RlJyxcclxuXSwge1xyXG4gIGNyZWF0ZUV2ZW50QXJnczogZSA9PiBwYXJzZUNsaXBib2FyZEV2ZW50KGUgYXMgQ2xpcGJvYXJkRXZlbnQpLFxyXG59KTtcclxuXHJcbnJlZ2lzdGVyQnVpbHRJbkV2ZW50VHlwZShbXHJcbiAgJ2RyYWcnLFxyXG4gICdkcmFnZW5kJyxcclxuICAnZHJhZ2VudGVyJyxcclxuICAnZHJhZ2xlYXZlJyxcclxuICAnZHJhZ292ZXInLFxyXG4gICdkcmFnc3RhcnQnLFxyXG4gICdkcm9wJyxcclxuXSwge1xyXG4gIGNyZWF0ZUV2ZW50QXJnczogZSA9PiBwYXJzZURyYWdFdmVudChlIGFzIERyYWdFdmVudCksXHJcbn0pO1xyXG5cclxucmVnaXN0ZXJCdWlsdEluRXZlbnRUeXBlKFtcclxuICAnZm9jdXMnLFxyXG4gICdibHVyJyxcclxuICAnZm9jdXNpbicsXHJcbiAgJ2ZvY3Vzb3V0JyxcclxuXSwge1xyXG4gIGNyZWF0ZUV2ZW50QXJnczogZSA9PiBwYXJzZUZvY3VzRXZlbnQoZSBhcyBGb2N1c0V2ZW50KSxcclxufSk7XHJcblxyXG5yZWdpc3RlckJ1aWx0SW5FdmVudFR5cGUoW1xyXG4gICdrZXlkb3duJyxcclxuICAna2V5dXAnLFxyXG4gICdrZXlwcmVzcycsXHJcbl0sIHtcclxuICBjcmVhdGVFdmVudEFyZ3M6IGUgPT4gcGFyc2VLZXlib2FyZEV2ZW50KGUgYXMgS2V5Ym9hcmRFdmVudCksXHJcbn0pO1xyXG5cclxucmVnaXN0ZXJCdWlsdEluRXZlbnRUeXBlKFtcclxuICAnY29udGV4dG1lbnUnLFxyXG4gICdjbGljaycsXHJcbiAgJ21vdXNlb3ZlcicsXHJcbiAgJ21vdXNlb3V0JyxcclxuICAnbW91c2Vtb3ZlJyxcclxuICAnbW91c2Vkb3duJyxcclxuICAnbW91c2V1cCcsXHJcbiAgJ21vdXNlbGVhdmUnLFxyXG4gICdtb3VzZWVudGVyJyxcclxuICAnZGJsY2xpY2snLFxyXG5dLCB7XHJcbiAgY3JlYXRlRXZlbnRBcmdzOiBlID0+IHBhcnNlTW91c2VFdmVudChlIGFzIE1vdXNlRXZlbnQpLFxyXG59KTtcclxuXHJcbnJlZ2lzdGVyQnVpbHRJbkV2ZW50VHlwZShbJ2Vycm9yJ10sIHtcclxuICBjcmVhdGVFdmVudEFyZ3M6IGUgPT4gcGFyc2VFcnJvckV2ZW50KGUgYXMgRXJyb3JFdmVudCksXHJcbn0pO1xyXG5cclxucmVnaXN0ZXJCdWlsdEluRXZlbnRUeXBlKFtcclxuICAnbG9hZHN0YXJ0JyxcclxuICAndGltZW91dCcsXHJcbiAgJ2Fib3J0JyxcclxuICAnbG9hZCcsXHJcbiAgJ2xvYWRlbmQnLFxyXG4gICdwcm9ncmVzcycsXHJcbl0sIHtcclxuICBjcmVhdGVFdmVudEFyZ3M6IGUgPT4gcGFyc2VQcm9ncmVzc0V2ZW50KGUgYXMgUHJvZ3Jlc3NFdmVudCksXHJcbn0pO1xyXG5cclxucmVnaXN0ZXJCdWlsdEluRXZlbnRUeXBlKFtcclxuICAndG91Y2hjYW5jZWwnLFxyXG4gICd0b3VjaGVuZCcsXHJcbiAgJ3RvdWNobW92ZScsXHJcbiAgJ3RvdWNoZW50ZXInLFxyXG4gICd0b3VjaGxlYXZlJyxcclxuICAndG91Y2hzdGFydCcsXHJcbl0sIHtcclxuICBjcmVhdGVFdmVudEFyZ3M6IGUgPT4gcGFyc2VUb3VjaEV2ZW50KGUgYXMgVG91Y2hFdmVudCksXHJcbn0pO1xyXG5cclxucmVnaXN0ZXJCdWlsdEluRXZlbnRUeXBlKFtcclxuICAnZ290cG9pbnRlcmNhcHR1cmUnLFxyXG4gICdsb3N0cG9pbnRlcmNhcHR1cmUnLFxyXG4gICdwb2ludGVyY2FuY2VsJyxcclxuICAncG9pbnRlcmRvd24nLFxyXG4gICdwb2ludGVyZW50ZXInLFxyXG4gICdwb2ludGVybGVhdmUnLFxyXG4gICdwb2ludGVybW92ZScsXHJcbiAgJ3BvaW50ZXJvdXQnLFxyXG4gICdwb2ludGVyb3ZlcicsXHJcbiAgJ3BvaW50ZXJ1cCcsXHJcbl0sIHtcclxuICBjcmVhdGVFdmVudEFyZ3M6IGUgPT4gcGFyc2VQb2ludGVyRXZlbnQoZSBhcyBQb2ludGVyRXZlbnQpLFxyXG59KTtcclxuXHJcbnJlZ2lzdGVyQnVpbHRJbkV2ZW50VHlwZShbJ3doZWVsJywgJ21vdXNld2hlZWwnXSwge1xyXG4gIGNyZWF0ZUV2ZW50QXJnczogZSA9PiBwYXJzZVdoZWVsRXZlbnQoZSBhcyBXaGVlbEV2ZW50KSxcclxufSk7XHJcblxyXG5yZWdpc3RlckJ1aWx0SW5FdmVudFR5cGUoWydjYW5jZWwnLCAnY2xvc2UnLCAndG9nZ2xlJ10sIGNyZWF0ZUJsYW5rRXZlbnRBcmdzT3B0aW9ucyk7XHJcblxyXG5mdW5jdGlvbiBwYXJzZUNoYW5nZUV2ZW50KGV2ZW50OiBFdmVudCk6IENoYW5nZUV2ZW50QXJncyB7XHJcbiAgY29uc3QgZWxlbWVudCA9IGV2ZW50LnRhcmdldCBhcyBFbGVtZW50O1xyXG4gIGlmIChpc1RpbWVCYXNlZElucHV0KGVsZW1lbnQpKSB7XHJcbiAgICBjb25zdCBub3JtYWxpemVkVmFsdWUgPSBub3JtYWxpemVUaW1lQmFzZWRWYWx1ZShlbGVtZW50KTtcclxuICAgIHJldHVybiB7IHZhbHVlOiBub3JtYWxpemVkVmFsdWUgfTtcclxuICB9IGVsc2UgaWYgKGlzTXVsdGlwbGVTZWxlY3RJbnB1dChlbGVtZW50KSkge1xyXG4gICAgY29uc3Qgc2VsZWN0RWxlbWVudCA9IGVsZW1lbnQgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XHJcbiAgICBjb25zdCBzZWxlY3RlZFZhbHVlcyA9IEFycmF5LmZyb20oc2VsZWN0RWxlbWVudC5vcHRpb25zKVxyXG4gICAgICAuZmlsdGVyKG9wdGlvbiA9PiBvcHRpb24uc2VsZWN0ZWQpXHJcbiAgICAgIC5tYXAob3B0aW9uID0+IG9wdGlvbi52YWx1ZSk7XHJcbiAgICByZXR1cm4geyB2YWx1ZTogc2VsZWN0ZWRWYWx1ZXMgfTtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgdGFyZ2V0SXNDaGVja2JveCA9IGlzQ2hlY2tib3goZWxlbWVudCk7XHJcbiAgICBjb25zdCBuZXdWYWx1ZSA9IHRhcmdldElzQ2hlY2tib3ggPyAhIWVsZW1lbnRbJ2NoZWNrZWQnXSA6IGVsZW1lbnRbJ3ZhbHVlJ107XHJcbiAgICByZXR1cm4geyB2YWx1ZTogbmV3VmFsdWUgfTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlV2hlZWxFdmVudChldmVudDogV2hlZWxFdmVudCk6IFdoZWVsRXZlbnRBcmdzIHtcclxuICByZXR1cm4ge1xyXG4gICAgLi4ucGFyc2VNb3VzZUV2ZW50KGV2ZW50KSxcclxuICAgIGRlbHRhWDogZXZlbnQuZGVsdGFYLFxyXG4gICAgZGVsdGFZOiBldmVudC5kZWx0YVksXHJcbiAgICBkZWx0YVo6IGV2ZW50LmRlbHRhWixcclxuICAgIGRlbHRhTW9kZTogZXZlbnQuZGVsdGFNb2RlLFxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlUG9pbnRlckV2ZW50KGV2ZW50OiBQb2ludGVyRXZlbnQpOiBQb2ludGVyRXZlbnRBcmdzIHtcclxuICByZXR1cm4ge1xyXG4gICAgLi4ucGFyc2VNb3VzZUV2ZW50KGV2ZW50KSxcclxuICAgIHBvaW50ZXJJZDogZXZlbnQucG9pbnRlcklkLFxyXG4gICAgd2lkdGg6IGV2ZW50LndpZHRoLFxyXG4gICAgaGVpZ2h0OiBldmVudC5oZWlnaHQsXHJcbiAgICBwcmVzc3VyZTogZXZlbnQucHJlc3N1cmUsXHJcbiAgICB0aWx0WDogZXZlbnQudGlsdFgsXHJcbiAgICB0aWx0WTogZXZlbnQudGlsdFksXHJcbiAgICBwb2ludGVyVHlwZTogZXZlbnQucG9pbnRlclR5cGUsXHJcbiAgICBpc1ByaW1hcnk6IGV2ZW50LmlzUHJpbWFyeSxcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZVRvdWNoRXZlbnQoZXZlbnQ6IFRvdWNoRXZlbnQpOiBUb3VjaEV2ZW50QXJncyB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGRldGFpbDogZXZlbnQuZGV0YWlsLFxyXG4gICAgdG91Y2hlczogcGFyc2VUb3VjaChldmVudC50b3VjaGVzKSxcclxuICAgIHRhcmdldFRvdWNoZXM6IHBhcnNlVG91Y2goZXZlbnQudGFyZ2V0VG91Y2hlcyksXHJcbiAgICBjaGFuZ2VkVG91Y2hlczogcGFyc2VUb3VjaChldmVudC5jaGFuZ2VkVG91Y2hlcyksXHJcbiAgICBjdHJsS2V5OiBldmVudC5jdHJsS2V5LFxyXG4gICAgc2hpZnRLZXk6IGV2ZW50LnNoaWZ0S2V5LFxyXG4gICAgYWx0S2V5OiBldmVudC5hbHRLZXksXHJcbiAgICBtZXRhS2V5OiBldmVudC5tZXRhS2V5LFxyXG4gICAgdHlwZTogZXZlbnQudHlwZSxcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZUZvY3VzRXZlbnQoZXZlbnQ6IEZvY3VzRXZlbnQpOiBGb2N1c0V2ZW50QXJncyB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHR5cGU6IGV2ZW50LnR5cGUsXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFyc2VDbGlwYm9hcmRFdmVudChldmVudDogQ2xpcGJvYXJkRXZlbnQpOiBDbGlwYm9hcmRFdmVudEFyZ3Mge1xyXG4gIHJldHVybiB7XHJcbiAgICB0eXBlOiBldmVudC50eXBlLFxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlUHJvZ3Jlc3NFdmVudChldmVudDogUHJvZ3Jlc3NFdmVudDxFdmVudFRhcmdldD4pOiBQcm9ncmVzc0V2ZW50QXJncyB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGxlbmd0aENvbXB1dGFibGU6IGV2ZW50Lmxlbmd0aENvbXB1dGFibGUsXHJcbiAgICBsb2FkZWQ6IGV2ZW50LmxvYWRlZCxcclxuICAgIHRvdGFsOiBldmVudC50b3RhbCxcclxuICAgIHR5cGU6IGV2ZW50LnR5cGUsXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFyc2VFcnJvckV2ZW50KGV2ZW50OiBFcnJvckV2ZW50KTogRXJyb3JFdmVudEFyZ3Mge1xyXG4gIHJldHVybiB7XHJcbiAgICBtZXNzYWdlOiBldmVudC5tZXNzYWdlLFxyXG4gICAgZmlsZW5hbWU6IGV2ZW50LmZpbGVuYW1lLFxyXG4gICAgbGluZW5vOiBldmVudC5saW5lbm8sXHJcbiAgICBjb2xubzogZXZlbnQuY29sbm8sXHJcbiAgICB0eXBlOiBldmVudC50eXBlLFxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlS2V5Ym9hcmRFdmVudChldmVudDogS2V5Ym9hcmRFdmVudCk6IEtleWJvYXJkRXZlbnRBcmdzIHtcclxuICByZXR1cm4ge1xyXG4gICAga2V5OiBldmVudC5rZXksXHJcbiAgICBjb2RlOiBldmVudC5jb2RlLFxyXG4gICAgbG9jYXRpb246IGV2ZW50LmxvY2F0aW9uLFxyXG4gICAgcmVwZWF0OiBldmVudC5yZXBlYXQsXHJcbiAgICBjdHJsS2V5OiBldmVudC5jdHJsS2V5LFxyXG4gICAgc2hpZnRLZXk6IGV2ZW50LnNoaWZ0S2V5LFxyXG4gICAgYWx0S2V5OiBldmVudC5hbHRLZXksXHJcbiAgICBtZXRhS2V5OiBldmVudC5tZXRhS2V5LFxyXG4gICAgdHlwZTogZXZlbnQudHlwZSxcclxuICAgIGlzQ29tcG9zaW5nOiBldmVudC5pc0NvbXBvc2luZyxcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZURyYWdFdmVudChldmVudDogRHJhZ0V2ZW50KTogRHJhZ0V2ZW50QXJncyB7XHJcbiAgcmV0dXJuIHtcclxuICAgIC4uLnBhcnNlTW91c2VFdmVudChldmVudCksXHJcbiAgICBkYXRhVHJhbnNmZXI6IGV2ZW50LmRhdGFUcmFuc2ZlciA/IHtcclxuICAgICAgZHJvcEVmZmVjdDogZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QsXHJcbiAgICAgIGVmZmVjdEFsbG93ZWQ6IGV2ZW50LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkLFxyXG4gICAgICBmaWxlczogQXJyYXkuZnJvbShldmVudC5kYXRhVHJhbnNmZXIuZmlsZXMpLm1hcChmID0+IGYubmFtZSksXHJcbiAgICAgIGl0ZW1zOiBBcnJheS5mcm9tKGV2ZW50LmRhdGFUcmFuc2Zlci5pdGVtcykubWFwKGkgPT4gKHsga2luZDogaS5raW5kLCB0eXBlOiBpLnR5cGUgfSkpLFxyXG4gICAgICB0eXBlczogZXZlbnQuZGF0YVRyYW5zZmVyLnR5cGVzLFxyXG4gICAgfSA6IG51bGwsXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFyc2VUb3VjaCh0b3VjaExpc3Q6IFRvdWNoTGlzdCk6IFRvdWNoUG9pbnRbXSB7XHJcbiAgY29uc3QgdG91Y2hlczogVG91Y2hQb2ludFtdID0gW107XHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdG91Y2hMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjb25zdCB0b3VjaCA9IHRvdWNoTGlzdFtpXTtcclxuICAgIHRvdWNoZXMucHVzaCh7XHJcbiAgICAgIGlkZW50aWZpZXI6IHRvdWNoLmlkZW50aWZpZXIsXHJcbiAgICAgIGNsaWVudFg6IHRvdWNoLmNsaWVudFgsXHJcbiAgICAgIGNsaWVudFk6IHRvdWNoLmNsaWVudFksXHJcbiAgICAgIHNjcmVlblg6IHRvdWNoLnNjcmVlblgsXHJcbiAgICAgIHNjcmVlblk6IHRvdWNoLnNjcmVlblksXHJcbiAgICAgIHBhZ2VYOiB0b3VjaC5wYWdlWCxcclxuICAgICAgcGFnZVk6IHRvdWNoLnBhZ2VZLFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHJldHVybiB0b3VjaGVzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZU1vdXNlRXZlbnQoZXZlbnQ6IE1vdXNlRXZlbnQpOiBNb3VzZUV2ZW50QXJncyB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGRldGFpbDogZXZlbnQuZGV0YWlsLFxyXG4gICAgc2NyZWVuWDogZXZlbnQuc2NyZWVuWCxcclxuICAgIHNjcmVlblk6IGV2ZW50LnNjcmVlblksXHJcbiAgICBjbGllbnRYOiBldmVudC5jbGllbnRYLFxyXG4gICAgY2xpZW50WTogZXZlbnQuY2xpZW50WSxcclxuICAgIG9mZnNldFg6IGV2ZW50Lm9mZnNldFgsXHJcbiAgICBvZmZzZXRZOiBldmVudC5vZmZzZXRZLFxyXG4gICAgcGFnZVg6IGV2ZW50LnBhZ2VYLFxyXG4gICAgcGFnZVk6IGV2ZW50LnBhZ2VZLFxyXG4gICAgbW92ZW1lbnRYOiBldmVudC5tb3ZlbWVudFgsXHJcbiAgICBtb3ZlbWVudFk6IGV2ZW50Lm1vdmVtZW50WSxcclxuICAgIGJ1dHRvbjogZXZlbnQuYnV0dG9uLFxyXG4gICAgYnV0dG9uczogZXZlbnQuYnV0dG9ucyxcclxuICAgIGN0cmxLZXk6IGV2ZW50LmN0cmxLZXksXHJcbiAgICBzaGlmdEtleTogZXZlbnQuc2hpZnRLZXksXHJcbiAgICBhbHRLZXk6IGV2ZW50LmFsdEtleSxcclxuICAgIG1ldGFLZXk6IGV2ZW50Lm1ldGFLZXksXHJcbiAgICB0eXBlOiBldmVudC50eXBlLFxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzQ2hlY2tib3goZWxlbWVudDogRWxlbWVudCB8IG51bGwpOiBib29sZWFuIHtcclxuICByZXR1cm4gISFlbGVtZW50ICYmIGVsZW1lbnQudGFnTmFtZSA9PT0gJ0lOUFVUJyAmJiBlbGVtZW50LmdldEF0dHJpYnV0ZSgndHlwZScpID09PSAnY2hlY2tib3gnO1xyXG59XHJcblxyXG5jb25zdCB0aW1lQmFzZWRJbnB1dHMgPSBbXHJcbiAgJ2RhdGUnLFxyXG4gICdkYXRldGltZS1sb2NhbCcsXHJcbiAgJ21vbnRoJyxcclxuICAndGltZScsXHJcbiAgJ3dlZWsnLFxyXG5dO1xyXG5cclxuZnVuY3Rpb24gaXNUaW1lQmFzZWRJbnB1dChlbGVtZW50OiBFbGVtZW50KTogZWxlbWVudCBpcyBIVE1MSW5wdXRFbGVtZW50IHtcclxuICByZXR1cm4gdGltZUJhc2VkSW5wdXRzLmluZGV4T2YoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSEpICE9PSAtMTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNNdWx0aXBsZVNlbGVjdElucHV0KGVsZW1lbnQ6IEVsZW1lbnQpOiBlbGVtZW50IGlzIEhUTUxTZWxlY3RFbGVtZW50IHtcclxuICByZXR1cm4gZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxTZWxlY3RFbGVtZW50ICYmIGVsZW1lbnQudHlwZSA9PT0gJ3NlbGVjdC1tdWx0aXBsZSc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVRpbWVCYXNlZFZhbHVlKGVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQpOiBzdHJpbmcge1xyXG4gIGNvbnN0IHZhbHVlID0gZWxlbWVudC52YWx1ZTtcclxuICBjb25zdCB0eXBlID0gZWxlbWVudC50eXBlO1xyXG4gIHN3aXRjaCAodHlwZSkge1xyXG4gICAgY2FzZSAnZGF0ZSc6XHJcbiAgICBjYXNlICdtb250aCc6XHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIGNhc2UgJ2RhdGV0aW1lLWxvY2FsJzpcclxuICAgICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA9PT0gMTYgPyB2YWx1ZSArICc6MDAnIDogdmFsdWU7IC8vIENvbnZlcnQgeXl5eS1NTS1kZFRISDptbSB0byB5eXl5LU1NLWRkVEhIOm1tOjAwXHJcbiAgICBjYXNlICd0aW1lJzpcclxuICAgICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA9PT0gNSA/IHZhbHVlICsgJzowMCcgOiB2YWx1ZTsgLy8gQ29udmVydCBoaDptbSB0byBoaDptbTowMFxyXG4gICAgY2FzZSAnd2Vlayc6XHJcbiAgICAgIC8vIEZvciBub3cgd2UgYXJlIG5vdCBnb2luZyB0byBub3JtYWxpemUgaW5wdXQgdHlwZSB3ZWVrIGFzIGl0IGlzIG5vdCB0cml2aWFsXHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICB9XHJcblxyXG4gIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBlbGVtZW50IHR5cGUgJyR7dHlwZX0nLmApO1xyXG59XHJcblxyXG4vLyBUaGUgZm9sbG93aW5nIGludGVyZmFjZXMgbXVzdCBiZSBrZXB0IGluIHN5bmMgd2l0aCB0aGUgRXZlbnRBcmdzIEMjIGNsYXNzZXNcclxuXHJcbmludGVyZmFjZSBDaGFuZ2VFdmVudEFyZ3Mge1xyXG4gIHZhbHVlOiBzdHJpbmcgfCBib29sZWFuIHwgc3RyaW5nW107XHJcbn1cclxuXHJcbmludGVyZmFjZSBEcmFnRXZlbnRBcmdzIHtcclxuICBkZXRhaWw6IG51bWJlcjtcclxuICBkYXRhVHJhbnNmZXI6IERhdGFUcmFuc2ZlckV2ZW50QXJncyB8IG51bGw7XHJcbiAgc2NyZWVuWDogbnVtYmVyO1xyXG4gIHNjcmVlblk6IG51bWJlcjtcclxuICBjbGllbnRYOiBudW1iZXI7XHJcbiAgY2xpZW50WTogbnVtYmVyO1xyXG4gIGJ1dHRvbjogbnVtYmVyO1xyXG4gIGJ1dHRvbnM6IG51bWJlcjtcclxuICBjdHJsS2V5OiBib29sZWFuO1xyXG4gIHNoaWZ0S2V5OiBib29sZWFuO1xyXG4gIGFsdEtleTogYm9vbGVhbjtcclxuICBtZXRhS2V5OiBib29sZWFuO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRGF0YVRyYW5zZmVyRXZlbnRBcmdzIHtcclxuICBkcm9wRWZmZWN0OiBzdHJpbmc7XHJcbiAgZWZmZWN0QWxsb3dlZDogc3RyaW5nO1xyXG4gIGZpbGVzOiByZWFkb25seSBzdHJpbmdbXTtcclxuICBpdGVtczogcmVhZG9ubHkgRGF0YVRyYW5zZmVySXRlbVtdO1xyXG4gIHR5cGVzOiByZWFkb25seSBzdHJpbmdbXTtcclxufVxyXG5cclxuaW50ZXJmYWNlIERhdGFUcmFuc2Zlckl0ZW0ge1xyXG4gIGtpbmQ6IHN0cmluZztcclxuICB0eXBlOiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBFcnJvckV2ZW50QXJncyB7XHJcbiAgbWVzc2FnZTogc3RyaW5nO1xyXG4gIGZpbGVuYW1lOiBzdHJpbmc7XHJcbiAgbGluZW5vOiBudW1iZXI7XHJcbiAgY29sbm86IG51bWJlcjtcclxuICB0eXBlOiBzdHJpbmc7XHJcblxyXG4gIC8vIG9taXR0aW5nICdlcnJvcicgaGVyZSBzaW5jZSB3ZSdkIGhhdmUgdG8gc2VyaWFsaXplIGl0LCBhbmQgaXQncyBub3QgY2xlYXIgd2Ugd2lsbCB3YW50IHRvXHJcbiAgLy8gZG8gdGhhdC4gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Vycm9yRXZlbnRcclxufVxyXG5cclxuaW50ZXJmYWNlIEtleWJvYXJkRXZlbnRBcmdzIHtcclxuICBrZXk6IHN0cmluZztcclxuICBjb2RlOiBzdHJpbmc7XHJcbiAgbG9jYXRpb246IG51bWJlcjtcclxuICByZXBlYXQ6IGJvb2xlYW47XHJcbiAgY3RybEtleTogYm9vbGVhbjtcclxuICBzaGlmdEtleTogYm9vbGVhbjtcclxuICBhbHRLZXk6IGJvb2xlYW47XHJcbiAgbWV0YUtleTogYm9vbGVhbjtcclxuICB0eXBlOiBzdHJpbmc7XHJcbiAgaXNDb21wb3Npbmc6IGJvb2xlYW47XHJcbn1cclxuXHJcbmludGVyZmFjZSBNb3VzZUV2ZW50QXJncyB7XHJcbiAgZGV0YWlsOiBudW1iZXI7XHJcbiAgc2NyZWVuWDogbnVtYmVyO1xyXG4gIHNjcmVlblk6IG51bWJlcjtcclxuICBjbGllbnRYOiBudW1iZXI7XHJcbiAgY2xpZW50WTogbnVtYmVyO1xyXG4gIG9mZnNldFg6IG51bWJlcjtcclxuICBvZmZzZXRZOiBudW1iZXI7XHJcbiAgcGFnZVg6IG51bWJlcjtcclxuICBwYWdlWTogbnVtYmVyO1xyXG4gIG1vdmVtZW50WDogbnVtYmVyO1xyXG4gIG1vdmVtZW50WTogbnVtYmVyO1xyXG4gIGJ1dHRvbjogbnVtYmVyO1xyXG4gIGJ1dHRvbnM6IG51bWJlcjtcclxuICBjdHJsS2V5OiBib29sZWFuO1xyXG4gIHNoaWZ0S2V5OiBib29sZWFuO1xyXG4gIGFsdEtleTogYm9vbGVhbjtcclxuICBtZXRhS2V5OiBib29sZWFuO1xyXG4gIHR5cGU6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIFBvaW50ZXJFdmVudEFyZ3MgZXh0ZW5kcyBNb3VzZUV2ZW50QXJncyB7XHJcbiAgcG9pbnRlcklkOiBudW1iZXI7XHJcbiAgd2lkdGg6IG51bWJlcjtcclxuICBoZWlnaHQ6IG51bWJlcjtcclxuICBwcmVzc3VyZTogbnVtYmVyO1xyXG4gIHRpbHRYOiBudW1iZXI7XHJcbiAgdGlsdFk6IG51bWJlcjtcclxuICBwb2ludGVyVHlwZTogc3RyaW5nO1xyXG4gIGlzUHJpbWFyeTogYm9vbGVhbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIFByb2dyZXNzRXZlbnRBcmdzIHtcclxuICBsZW5ndGhDb21wdXRhYmxlOiBib29sZWFuO1xyXG4gIGxvYWRlZDogbnVtYmVyO1xyXG4gIHRvdGFsOiBudW1iZXI7XHJcbiAgdHlwZTogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgVG91Y2hFdmVudEFyZ3Mge1xyXG4gIGRldGFpbDogbnVtYmVyO1xyXG4gIHRvdWNoZXM6IFRvdWNoUG9pbnRbXTtcclxuICB0YXJnZXRUb3VjaGVzOiBUb3VjaFBvaW50W107XHJcbiAgY2hhbmdlZFRvdWNoZXM6IFRvdWNoUG9pbnRbXTtcclxuICBjdHJsS2V5OiBib29sZWFuO1xyXG4gIHNoaWZ0S2V5OiBib29sZWFuO1xyXG4gIGFsdEtleTogYm9vbGVhbjtcclxuICBtZXRhS2V5OiBib29sZWFuO1xyXG4gIHR5cGU6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIFRvdWNoUG9pbnQge1xyXG4gIGlkZW50aWZpZXI6IG51bWJlcjtcclxuICBzY3JlZW5YOiBudW1iZXI7XHJcbiAgc2NyZWVuWTogbnVtYmVyO1xyXG4gIGNsaWVudFg6IG51bWJlcjtcclxuICBjbGllbnRZOiBudW1iZXI7XHJcbiAgcGFnZVg6IG51bWJlcjtcclxuICBwYWdlWTogbnVtYmVyO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgV2hlZWxFdmVudEFyZ3MgZXh0ZW5kcyBNb3VzZUV2ZW50QXJncyB7XHJcbiAgZGVsdGFYOiBudW1iZXI7XHJcbiAgZGVsdGFZOiBudW1iZXI7XHJcbiAgZGVsdGFaOiBudW1iZXI7XHJcbiAgZGVsdGFNb2RlOiBudW1iZXI7XHJcbn1cclxuXHJcbmludGVyZmFjZSBGb2N1c0V2ZW50QXJncyB7XHJcbiAgdHlwZTogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQ2xpcGJvYXJkRXZlbnRBcmdzIHtcclxuICB0eXBlOiBzdHJpbmc7XHJcbn1cclxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cclxuaW1wb3J0IHsgRG90TmV0IH0gZnJvbSAnQG1pY3Jvc29mdC9kb3RuZXQtanMtaW50ZXJvcCc7XHJcblxyXG5jb25zdCBwZW5kaW5nUm9vdENvbXBvbmVudENvbnRhaW5lck5hbWVQcmVmaXggPSAnX19ibC1keW5hbWljLXJvb3Q6JztcclxuY29uc3QgcGVuZGluZ1Jvb3RDb21wb25lbnRDb250YWluZXJzID0gbmV3IE1hcDxzdHJpbmcsIEVsZW1lbnQ+KCk7XHJcbmxldCBuZXh0UGVuZGluZ0R5bmFtaWNSb290Q29tcG9uZW50SWRlbnRpZmllciA9IDA7XHJcblxyXG50eXBlIENvbXBvbmVudFBhcmFtZXRlcnMgPSBvYmplY3QgfCBudWxsIHwgdW5kZWZpbmVkO1xyXG5cclxubGV0IG1hbmFnZXI6IERvdE5ldC5Eb3ROZXRPYmplY3QgfCB1bmRlZmluZWQ7XHJcbmxldCBqc0NvbXBvbmVudFBhcmFtZXRlcnNCeUlkZW50aWZpZXI6IEpTQ29tcG9uZW50UGFyYW1ldGVyc0J5SWRlbnRpZmllcjtcclxuXHJcbi8vIFRoZXNlIGFyZSB0aGUgcHVibGljIEFQSXMgYXQgQmxhem9yLnJvb3RDb21wb25lbnRzLipcclxuZXhwb3J0IGNvbnN0IFJvb3RDb21wb25lbnRzRnVuY3Rpb25zID0ge1xyXG4gIGFzeW5jIGFkZCh0b0VsZW1lbnQ6IEVsZW1lbnQsIGNvbXBvbmVudElkZW50aWZpZXI6IHN0cmluZywgaW5pdGlhbFBhcmFtZXRlcnM6IENvbXBvbmVudFBhcmFtZXRlcnMpOiBQcm9taXNlPER5bmFtaWNSb290Q29tcG9uZW50PiB7XHJcbiAgICBpZiAoIWluaXRpYWxQYXJhbWV0ZXJzKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW5pdGlhbFBhcmFtZXRlcnMgbXVzdCBiZSBhbiBvYmplY3QsIGV2ZW4gaWYgZW1wdHkuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVHJhY2sgdGhlIGNvbnRhaW5lciBzbyB3ZSBjYW4gdXNlIGl0IHdoZW4gdGhlIGNvbXBvbmVudCBnZXRzIGF0dGFjaGVkIHRvIHRoZSBkb2N1bWVudCB2aWEgYSBzZWxlY3RvclxyXG4gICAgY29uc3QgY29udGFpbmVySWRlbnRpZmllciA9IHBlbmRpbmdSb290Q29tcG9uZW50Q29udGFpbmVyTmFtZVByZWZpeCArICgrK25leHRQZW5kaW5nRHluYW1pY1Jvb3RDb21wb25lbnRJZGVudGlmaWVyKS50b1N0cmluZygpO1xyXG4gICAgcGVuZGluZ1Jvb3RDb21wb25lbnRDb250YWluZXJzLnNldChjb250YWluZXJJZGVudGlmaWVyLCB0b0VsZW1lbnQpO1xyXG5cclxuICAgIC8vIEluc3RydWN0IC5ORVQgdG8gYWRkIGFuZCByZW5kZXIgdGhlIG5ldyByb290IGNvbXBvbmVudFxyXG4gICAgY29uc3QgY29tcG9uZW50SWQgPSBhd2FpdCBnZXRSZXF1aXJlZE1hbmFnZXIoKS5pbnZva2VNZXRob2RBc3luYzxudW1iZXI+KCdBZGRSb290Q29tcG9uZW50JywgY29tcG9uZW50SWRlbnRpZmllciwgY29udGFpbmVySWRlbnRpZmllcik7XHJcbiAgICBjb25zdCBjb21wb25lbnQgPSBuZXcgRHluYW1pY1Jvb3RDb21wb25lbnQoY29tcG9uZW50SWQsIGpzQ29tcG9uZW50UGFyYW1ldGVyc0J5SWRlbnRpZmllcltjb21wb25lbnRJZGVudGlmaWVyXSk7XHJcbiAgICBhd2FpdCBjb21wb25lbnQuc2V0UGFyYW1ldGVycyhpbml0aWFsUGFyYW1ldGVycyk7XHJcbiAgICByZXR1cm4gY29tcG9uZW50O1xyXG4gIH0sXHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QW5kUmVtb3ZlUGVuZGluZ1Jvb3RDb21wb25lbnRDb250YWluZXIoY29udGFpbmVySWRlbnRpZmllcjogc3RyaW5nKTogRWxlbWVudCB8IHVuZGVmaW5lZCB7XHJcbiAgY29uc3QgY29udGFpbmVyID0gcGVuZGluZ1Jvb3RDb21wb25lbnRDb250YWluZXJzLmdldChjb250YWluZXJJZGVudGlmaWVyKTtcclxuICBpZiAoY29udGFpbmVyKSB7XHJcbiAgICBwZW5kaW5nUm9vdENvbXBvbmVudENvbnRhaW5lcnMuZGVsZXRlKGNvbnRhaW5lcklkZW50aWZpZXIpO1xyXG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIEV2ZW50Q2FsbGJhY2tXcmFwcGVyIHtcclxuICBwcml2YXRlIF9jYWxsYmFjazogYW55O1xyXG5cclxuICBwcml2YXRlIF9zZWxmSlNPYmplY3RSZWZlcmVuY2U6IHVua25vd247XHJcblxyXG4gIGludm9rZShhcmc6IHVua25vd24pIHtcclxuICAgIHJldHVybiB0aGlzLl9jYWxsYmFjayhhcmcpO1xyXG4gIH1cclxuXHJcbiAgc2V0Q2FsbGJhY2soY2FsbGJhY2s6IHVua25vd24pOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5fc2VsZkpTT2JqZWN0UmVmZXJlbmNlKSB7XHJcbiAgICAgIHRoaXMuX3NlbGZKU09iamVjdFJlZmVyZW5jZSA9IERvdE5ldC5jcmVhdGVKU09iamVjdFJlZmVyZW5jZSh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gIH1cclxuXHJcbiAgZ2V0SlNPYmplY3RSZWZlcmVuY2UoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fc2VsZkpTT2JqZWN0UmVmZXJlbmNlO1xyXG4gIH1cclxuXHJcbiAgZGlzcG9zZSgpIHtcclxuICAgIGlmICh0aGlzLl9zZWxmSlNPYmplY3RSZWZlcmVuY2UpIHtcclxuICAgICAgRG90TmV0LmRpc3Bvc2VKU09iamVjdFJlZmVyZW5jZSh0aGlzLl9zZWxmSlNPYmplY3RSZWZlcmVuY2UpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgRHluYW1pY1Jvb3RDb21wb25lbnQge1xyXG4gIHByaXZhdGUgX2NvbXBvbmVudElkOiBudW1iZXIgfCBudWxsO1xyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IF9qc0V2ZW50Q2FsbGJhY2tXcmFwcGVycyA9IG5ldyBNYXA8c3RyaW5nLCBFdmVudENhbGxiYWNrV3JhcHBlcj4oKTtcclxuXHJcbiAgY29uc3RydWN0b3IoY29tcG9uZW50SWQ6IG51bWJlciwgcGFyYW1ldGVyczogSlNDb21wb25lbnRQYXJhbWV0ZXJbXSkge1xyXG4gICAgdGhpcy5fY29tcG9uZW50SWQgPSBjb21wb25lbnRJZDtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHBhcmFtZXRlciBvZiBwYXJhbWV0ZXJzKSB7XHJcbiAgICAgIGlmIChwYXJhbWV0ZXIudHlwZSA9PT0gJ2V2ZW50Y2FsbGJhY2snKSB7XHJcbiAgICAgICAgdGhpcy5fanNFdmVudENhbGxiYWNrV3JhcHBlcnMuc2V0KHBhcmFtZXRlci5uYW1lLnRvTG93ZXJDYXNlKCksIG5ldyBFdmVudENhbGxiYWNrV3JhcHBlcigpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0UGFyYW1ldGVycyhwYXJhbWV0ZXJzOiBDb21wb25lbnRQYXJhbWV0ZXJzKSB7XHJcbiAgICBjb25zdCBtYXBwZWRQYXJhbWV0ZXJzID0ge307XHJcbiAgICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMocGFyYW1ldGVycyB8fCB7fSk7XHJcbiAgICBjb25zdCBwYXJhbWV0ZXJDb3VudCA9IGVudHJpZXMubGVuZ3RoO1xyXG5cclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGVudHJpZXMpIHtcclxuICAgICAgY29uc3QgY2FsbGJhY2tXcmFwcGVyID0gdGhpcy5fanNFdmVudENhbGxiYWNrV3JhcHBlcnMuZ2V0KGtleS50b0xvd2VyQ2FzZSgpKTtcclxuXHJcbiAgICAgIGlmICghY2FsbGJhY2tXcmFwcGVyIHx8ICF2YWx1ZSkge1xyXG4gICAgICAgIG1hcHBlZFBhcmFtZXRlcnNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjYWxsYmFja1dyYXBwZXIuc2V0Q2FsbGJhY2sodmFsdWUpO1xyXG4gICAgICBtYXBwZWRQYXJhbWV0ZXJzW2tleV0gPSBjYWxsYmFja1dyYXBwZXIuZ2V0SlNPYmplY3RSZWZlcmVuY2UoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZ2V0UmVxdWlyZWRNYW5hZ2VyKCkuaW52b2tlTWV0aG9kQXN5bmMoJ1NldFJvb3RDb21wb25lbnRQYXJhbWV0ZXJzJywgdGhpcy5fY29tcG9uZW50SWQsIHBhcmFtZXRlckNvdW50LCBtYXBwZWRQYXJhbWV0ZXJzKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGRpc3Bvc2UoKSB7XHJcbiAgICBpZiAodGhpcy5fY29tcG9uZW50SWQgIT09IG51bGwpIHtcclxuICAgICAgYXdhaXQgZ2V0UmVxdWlyZWRNYW5hZ2VyKCkuaW52b2tlTWV0aG9kQXN5bmMoJ1JlbW92ZVJvb3RDb21wb25lbnQnLCB0aGlzLl9jb21wb25lbnRJZCk7XHJcbiAgICAgIHRoaXMuX2NvbXBvbmVudElkID0gbnVsbDsgLy8gRW5zdXJlIGl0IGNhbid0IGJlIHVzZWQgYWdhaW5cclxuXHJcbiAgICAgIGZvciAoY29uc3QganNFdmVudENhbGxiYWNrV3JhcHBlciBvZiB0aGlzLl9qc0V2ZW50Q2FsbGJhY2tXcmFwcGVycy52YWx1ZXMoKSkge1xyXG4gICAgICAgIGpzRXZlbnRDYWxsYmFja1dyYXBwZXIuZGlzcG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDYWxsZWQgYnkgdGhlIGZyYW1ld29ya1xyXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlSlNSb290Q29tcG9uZW50cyhcclxuICBtYW5hZ2VySW5zdGFuY2U6IERvdE5ldC5Eb3ROZXRPYmplY3QsXHJcbiAganNDb21wb25lbnRQYXJhbWV0ZXJzOiBKU0NvbXBvbmVudFBhcmFtZXRlcnNCeUlkZW50aWZpZXIsXHJcbiAganNDb21wb25lbnRJbml0aWFsaXplcnM6IEpTQ29tcG9uZW50SWRlbnRpZmllcnNCeUluaXRpYWxpemVyXHJcbik6IHZvaWQge1xyXG4gIGlmIChtYW5hZ2VyKSB7XHJcbiAgICAvLyBUaGlzIHdpbGwgb25seSBoYXBwZW4gaW4gdmVyeSBub25zdGFuZGFyZCBjYXNlcyB3aGVyZSBzb21lb25lIGhhcyBtdWx0aXBsZSBob3N0cy5cclxuICAgIC8vIEl0J3MgdXAgdG8gdGhlIGRldmVsb3BlciB0byBlbnN1cmUgdGhhdCBvbmx5IG9uZSBvZiB0aGVtIGVuYWJsZXMgZHluYW1pYyByb290IGNvbXBvbmVudHMuXHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0R5bmFtaWMgcm9vdCBjb21wb25lbnRzIGhhdmUgYWxyZWFkeSBiZWVuIGVuYWJsZWQuJyk7XHJcbiAgfVxyXG5cclxuICBtYW5hZ2VyID0gbWFuYWdlckluc3RhbmNlO1xyXG4gIGpzQ29tcG9uZW50UGFyYW1ldGVyc0J5SWRlbnRpZmllciA9IGpzQ29tcG9uZW50UGFyYW1ldGVycztcclxuXHJcbiAgLy8gQ2FsbCB0aGUgcmVnaXN0ZXJlZCBpbml0aWFsaXplcnMuIFRoaXMgaXMgYW4gYXJiaXRyYXJ5IHN1YnNldCBvZiB0aGUgSlMgY29tcG9uZW50IHR5cGVzIHRoYXQgYXJlIHJlZ2lzdGVyZWRcclxuICAvLyBvbiB0aGUgLk5FVCBzaWRlIC0ganVzdCB0aG9zZSBvZiB0aGVtIHRoYXQgcmVxdWlyZSBzb21lIEpTLXNpZGUgaW5pdGlhbGl6YXRpb24gKGUuZy4sIHRvIHJlZ2lzdGVyIHRoZW1cclxuICAvLyBhcyBjdXN0b20gZWxlbWVudHMpLlxyXG4gIGZvciAoY29uc3QgW2luaXRpYWxpemVySWRlbnRpZmllciwgY29tcG9uZW50SWRlbnRpZmllcnNdIG9mIE9iamVjdC5lbnRyaWVzKGpzQ29tcG9uZW50SW5pdGlhbGl6ZXJzKSkge1xyXG4gICAgY29uc3QgaW5pdGlhbGl6ZXJGdW5jID0gRG90TmV0LmZpbmRKU0Z1bmN0aW9uKGluaXRpYWxpemVySWRlbnRpZmllciwgMCkgYXMgSlNDb21wb25lbnRJbml0aWFsaXplckNhbGxiYWNrO1xyXG4gICAgZm9yIChjb25zdCBjb21wb25lbnRJZGVudGlmaWVyIG9mIGNvbXBvbmVudElkZW50aWZpZXJzKSB7XHJcbiAgICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBqc0NvbXBvbmVudFBhcmFtZXRlcnNbY29tcG9uZW50SWRlbnRpZmllcl07XHJcbiAgICAgIGluaXRpYWxpemVyRnVuYyhjb21wb25lbnRJZGVudGlmaWVyLCBwYXJhbWV0ZXJzKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFJlcXVpcmVkTWFuYWdlcigpOiBEb3ROZXQuRG90TmV0T2JqZWN0IHtcclxuICBpZiAoIW1hbmFnZXIpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignRHluYW1pYyByb290IGNvbXBvbmVudHMgaGF2ZSBub3QgYmVlbiBlbmFibGVkIGluIHRoaXMgYXBwbGljYXRpb24uJyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbWFuYWdlcjtcclxufVxyXG5cclxuLy8gS2VlcCBpbiBzeW5jIHdpdGggZXF1aXZhbGVudCBpbiBKU0NvbXBvbmVudENvbmZpZ3VyYXRpb25TdG9yZS5jc1xyXG4vLyBUaGVzZSBhcmUgYW4gaW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsIG5vdCBleHBvc2VkIGluIHRoZSByZWdpc3RyYXRpb24gQVBJcy5cclxuZXhwb3J0IHR5cGUgSlNDb21wb25lbnRQYXJhbWV0ZXJzQnlJZGVudGlmaWVyID0geyBbaWRlbnRpZmllcjogc3RyaW5nXTogSlNDb21wb25lbnRQYXJhbWV0ZXJbXSB9O1xyXG5leHBvcnQgdHlwZSBKU0NvbXBvbmVudElkZW50aWZpZXJzQnlJbml0aWFsaXplciA9IHsgW2luaXRpYWxpemVyOiBzdHJpbmddOiBzdHJpbmdbXSB9O1xyXG5cclxuLy8gVGhlIGZvbGxvd2luZyBpcyBwdWJsaWMgQVBJXHJcbmV4cG9ydCBpbnRlcmZhY2UgSlNDb21wb25lbnRJbml0aWFsaXplckNhbGxiYWNrIHtcclxuICAoaWRlbnRpZmllcjogc3RyaW5nLCBwYXJhbWV0ZXJzOiBKU0NvbXBvbmVudFBhcmFtZXRlcltdKTogdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBKU0NvbXBvbmVudFBhcmFtZXRlciB7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHR5cGU6IEpTQ29tcG9uZW50UGFyYW1ldGVyVHlwZTtcclxufVxyXG5cclxuLy8gSlNPTi1wcmltaXRpdmUgdHlwZXMsIHBsdXMgZm9yIHRob3NlIHdob3NlIC5ORVQgZXF1aXZhbGVudCBpc24ndCBudWxsYWJsZSwgYSAnPycgdG8gaW5kaWNhdGUgbnVsbGFiaWxpdHlcclxuLy8gVGhpcyBhbGxvd3MgY3VzdG9tIGVsZW1lbnQgYXV0aG9ycyB0byBjb2VyY2UgYXR0cmlidXRlIHN0cmluZ3MgaW50byB0aGUgYXBwcm9wcmlhdGUgdHlwZVxyXG5leHBvcnQgdHlwZSBKU0NvbXBvbmVudFBhcmFtZXRlclR5cGUgPSAnc3RyaW5nJyB8ICdib29sZWFuJyB8ICdib29sZWFuPycgfCAnbnVtYmVyJyB8ICdudW1iZXI/JyB8ICdvYmplY3QnIHwgJ2V2ZW50Y2FsbGJhY2snO1xyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5pbXBvcnQgeyBEb3ROZXQgfSBmcm9tICdAbWljcm9zb2Z0L2RvdG5ldC1qcy1pbnRlcm9wJztcclxuaW1wb3J0IHsgRXZlbnREZXNjcmlwdG9yIH0gZnJvbSAnLi9FdmVudHMvRXZlbnREZWxlZ2F0b3InO1xyXG5pbXBvcnQgeyBlbmFibGVKU1Jvb3RDb21wb25lbnRzLCBKU0NvbXBvbmVudFBhcmFtZXRlcnNCeUlkZW50aWZpZXIsIEpTQ29tcG9uZW50SWRlbnRpZmllcnNCeUluaXRpYWxpemVyIH0gZnJvbSAnLi9KU1Jvb3RDb21wb25lbnRzJztcclxuXHJcbmNvbnN0IGludGVyb3BNZXRob2RzQnlSZW5kZXJlciA9IG5ldyBNYXA8bnVtYmVyLCBEb3ROZXQuRG90TmV0T2JqZWN0PigpO1xyXG5jb25zdCByZW5kZXJlckF0dGFjaGVkTGlzdGVuZXJzOiAoKGJyb3dzZXJSZW5kZXJlcklkOiBudW1iZXIpID0+IHZvaWQpW10gPSBbXTtcclxuY29uc3QgcmVuZGVyZXJCeUlkUmVzb2x2ZXJNYXA6IE1hcDxudW1iZXIsIFsoKSA9PiB2b2lkIHwgdW5kZWZpbmVkLCBQcm9taXNlPHZvaWQ+IHwgdW5kZWZpbmVkXT4gPSBuZXcgTWFwKCk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXR0YWNoUmVuZGVyZXJJZFJlc29sdmVyKHJlbmRlcmVySWQ6IG51bWJlciwgcmVzb2x2ZXI6ICgpID0+IHZvaWQgfCB1bmRlZmluZWQsIHByb21pc2U6IFByb21pc2U8dm9pZD4gfCB1bmRlZmluZWQpIHtcclxuICByZW5kZXJlckJ5SWRSZXNvbHZlck1hcC5zZXQocmVuZGVyZXJJZCwgW3Jlc29sdmVyLCBwcm9taXNlXSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZW5kZXJlckF0dGFjaGVkUHJvbWlzZShyZW5kZXJlcklkOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHwgdW5kZWZpbmVkIHtcclxuICByZXR1cm4gcmVuZGVyZXJCeUlkUmVzb2x2ZXJNYXAuZ2V0KHJlbmRlcmVySWQpPy5bMV07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhdHRhY2hXZWJSZW5kZXJlckludGVyb3AoXHJcbiAgcmVuZGVyZXJJZDogbnVtYmVyLFxyXG4gIGludGVyb3BNZXRob2RzOiBEb3ROZXQuRG90TmV0T2JqZWN0LFxyXG4gIGpzQ29tcG9uZW50UGFyYW1ldGVycz86IEpTQ29tcG9uZW50UGFyYW1ldGVyc0J5SWRlbnRpZmllcixcclxuICBqc0NvbXBvbmVudEluaXRpYWxpemVycz86IEpTQ29tcG9uZW50SWRlbnRpZmllcnNCeUluaXRpYWxpemVyLFxyXG4pOiB2b2lkIHtcclxuICBpZiAoaW50ZXJvcE1ldGhvZHNCeVJlbmRlcmVyLmhhcyhyZW5kZXJlcklkKSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnRlcm9wIG1ldGhvZHMgYXJlIGFscmVhZHkgcmVnaXN0ZXJlZCBmb3IgcmVuZGVyZXIgJHtyZW5kZXJlcklkfWApO1xyXG4gIH1cclxuXHJcbiAgaW50ZXJvcE1ldGhvZHNCeVJlbmRlcmVyLnNldChyZW5kZXJlcklkLCBpbnRlcm9wTWV0aG9kcyk7XHJcblxyXG4gIGlmIChqc0NvbXBvbmVudFBhcmFtZXRlcnMgJiYganNDb21wb25lbnRJbml0aWFsaXplcnMgJiYgT2JqZWN0LmtleXMoanNDb21wb25lbnRQYXJhbWV0ZXJzKS5sZW5ndGggPiAwKSB7XHJcbiAgICBjb25zdCBtYW5hZ2VyID0gZ2V0SW50ZXJvcE1ldGhvZHMocmVuZGVyZXJJZCk7XHJcbiAgICBlbmFibGVKU1Jvb3RDb21wb25lbnRzKG1hbmFnZXIsIGpzQ29tcG9uZW50UGFyYW1ldGVycywganNDb21wb25lbnRJbml0aWFsaXplcnMpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyZXJCeUlkUmVzb2x2ZXJNYXAuZ2V0KHJlbmRlcmVySWQpPy5bMF0/LigpO1xyXG5cclxuICBpbnZva2VSZW5kZXJlckF0dGFjaGVkTGlzdGVuZXJzKHJlbmRlcmVySWQpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGV0YWNoV2ViUmVuZGVyZXJJbnRlcm9wKHJlbmRlcmVySWQ6IG51bWJlcik6IERvdE5ldC5Eb3ROZXRPYmplY3Qge1xyXG4gIGNvbnN0IGludGVyb3BNZXRob2RzID0gaW50ZXJvcE1ldGhvZHNCeVJlbmRlcmVyLmdldChyZW5kZXJlcklkKTtcclxuICBpZiAoIWludGVyb3BNZXRob2RzKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludGVyb3AgbWV0aG9kcyBhcmUgbm90IHJlZ2lzdGVyZWQgZm9yIHJlbmRlcmVyICR7cmVuZGVyZXJJZH1gKTtcclxuICB9XHJcblxyXG4gIGludGVyb3BNZXRob2RzQnlSZW5kZXJlci5kZWxldGUocmVuZGVyZXJJZCk7XHJcbiAgcmV0dXJuIGludGVyb3BNZXRob2RzO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNSZW5kZXJlckF0dGFjaGVkKGJyb3dzZXJSZW5kZXJlcklkOiBudW1iZXIpOiBib29sZWFuIHtcclxuICByZXR1cm4gaW50ZXJvcE1ldGhvZHNCeVJlbmRlcmVyLmhhcyhicm93c2VyUmVuZGVyZXJJZCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclJlbmRlcmVyQXR0YWNoZWRMaXN0ZW5lcihsaXN0ZW5lcjogKGJyb3dzZXJSZW5kZXJlcklkOiBudW1iZXIpID0+IHZvaWQpIHtcclxuICByZW5kZXJlckF0dGFjaGVkTGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbnZva2VSZW5kZXJlckF0dGFjaGVkTGlzdGVuZXJzKGJyb3dzZXJSZW5kZXJlcklkOiBudW1iZXIpIHtcclxuICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHJlbmRlcmVyQXR0YWNoZWRMaXN0ZW5lcnMpIHtcclxuICAgIGxpc3RlbmVyKGJyb3dzZXJSZW5kZXJlcklkKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KGJyb3dzZXJSZW5kZXJlcklkOiBudW1iZXIsIGV2ZW50RGVzY3JpcHRvcjogRXZlbnREZXNjcmlwdG9yLCBldmVudEFyZ3M6IGFueSk6IHZvaWQge1xyXG4gIHJldHVybiBkaXNwYXRjaEV2ZW50TWlkZGxld2FyZShicm93c2VyUmVuZGVyZXJJZCwgZXZlbnREZXNjcmlwdG9yLmV2ZW50SGFuZGxlcklkLCAoKSA9PiB7XHJcbiAgICBjb25zdCBpbnRlcm9wTWV0aG9kcyA9IGdldEludGVyb3BNZXRob2RzKGJyb3dzZXJSZW5kZXJlcklkKTtcclxuICAgIHJldHVybiBpbnRlcm9wTWV0aG9kcy5pbnZva2VNZXRob2RBc3luYygnRGlzcGF0Y2hFdmVudEFzeW5jJywgZXZlbnREZXNjcmlwdG9yLCBldmVudEFyZ3MpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUm9vdENvbXBvbmVudHMoYnJvd3NlclJlbmRlcmVySWQ6IG51bWJlciwgb3BlcmF0aW9uc0pzb246IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGNvbnN0IGludGVyb3BNZXRob2RzID0gZ2V0SW50ZXJvcE1ldGhvZHMoYnJvd3NlclJlbmRlcmVySWQpO1xyXG4gIHJldHVybiBpbnRlcm9wTWV0aG9kcy5pbnZva2VNZXRob2RBc3luYygnVXBkYXRlUm9vdENvbXBvbmVudHMnLCBvcGVyYXRpb25zSnNvbik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEludGVyb3BNZXRob2RzKHJlbmRlcmVySWQ6IG51bWJlcik6IERvdE5ldC5Eb3ROZXRPYmplY3Qge1xyXG4gIGNvbnN0IGludGVyb3BNZXRob2RzID0gaW50ZXJvcE1ldGhvZHNCeVJlbmRlcmVyLmdldChyZW5kZXJlcklkKTtcclxuICBpZiAoIWludGVyb3BNZXRob2RzKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGludGVyb3AgbWV0aG9kcyBhcmUgcmVnaXN0ZXJlZCBmb3IgcmVuZGVyZXIgJHtyZW5kZXJlcklkfWApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGludGVyb3BNZXRob2RzO1xyXG59XHJcblxyXG4vLyBPbiBzb21lIGhvc3RpbmcgcGxhdGZvcm1zLCB3ZSBtYXkgbmVlZCB0byBkZWZlciB0aGUgZXZlbnQgZGlzcGF0Y2gsIHNvIHRoZXkgY2FuIHJlZ2lzdGVyIHRoaXMgbWlkZGxld2FyZSB0byBkbyBzb1xyXG50eXBlIERpc3BhdGNoRXZlbnRNaWRkbHdhcmUgPSAoYnJvd3NlclJlbmRlcmVySWQ6IG51bWJlciwgZXZlbnRIYW5kbGVySWQ6IG51bWJlciwgY29udGludWF0aW9uOiAoKSA9PiB2b2lkKSA9PiB2b2lkO1xyXG5cclxubGV0IGRpc3BhdGNoRXZlbnRNaWRkbGV3YXJlOiBEaXNwYXRjaEV2ZW50TWlkZGx3YXJlID0gKGJyb3dzZXJSZW5kZXJlcklkLCBldmVudEhhbmRsZXJJZCwgY29udGludWF0aW9uKSA9PiBjb250aW51YXRpb24oKTtcclxuZXhwb3J0IGZ1bmN0aW9uIGFkZERpc3BhdGNoRXZlbnRNaWRkbGV3YXJlKG1pZGRsZXdhcmU6IERpc3BhdGNoRXZlbnRNaWRkbHdhcmUpOiB2b2lkIHtcclxuICBjb25zdCBuZXh0ID0gZGlzcGF0Y2hFdmVudE1pZGRsZXdhcmU7XHJcbiAgZGlzcGF0Y2hFdmVudE1pZGRsZXdhcmUgPSAoYnJvd3NlclJlbmRlcmVySWQsIGV2ZW50SGFuZGxlcklkLCBjb250aW51YXRpb24pID0+IHtcclxuICAgIG1pZGRsZXdhcmUoYnJvd3NlclJlbmRlcmVySWQsIGV2ZW50SGFuZGxlcklkLCAoKSA9PiBuZXh0KGJyb3dzZXJSZW5kZXJlcklkLCBldmVudEhhbmRsZXJJZCwgY29udGludWF0aW9uKSk7XHJcbiAgfTtcclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5pbXBvcnQgeyBFdmVudEZpZWxkSW5mbyB9IGZyb20gJy4vRXZlbnRGaWVsZEluZm8nO1xyXG5pbXBvcnQgeyBldmVudE5hbWVBbGlhc1JlZ2lzdGVyZWRDYWxsYmFja3MsIGdldEJyb3dzZXJFdmVudE5hbWUsIGdldEV2ZW50TmFtZUFsaWFzZXMsIGdldEV2ZW50VHlwZU9wdGlvbnMgfSBmcm9tICcuL0V2ZW50VHlwZXMnO1xyXG5pbXBvcnQgeyBkaXNwYXRjaEV2ZW50IH0gZnJvbSAnLi4vV2ViUmVuZGVyZXJJbnRlcm9wTWV0aG9kcyc7XHJcblxyXG5jb25zdCBub25CdWJibGluZ0V2ZW50cyA9IHRvTG9va3VwKFtcclxuICAnYWJvcnQnLFxyXG4gICdibHVyJyxcclxuICAnY2FuY2VsJyxcclxuICAnY2FucGxheScsXHJcbiAgJ2NhbnBsYXl0aHJvdWdoJyxcclxuICAnY2hhbmdlJyxcclxuICAnY2xvc2UnLFxyXG4gICdjdWVjaGFuZ2UnLFxyXG4gICdkdXJhdGlvbmNoYW5nZScsXHJcbiAgJ2VtcHRpZWQnLFxyXG4gICdlbmRlZCcsXHJcbiAgJ2Vycm9yJyxcclxuICAnZm9jdXMnLFxyXG4gICdsb2FkJyxcclxuICAnbG9hZGVkZGF0YScsXHJcbiAgJ2xvYWRlZG1ldGFkYXRhJyxcclxuICAnbG9hZGVuZCcsXHJcbiAgJ2xvYWRzdGFydCcsXHJcbiAgJ21vdXNlZW50ZXInLFxyXG4gICdtb3VzZWxlYXZlJyxcclxuICAncG9pbnRlcmVudGVyJyxcclxuICAncG9pbnRlcmxlYXZlJyxcclxuICAncGF1c2UnLFxyXG4gICdwbGF5JyxcclxuICAncGxheWluZycsXHJcbiAgJ3Byb2dyZXNzJyxcclxuICAncmF0ZWNoYW5nZScsXHJcbiAgJ3Jlc2V0JyxcclxuICAnc2Nyb2xsJyxcclxuICAnc2Vla2VkJyxcclxuICAnc2Vla2luZycsXHJcbiAgJ3N0YWxsZWQnLFxyXG4gICdzdWJtaXQnLFxyXG4gICdzdXNwZW5kJyxcclxuICAndGltZXVwZGF0ZScsXHJcbiAgJ3RvZ2dsZScsXHJcbiAgJ3VubG9hZCcsXHJcbiAgJ3ZvbHVtZWNoYW5nZScsXHJcbiAgJ3dhaXRpbmcnLFxyXG4gICdET01Ob2RlSW5zZXJ0ZWRJbnRvRG9jdW1lbnQnLFxyXG4gICdET01Ob2RlUmVtb3ZlZEZyb21Eb2N1bWVudCcsXHJcbl0pO1xyXG5cclxuY29uc3QgYWx3YXlzUHJldmVudERlZmF1bHRFdmVudHM6IHsgW2V2ZW50VHlwZTogc3RyaW5nXTogYm9vbGVhbiB9ID0geyBzdWJtaXQ6IHRydWUgfTtcclxuXHJcbmNvbnN0IGRpc2FibGVhYmxlRXZlbnROYW1lcyA9IHRvTG9va3VwKFtcclxuICAnY2xpY2snLFxyXG4gICdkYmxjbGljaycsXHJcbiAgJ21vdXNlZG93bicsXHJcbiAgJ21vdXNlbW92ZScsXHJcbiAgJ21vdXNldXAnLFxyXG5dKTtcclxuXHJcbi8vIFJlc3BvbnNpYmxlIGZvciBhZGRpbmcvcmVtb3ZpbmcgdGhlIGV2ZW50SW5mbyBvbiBhbiBleHBhbmRvIHByb3BlcnR5IG9uIERPTSBlbGVtZW50cywgYW5kXHJcbi8vIGNhbGxpbmcgYW4gRXZlbnRJbmZvU3RvcmUgdGhhdCBkZWFscyB3aXRoIHJlZ2lzdGVyaW5nL3VucmVnaXN0ZXJpbmcgdGhlIHVuZGVybHlpbmcgZGVsZWdhdGVkXHJcbi8vIGV2ZW50IGxpc3RlbmVycyBhcyByZXF1aXJlZCAoYW5kIGFsc28gbWFwcyBhY3R1YWwgZXZlbnRzIGJhY2sgdG8gdGhlIGdpdmVuIGNhbGxiYWNrKS5cclxuZXhwb3J0IGNsYXNzIEV2ZW50RGVsZWdhdG9yIHtcclxuICBwcml2YXRlIHN0YXRpYyBuZXh0RXZlbnREZWxlZ2F0b3JJZCA9IDA7XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgZXZlbnRzQ29sbGVjdGlvbktleTogc3RyaW5nO1xyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IGFmdGVyQ2xpY2tDYWxsYmFja3M6ICgoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHZvaWQpW10gPSBbXTtcclxuXHJcbiAgcHJpdmF0ZSBldmVudEluZm9TdG9yZTogRXZlbnRJbmZvU3RvcmU7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgYnJvd3NlclJlbmRlcmVySWQ6IG51bWJlcikge1xyXG4gICAgY29uc3QgZXZlbnREZWxlZ2F0b3JJZCA9ICsrRXZlbnREZWxlZ2F0b3IubmV4dEV2ZW50RGVsZWdhdG9ySWQ7XHJcbiAgICB0aGlzLmV2ZW50c0NvbGxlY3Rpb25LZXkgPSBgX2JsYXpvckV2ZW50c18ke2V2ZW50RGVsZWdhdG9ySWR9YDtcclxuICAgIHRoaXMuZXZlbnRJbmZvU3RvcmUgPSBuZXcgRXZlbnRJbmZvU3RvcmUodGhpcy5vbkdsb2JhbEV2ZW50LmJpbmQodGhpcykpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldExpc3RlbmVyKGVsZW1lbnQ6IEVsZW1lbnQsIGV2ZW50TmFtZTogc3RyaW5nLCBldmVudEhhbmRsZXJJZDogbnVtYmVyLCByZW5kZXJpbmdDb21wb25lbnRJZDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBjb25zdCBpbmZvRm9yRWxlbWVudCA9IHRoaXMuZ2V0RXZlbnRIYW5kbGVySW5mb3NGb3JFbGVtZW50KGVsZW1lbnQsIHRydWUpITtcclxuICAgIGNvbnN0IGV4aXN0aW5nSGFuZGxlciA9IGluZm9Gb3JFbGVtZW50LmdldEhhbmRsZXIoZXZlbnROYW1lKTtcclxuXHJcbiAgICBpZiAoZXhpc3RpbmdIYW5kbGVyKSB7XHJcbiAgICAgIC8vIFdlIGNhbiBjaGVhcGx5IHVwZGF0ZSB0aGUgaW5mbyBvbiB0aGUgZXhpc3Rpbmcgb2JqZWN0IGFuZCBkb24ndCBuZWVkIGFueSBvdGhlciBob3VzZWtlZXBpbmdcclxuICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgYWxzbyB0YWtlcyBjYXJlIG9mIHVwZGF0aW5nIHRoZSBldmVudEhhbmRsZXJJZCBvbiB0aGUgZXhpc3RpbmcgaGFuZGxlciBvYmplY3RcclxuICAgICAgdGhpcy5ldmVudEluZm9TdG9yZS51cGRhdGUoZXhpc3RpbmdIYW5kbGVyLmV2ZW50SGFuZGxlcklkLCBldmVudEhhbmRsZXJJZCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBHbyB0aHJvdWdoIHRoZSB3aG9sZSBmbG93IHdoaWNoIG1pZ2h0IGludm9sdmUgcmVnaXN0ZXJpbmcgYSBuZXcgZ2xvYmFsIGhhbmRsZXJcclxuICAgICAgY29uc3QgbmV3SW5mbyA9IHsgZWxlbWVudCwgZXZlbnROYW1lLCBldmVudEhhbmRsZXJJZCwgcmVuZGVyaW5nQ29tcG9uZW50SWQgfTtcclxuICAgICAgdGhpcy5ldmVudEluZm9TdG9yZS5hZGQobmV3SW5mbyk7XHJcbiAgICAgIGluZm9Gb3JFbGVtZW50LnNldEhhbmRsZXIoZXZlbnROYW1lLCBuZXdJbmZvKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRIYW5kbGVyKGV2ZW50SGFuZGxlcklkOiBudW1iZXIpOiBFdmVudEhhbmRsZXJJbmZvIHtcclxuICAgIHJldHVybiB0aGlzLmV2ZW50SW5mb1N0b3JlLmdldChldmVudEhhbmRsZXJJZCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcmVtb3ZlTGlzdGVuZXIoZXZlbnRIYW5kbGVySWQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgLy8gVGhpcyBtZXRob2QgZ2V0cyBjYWxsZWQgd2hlbmV2ZXIgdGhlIC5ORVQtc2lkZSBjb2RlIHJlcG9ydHMgdGhhdCBhIGNlcnRhaW4gZXZlbnQgaGFuZGxlclxyXG4gICAgLy8gaGFzIGJlZW4gZGlzcG9zZWQuIEhvd2V2ZXIgd2Ugd2lsbCBhbHJlYWR5IGhhdmUgZGlzcG9zZWQgdGhlIGluZm8gYWJvdXQgdGhhdCBoYW5kbGVyIGlmXHJcbiAgICAvLyB0aGUgZXZlbnRIYW5kbGVySWQgZm9yIHRoZSAoZWxlbWVudCxldmVudE5hbWUpIHBhaXIgd2FzIHJlcGxhY2VkIGR1cmluZyBkaWZmIGFwcGxpY2F0aW9uLlxyXG4gICAgY29uc3QgaW5mbyA9IHRoaXMuZXZlbnRJbmZvU3RvcmUucmVtb3ZlKGV2ZW50SGFuZGxlcklkKTtcclxuICAgIGlmIChpbmZvKSB7XHJcbiAgICAgIC8vIExvb2tzIGxpa2UgdGhpcyBldmVudCBoYW5kbGVyIHdhc24ndCBhbHJlYWR5IGRpc3Bvc2VkXHJcbiAgICAgIC8vIFJlbW92ZSB0aGUgYXNzb2NpYXRlZCBkYXRhIGZyb20gdGhlIERPTSBlbGVtZW50XHJcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBpbmZvLmVsZW1lbnQ7XHJcbiAgICAgIGNvbnN0IGVsZW1lbnRFdmVudEluZm9zID0gdGhpcy5nZXRFdmVudEhhbmRsZXJJbmZvc0ZvckVsZW1lbnQoZWxlbWVudCwgZmFsc2UpO1xyXG4gICAgICBpZiAoZWxlbWVudEV2ZW50SW5mb3MpIHtcclxuICAgICAgICBlbGVtZW50RXZlbnRJbmZvcy5yZW1vdmVIYW5kbGVyKGluZm8uZXZlbnROYW1lKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIG5vdGlmeUFmdGVyQ2xpY2soY2FsbGJhY2s6IChldmVudDogTW91c2VFdmVudCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgLy8gVGhpcyBpcyBleHRyZW1lbHkgc3BlY2lhbC1jYXNlLiBJdCdzIG5lZWRlZCBzbyB0aGF0IG5hdmlnYXRpb24gbGluayBjbGljayBpbnRlcmNlcHRpb25cclxuICAgIC8vIGNhbiBiZSBzdXJlIHRvIHJ1biAqYWZ0ZXIqIG91ciBzeW50aGV0aWMgYnViYmxpbmcgcHJvY2Vzcy4gSWYgYSBuZWVkIGFyaXNlcywgd2UgY2FuXHJcbiAgICAvLyBnZW5lcmFsaXNlIHRoaXMsIGJ1dCByaWdodCBub3cgaXQncyBhIHB1cmVseSBpbnRlcm5hbCBkZXRhaWwuXHJcbiAgICB0aGlzLmFmdGVyQ2xpY2tDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XHJcbiAgICB0aGlzLmV2ZW50SW5mb1N0b3JlLmFkZEdsb2JhbExpc3RlbmVyKCdjbGljaycpOyAvLyBFbnN1cmUgd2UgYWx3YXlzIGxpc3RlbiBmb3IgdGhpc1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldFN0b3BQcm9wYWdhdGlvbihlbGVtZW50OiBFbGVtZW50LCBldmVudE5hbWU6IHN0cmluZywgdmFsdWU6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIGNvbnN0IGluZm9Gb3JFbGVtZW50ID0gdGhpcy5nZXRFdmVudEhhbmRsZXJJbmZvc0ZvckVsZW1lbnQoZWxlbWVudCwgdHJ1ZSkhO1xyXG4gICAgaW5mb0ZvckVsZW1lbnQuc3RvcFByb3BhZ2F0aW9uKGV2ZW50TmFtZSwgdmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldFByZXZlbnREZWZhdWx0KGVsZW1lbnQ6IEVsZW1lbnQsIGV2ZW50TmFtZTogc3RyaW5nLCB2YWx1ZTogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgY29uc3QgaW5mb0ZvckVsZW1lbnQgPSB0aGlzLmdldEV2ZW50SGFuZGxlckluZm9zRm9yRWxlbWVudChlbGVtZW50LCB0cnVlKSE7XHJcbiAgICBpbmZvRm9yRWxlbWVudC5wcmV2ZW50RGVmYXVsdChldmVudE5hbWUsIHZhbHVlKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25HbG9iYWxFdmVudChldnQ6IEV2ZW50KSB7XHJcbiAgICBpZiAoIShldnQudGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFsd2F5cyBkaXNwYXRjaCB0byBhbnkgbGlzdGVuZXJzIGZvciB0aGUgb3JpZ2luYWwgdW5kZXJseWluZyBicm93c2VyIGV2ZW50IG5hbWVcclxuICAgIHRoaXMuZGlzcGF0Y2hHbG9iYWxFdmVudFRvQWxsRWxlbWVudHMoZXZ0LnR5cGUsIGV2dCk7XHJcblxyXG4gICAgLy8gSWYgdGhpcyBldmVudCBuYW1lIGhhcyBhbGlhc2VzLCBkaXNwYXRjaCBmb3IgdGhvc2UgbGlzdGVuZXJzIHRvb1xyXG4gICAgY29uc3QgZXZlbnROYW1lQWxpYXNlcyA9IGdldEV2ZW50TmFtZUFsaWFzZXMoZXZ0LnR5cGUpO1xyXG4gICAgZXZlbnROYW1lQWxpYXNlcyAmJiBldmVudE5hbWVBbGlhc2VzLmZvckVhY2goYWxpYXMgPT5cclxuICAgICAgdGhpcy5kaXNwYXRjaEdsb2JhbEV2ZW50VG9BbGxFbGVtZW50cyhhbGlhcywgZXZ0KSk7XHJcblxyXG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciBuYXZpZ2F0aW9uIGludGVyY2VwdGlvblxyXG4gICAgaWYgKGV2dC50eXBlID09PSAnY2xpY2snKSB7XHJcbiAgICAgIHRoaXMuYWZ0ZXJDbGlja0NhbGxiYWNrcy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKGV2dCBhcyBNb3VzZUV2ZW50KSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGRpc3BhdGNoR2xvYmFsRXZlbnRUb0FsbEVsZW1lbnRzKGV2ZW50TmFtZTogc3RyaW5nLCBicm93c2VyRXZlbnQ6IEV2ZW50KSB7XHJcbiAgICAvLyBOb3RlIHRoYXQgJ2V2ZW50TmFtZScgY2FuIGJlIGFuIGFsaWFzLiBGb3IgZXhhbXBsZSwgZXZlbnROYW1lIG1heSBiZSAnY2xpY2suc3BlY2lhbCdcclxuICAgIC8vIHdoaWxlIGJyb3dzZXJFdmVudC50eXBlIG1heSBiZSAnY2xpY2snLlxyXG5cclxuICAgIC8vIFVzZSB0aGUgZXZlbnQncyAncGF0aCcgcmF0aGVyIHRoYW4gdGhlIGNoYWluIG9mIHBhcmVudCBub2Rlcywgc2luY2UgdGhlIHBhdGggZ2l2ZXNcclxuICAgIC8vIHZpc2liaWxpdHkgaW50byBzaGFkb3cgcm9vdHMuXHJcbiAgICBjb25zdCBwYXRoID0gYnJvd3NlckV2ZW50LmNvbXBvc2VkUGF0aCgpO1xyXG5cclxuICAgIC8vIFNjYW4gdXAgdGhlIGVsZW1lbnQgaGllcmFyY2h5LCBsb29raW5nIGZvciBhbnkgbWF0Y2hpbmcgcmVnaXN0ZXJlZCBldmVudCBoYW5kbGVyc1xyXG4gICAgbGV0IGNhbmRpZGF0ZUV2ZW50VGFyZ2V0ID0gcGF0aC5zaGlmdCgpO1xyXG4gICAgbGV0IGV2ZW50QXJnczogdW5rbm93biA9IG51bGw7IC8vIFBvcHVsYXRlIGxhemlseVxyXG4gICAgbGV0IGV2ZW50QXJnc0lzUG9wdWxhdGVkID0gZmFsc2U7XHJcbiAgICBjb25zdCBldmVudElzTm9uQnViYmxpbmcgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobm9uQnViYmxpbmdFdmVudHMsIGV2ZW50TmFtZSk7XHJcbiAgICBsZXQgc3RvcFByb3BhZ2F0aW9uV2FzUmVxdWVzdGVkID0gZmFsc2U7XHJcbiAgICB3aGlsZSAoY2FuZGlkYXRlRXZlbnRUYXJnZXQpIHtcclxuICAgICAgY29uc3QgY2FuZGlkYXRlRWxlbWVudCA9IGNhbmRpZGF0ZUV2ZW50VGFyZ2V0IGFzIEVsZW1lbnQ7XHJcbiAgICAgIGNvbnN0IGhhbmRsZXJJbmZvcyA9IHRoaXMuZ2V0RXZlbnRIYW5kbGVySW5mb3NGb3JFbGVtZW50KGNhbmRpZGF0ZUVsZW1lbnQsIGZhbHNlKTtcclxuICAgICAgaWYgKGhhbmRsZXJJbmZvcykge1xyXG4gICAgICAgIGNvbnN0IGhhbmRsZXJJbmZvID0gaGFuZGxlckluZm9zLmdldEhhbmRsZXIoZXZlbnROYW1lKTtcclxuICAgICAgICBpZiAoaGFuZGxlckluZm8gJiYgIWV2ZW50SXNEaXNhYmxlZE9uRWxlbWVudChjYW5kaWRhdGVFbGVtZW50LCBicm93c2VyRXZlbnQudHlwZSkpIHtcclxuICAgICAgICAgIC8vIFdlIGFyZSBnb2luZyB0byByYWlzZSBhbiBldmVudCBmb3IgdGhpcyBlbGVtZW50LCBzbyBwcmVwYXJlIGluZm8gbmVlZGVkIGJ5IHRoZSAuTkVUIGNvZGVcclxuICAgICAgICAgIGlmICghZXZlbnRBcmdzSXNQb3B1bGF0ZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnRPcHRpb25zSWZSZWdpc3RlcmVkID0gZ2V0RXZlbnRUeXBlT3B0aW9ucyhldmVudE5hbWUpO1xyXG4gICAgICAgICAgICAvLyBGb3IgYmFjay1jb21wYXQsIGlmIHRoZXJlJ3Mgbm8gcmVnaXN0ZXJlZCBjcmVhdGVFdmVudEFyZ3MsIHdlIHN1cHBseSBlbXB0eSBldmVudCBhcmdzIChub3QgbnVsbCkuXHJcbiAgICAgICAgICAgIC8vIEJ1dCBpZiB0aGVyZSBpcyBhIHJlZ2lzdGVyZWQgY3JlYXRlRXZlbnRBcmdzLCBpdCBjYW4gc3VwcGx5IGFueXRoaW5nIChpbmNsdWRpbmcgbnVsbCkuXHJcbiAgICAgICAgICAgIGV2ZW50QXJncyA9IGV2ZW50T3B0aW9uc0lmUmVnaXN0ZXJlZD8uY3JlYXRlRXZlbnRBcmdzXHJcbiAgICAgICAgICAgICAgPyBldmVudE9wdGlvbnNJZlJlZ2lzdGVyZWQuY3JlYXRlRXZlbnRBcmdzKGJyb3dzZXJFdmVudClcclxuICAgICAgICAgICAgICA6IHt9O1xyXG4gICAgICAgICAgICBldmVudEFyZ3NJc1BvcHVsYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gRm9yIGNlcnRhaW4gYnVpbHQtaW4gZXZlbnRzLCBoYXZpbmcgYW55IC5ORVQgaGFuZGxlciBpbXBsaWNpdGx5IG1lYW5zIHdlIHdpbGwgcHJldmVudFxyXG4gICAgICAgICAgLy8gdGhlIGJyb3dzZXIncyBkZWZhdWx0IGJlaGF2aW9yLiBUaGlzIGhhcyB0byBiZSBiYXNlZCBvbiB0aGUgb3JpZ2luYWwgYnJvd3NlciBldmVudCB0eXBlIG5hbWUsXHJcbiAgICAgICAgICAvLyBub3QgYW55IGFsaWFzIChlLmcuLCBpZiB5b3UgY3JlYXRlIGEgY3VzdG9tICdzdWJtaXQnIHZhcmlhbnQsIGl0IHNob3VsZCBzdGlsbCBwcmV2ZW50RGVmYXVsdCkuXHJcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFsd2F5c1ByZXZlbnREZWZhdWx0RXZlbnRzLCBicm93c2VyRXZlbnQudHlwZSkpIHtcclxuICAgICAgICAgICAgYnJvd3NlckV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZGlzcGF0Y2hFdmVudCh0aGlzLmJyb3dzZXJSZW5kZXJlcklkLCB7XHJcbiAgICAgICAgICAgIGV2ZW50SGFuZGxlcklkOiBoYW5kbGVySW5mby5ldmVudEhhbmRsZXJJZCxcclxuICAgICAgICAgICAgZXZlbnROYW1lOiBldmVudE5hbWUsXHJcbiAgICAgICAgICAgIGV2ZW50RmllbGRJbmZvOiBFdmVudEZpZWxkSW5mby5mcm9tRXZlbnQoaGFuZGxlckluZm8ucmVuZGVyaW5nQ29tcG9uZW50SWQsIGJyb3dzZXJFdmVudCksXHJcbiAgICAgICAgICB9LCBldmVudEFyZ3MpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGhhbmRsZXJJbmZvcy5zdG9wUHJvcGFnYXRpb24oZXZlbnROYW1lKSkge1xyXG4gICAgICAgICAgc3RvcFByb3BhZ2F0aW9uV2FzUmVxdWVzdGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChoYW5kbGVySW5mb3MucHJldmVudERlZmF1bHQoZXZlbnROYW1lKSkge1xyXG4gICAgICAgICAgYnJvd3NlckV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjYW5kaWRhdGVFdmVudFRhcmdldCA9IChldmVudElzTm9uQnViYmxpbmcgfHwgc3RvcFByb3BhZ2F0aW9uV2FzUmVxdWVzdGVkKSA/IHVuZGVmaW5lZCA6IHBhdGguc2hpZnQoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0RXZlbnRIYW5kbGVySW5mb3NGb3JFbGVtZW50KGVsZW1lbnQ6IEVsZW1lbnQsIGNyZWF0ZUlmTmVlZGVkOiBib29sZWFuKTogRXZlbnRIYW5kbGVySW5mb3NGb3JFbGVtZW50IHwgbnVsbCB7XHJcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGVsZW1lbnQsIHRoaXMuZXZlbnRzQ29sbGVjdGlvbktleSkpIHtcclxuICAgICAgcmV0dXJuIGVsZW1lbnRbdGhpcy5ldmVudHNDb2xsZWN0aW9uS2V5XTtcclxuICAgIH0gZWxzZSBpZiAoY3JlYXRlSWZOZWVkZWQpIHtcclxuICAgICAgcmV0dXJuIChlbGVtZW50W3RoaXMuZXZlbnRzQ29sbGVjdGlvbktleV0gPSBuZXcgRXZlbnRIYW5kbGVySW5mb3NGb3JFbGVtZW50KCkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBSZXNwb25zaWJsZSBmb3IgYWRkaW5nIGFuZCByZW1vdmluZyB0aGUgZ2xvYmFsIGxpc3RlbmVyIHdoZW4gdGhlIG51bWJlciBvZiBsaXN0ZW5lcnNcclxuLy8gZm9yIGEgZ2l2ZW4gZXZlbnQgbmFtZSBjaGFuZ2VzIGJldHdlZW4gemVybyBhbmQgbm9uemVyb1xyXG5jbGFzcyBFdmVudEluZm9TdG9yZSB7XHJcbiAgcHJpdmF0ZSBpbmZvc0J5RXZlbnRIYW5kbGVySWQ6IHsgW2V2ZW50SGFuZGxlcklkOiBudW1iZXJdOiBFdmVudEhhbmRsZXJJbmZvIH0gPSB7fTtcclxuXHJcbiAgcHJpdmF0ZSBjb3VudEJ5RXZlbnROYW1lOiB7IFtldmVudE5hbWU6IHN0cmluZ106IG51bWJlciB9ID0ge307XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZ2xvYmFsTGlzdGVuZXI6IEV2ZW50TGlzdGVuZXIpIHtcclxuICAgIGV2ZW50TmFtZUFsaWFzUmVnaXN0ZXJlZENhbGxiYWNrcy5wdXNoKHRoaXMuaGFuZGxlRXZlbnROYW1lQWxpYXNBZGRlZC5iaW5kKHRoaXMpKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhZGQoaW5mbzogRXZlbnRIYW5kbGVySW5mbykge1xyXG4gICAgaWYgKHRoaXMuaW5mb3NCeUV2ZW50SGFuZGxlcklkW2luZm8uZXZlbnRIYW5kbGVySWRdKSB7XHJcbiAgICAgIC8vIFNob3VsZCBuZXZlciBoYXBwZW4sIGJ1dCB3ZSB3YW50IHRvIGtub3cgaWYgaXQgZG9lc1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEV2ZW50ICR7aW5mby5ldmVudEhhbmRsZXJJZH0gaXMgYWxyZWFkeSB0cmFja2VkYCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5pbmZvc0J5RXZlbnRIYW5kbGVySWRbaW5mby5ldmVudEhhbmRsZXJJZF0gPSBpbmZvO1xyXG5cclxuICAgIHRoaXMuYWRkR2xvYmFsTGlzdGVuZXIoaW5mby5ldmVudE5hbWUpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldChldmVudEhhbmRsZXJJZDogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gdGhpcy5pbmZvc0J5RXZlbnRIYW5kbGVySWRbZXZlbnRIYW5kbGVySWRdO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFkZEdsb2JhbExpc3RlbmVyKGV2ZW50TmFtZTogc3RyaW5nKSB7XHJcbiAgICAvLyBJZiB0aGlzIGV2ZW50IG5hbWUgaXMgYW4gYWxpYXMsIHVwZGF0ZSB0aGUgZ2xvYmFsIGxpc3RlbmVyIGZvciB0aGUgY29ycmVzcG9uZGluZyBicm93c2VyIGV2ZW50XHJcbiAgICBldmVudE5hbWUgPSBnZXRCcm93c2VyRXZlbnROYW1lKGV2ZW50TmFtZSk7XHJcblxyXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmNvdW50QnlFdmVudE5hbWUsIGV2ZW50TmFtZSkpIHtcclxuICAgICAgdGhpcy5jb3VudEJ5RXZlbnROYW1lW2V2ZW50TmFtZV0rKztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY291bnRCeUV2ZW50TmFtZVtldmVudE5hbWVdID0gMTtcclxuXHJcbiAgICAgIC8vIFRvIG1ha2UgZGVsZWdhdGlvbiB3b3JrIHdpdGggbm9uLWJ1YmJsaW5nIGV2ZW50cywgcmVnaXN0ZXIgYSAnY2FwdHVyZScgbGlzdGVuZXIuXHJcbiAgICAgIC8vIFdlIHByZXNlcnZlIHRoZSBub24tYnViYmxpbmcgYmVoYXZpb3IgYnkgb25seSBkaXNwYXRjaGluZyBzdWNoIGV2ZW50cyB0byB0aGUgdGFyZ2V0ZWQgZWxlbWVudC5cclxuICAgICAgY29uc3QgdXNlQ2FwdHVyZSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChub25CdWJibGluZ0V2ZW50cywgZXZlbnROYW1lKTtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHRoaXMuZ2xvYmFsTGlzdGVuZXIsIHVzZUNhcHR1cmUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIHVwZGF0ZShvbGRFdmVudEhhbmRsZXJJZDogbnVtYmVyLCBuZXdFdmVudEhhbmRsZXJJZDogbnVtYmVyKSB7XHJcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuaW5mb3NCeUV2ZW50SGFuZGxlcklkLCBuZXdFdmVudEhhbmRsZXJJZCkpIHtcclxuICAgICAgLy8gU2hvdWxkIG5ldmVyIGhhcHBlbiwgYnV0IHdlIHdhbnQgdG8ga25vdyBpZiBpdCBkb2VzXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRXZlbnQgJHtuZXdFdmVudEhhbmRsZXJJZH0gaXMgYWxyZWFkeSB0cmFja2VkYCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2luY2Ugd2UncmUganVzdCB1cGRhdGluZyB0aGUgZXZlbnQgaGFuZGxlciBJRCwgdGhlcmUncyBubyBuZWVkIHRvIHVwZGF0ZSB0aGUgZ2xvYmFsIGNvdW50c1xyXG4gICAgY29uc3QgaW5mbyA9IHRoaXMuaW5mb3NCeUV2ZW50SGFuZGxlcklkW29sZEV2ZW50SGFuZGxlcklkXTtcclxuICAgIGRlbGV0ZSB0aGlzLmluZm9zQnlFdmVudEhhbmRsZXJJZFtvbGRFdmVudEhhbmRsZXJJZF07XHJcbiAgICBpbmZvLmV2ZW50SGFuZGxlcklkID0gbmV3RXZlbnRIYW5kbGVySWQ7XHJcbiAgICB0aGlzLmluZm9zQnlFdmVudEhhbmRsZXJJZFtuZXdFdmVudEhhbmRsZXJJZF0gPSBpbmZvO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHJlbW92ZShldmVudEhhbmRsZXJJZDogbnVtYmVyKTogRXZlbnRIYW5kbGVySW5mbyB7XHJcbiAgICBjb25zdCBpbmZvID0gdGhpcy5pbmZvc0J5RXZlbnRIYW5kbGVySWRbZXZlbnRIYW5kbGVySWRdO1xyXG4gICAgaWYgKGluZm8pIHtcclxuICAgICAgZGVsZXRlIHRoaXMuaW5mb3NCeUV2ZW50SGFuZGxlcklkW2V2ZW50SGFuZGxlcklkXTtcclxuXHJcbiAgICAgIC8vIElmIHRoaXMgZXZlbnQgbmFtZSBpcyBhbiBhbGlhcywgdXBkYXRlIHRoZSBnbG9iYWwgbGlzdGVuZXIgZm9yIHRoZSBjb3JyZXNwb25kaW5nIGJyb3dzZXIgZXZlbnRcclxuICAgICAgY29uc3QgZXZlbnROYW1lID0gZ2V0QnJvd3NlckV2ZW50TmFtZShpbmZvLmV2ZW50TmFtZSk7XHJcblxyXG4gICAgICBpZiAoLS10aGlzLmNvdW50QnlFdmVudE5hbWVbZXZlbnROYW1lXSA9PT0gMCkge1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLmNvdW50QnlFdmVudE5hbWVbZXZlbnROYW1lXTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgdGhpcy5nbG9iYWxMaXN0ZW5lcik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaW5mbztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlRXZlbnROYW1lQWxpYXNBZGRlZChhbGlhc0V2ZW50TmFtZSwgYnJvd3NlckV2ZW50TmFtZSkge1xyXG4gICAgLy8gSWYgYW4gZXZlbnQgbmFtZSBhbGlhcyBnZXRzIHJlZ2lzdGVyZWQgbGF0ZXIsIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBnbG9iYWwgbGlzdGVuZXJcclxuICAgIC8vIHJlZ2lzdHJhdGlvbnMgdG8gbWF0Y2guIFRoaXMgbWFrZXMgaXQgZXF1aXZhbGVudCB0byB0aGUgYWxpYXMgaGF2aW5nIGJlZW4gcmVnaXN0ZXJlZFxyXG4gICAgLy8gYmVmb3JlIHRoZSBlbGVtZW50cyB3aXRoIGV2ZW50IGhhbmRsZXJzIGdvdCByZW5kZXJlZC5cclxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jb3VudEJ5RXZlbnROYW1lLCBhbGlhc0V2ZW50TmFtZSkpIHtcclxuICAgICAgLy8gRGVsZXRlIG9sZFxyXG4gICAgICBjb25zdCBjb3VudEJ5QWxpYXNFdmVudE5hbWUgPSB0aGlzLmNvdW50QnlFdmVudE5hbWVbYWxpYXNFdmVudE5hbWVdO1xyXG4gICAgICBkZWxldGUgdGhpcy5jb3VudEJ5RXZlbnROYW1lW2FsaWFzRXZlbnROYW1lXTtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhbGlhc0V2ZW50TmFtZSwgdGhpcy5nbG9iYWxMaXN0ZW5lcik7XHJcblxyXG4gICAgICAvLyBFbnN1cmUgY29ycmVzcG9uZGluZyBjb3VudCBpcyBhZGRlZCB0byBuZXdcclxuICAgICAgdGhpcy5hZGRHbG9iYWxMaXN0ZW5lcihicm93c2VyRXZlbnROYW1lKTtcclxuICAgICAgdGhpcy5jb3VudEJ5RXZlbnROYW1lW2Jyb3dzZXJFdmVudE5hbWVdICs9IGNvdW50QnlBbGlhc0V2ZW50TmFtZSAtIDE7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBFdmVudEhhbmRsZXJJbmZvc0ZvckVsZW1lbnQge1xyXG4gIC8vIEFsdGhvdWdoIHdlICpjb3VsZCogdHJhY2sgbXVsdGlwbGUgZXZlbnQgaGFuZGxlcnMgcGVyIChlbGVtZW50LCBldmVudE5hbWUpIHBhaXJcclxuICAvLyAoc2luY2UgdGhleSBoYXZlIGRpc3RpbmN0IGV2ZW50SGFuZGxlcklkIHZhbHVlcyksIHRoZXJlJ3Mgbm8gcG9pbnQgZG9pbmcgc28gYmVjYXVzZVxyXG4gIC8vIG91ciBwcm9ncmFtbWluZyBtb2RlbCBpcyB0aGF0IHlvdSBkZWNsYXJlIGV2ZW50IGhhbmRsZXJzIGFzIGF0dHJpYnV0ZXMuIEFuIGVsZW1lbnRcclxuICAvLyBjYW4gb25seSBoYXZlIG9uZSBhdHRyaWJ1dGUgd2l0aCBhIGdpdmVuIG5hbWUsIGhlbmNlIG9ubHkgb25lIGV2ZW50IGhhbmRsZXIgd2l0aFxyXG4gIC8vIHRoYXQgbmFtZSBhdCBhbnkgb25lIHRpbWUuXHJcbiAgLy8gU28gdG8ga2VlcCB0aGluZ3Mgc2ltcGxlLCBvbmx5IHRyYWNrIG9uZSBFdmVudEhhbmRsZXJJbmZvIHBlciAoZWxlbWVudCwgZXZlbnROYW1lKVxyXG4gIHByaXZhdGUgaGFuZGxlcnM6IHsgW2V2ZW50TmFtZTogc3RyaW5nXTogRXZlbnRIYW5kbGVySW5mbyB9ID0ge307XHJcblxyXG4gIHByaXZhdGUgcHJldmVudERlZmF1bHRGbGFnczogeyBbZXZlbnROYW1lOiBzdHJpbmddOiBib29sZWFuIH0gfCBudWxsID0gbnVsbDtcclxuXHJcbiAgcHJpdmF0ZSBzdG9wUHJvcGFnYXRpb25GbGFnczogeyBbZXZlbnROYW1lOiBzdHJpbmddOiBib29sZWFuIH0gfCBudWxsID0gbnVsbDtcclxuXHJcbiAgcHVibGljIGdldEhhbmRsZXIoZXZlbnROYW1lOiBzdHJpbmcpOiBFdmVudEhhbmRsZXJJbmZvIHwgbnVsbCB7XHJcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuaGFuZGxlcnMsIGV2ZW50TmFtZSkgPyB0aGlzLmhhbmRsZXJzW2V2ZW50TmFtZV0gOiBudWxsO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldEhhbmRsZXIoZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEV2ZW50SGFuZGxlckluZm8pIHtcclxuICAgIHRoaXMuaGFuZGxlcnNbZXZlbnROYW1lXSA9IGhhbmRsZXI7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcmVtb3ZlSGFuZGxlcihldmVudE5hbWU6IHN0cmluZykge1xyXG4gICAgZGVsZXRlIHRoaXMuaGFuZGxlcnNbZXZlbnROYW1lXTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwcmV2ZW50RGVmYXVsdChldmVudE5hbWU6IHN0cmluZywgc2V0VmFsdWU/OiBib29sZWFuKTogYm9vbGVhbiB7XHJcbiAgICBpZiAoc2V0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aGlzLnByZXZlbnREZWZhdWx0RmxhZ3MgPSB0aGlzLnByZXZlbnREZWZhdWx0RmxhZ3MgfHwge307XHJcbiAgICAgIHRoaXMucHJldmVudERlZmF1bHRGbGFnc1tldmVudE5hbWVdID0gc2V0VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMucHJldmVudERlZmF1bHRGbGFncyA/IHRoaXMucHJldmVudERlZmF1bHRGbGFnc1tldmVudE5hbWVdIDogZmFsc2U7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RvcFByb3BhZ2F0aW9uKGV2ZW50TmFtZTogc3RyaW5nLCBzZXRWYWx1ZT86IGJvb2xlYW4pOiBib29sZWFuIHtcclxuICAgIGlmIChzZXRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uRmxhZ3MgPSB0aGlzLnN0b3BQcm9wYWdhdGlvbkZsYWdzIHx8IHt9O1xyXG4gICAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbkZsYWdzW2V2ZW50TmFtZV0gPSBzZXRWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5zdG9wUHJvcGFnYXRpb25GbGFncyA/IHRoaXMuc3RvcFByb3BhZ2F0aW9uRmxhZ3NbZXZlbnROYW1lXSA6IGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBFdmVudERlc2NyaXB0b3Ige1xyXG4gIGV2ZW50SGFuZGxlcklkOiBudW1iZXI7XHJcbiAgZXZlbnROYW1lOiBzdHJpbmc7XHJcbiAgZXZlbnRGaWVsZEluZm86IEV2ZW50RmllbGRJbmZvIHwgbnVsbDtcclxufVxyXG5cclxuaW50ZXJmYWNlIEV2ZW50SGFuZGxlckluZm8ge1xyXG4gIGVsZW1lbnQ6IEVsZW1lbnQ7XHJcbiAgZXZlbnROYW1lOiBzdHJpbmc7XHJcbiAgZXZlbnRIYW5kbGVySWQ6IG51bWJlcjtcclxuXHJcbiAgLy8gVGhlIGNvbXBvbmVudCB3aG9zZSB0cmVlIGluY2x1ZGVzIHRoZSBldmVudCBoYW5kbGVyIGF0dHJpYnV0ZSBmcmFtZSwgKm5vdCogbmVjZXNzYXJpbHkgdGhlXHJcbiAgLy8gc2FtZSBjb21wb25lbnQgdGhhdCB3aWxsIGJlIHJlLXJlbmRlcmVkIGFmdGVyIHRoZSBldmVudCBpcyBoYW5kbGVkIChzaW5jZSB3ZSByZS1yZW5kZXIgdGhlXHJcbiAgLy8gY29tcG9uZW50IHRoYXQgc3VwcGxpZWQgdGhlIGRlbGVnYXRlLCBub3QgdGhlIG9uZSB0aGF0IHJlbmRlcmVkIHRoZSBldmVudCBoYW5kbGVyIGZyYW1lKVxyXG4gIHJlbmRlcmluZ0NvbXBvbmVudElkOiBudW1iZXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRvTG9va3VwKGl0ZW1zOiBzdHJpbmdbXSk6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9IHtcclxuICBjb25zdCByZXN1bHQgPSB7fTtcclxuICBpdGVtcy5mb3JFYWNoKHZhbHVlID0+IHtcclxuICAgIHJlc3VsdFt2YWx1ZV0gPSB0cnVlO1xyXG4gIH0pO1xyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV2ZW50SXNEaXNhYmxlZE9uRWxlbWVudChlbGVtZW50OiBFbGVtZW50LCByYXdCcm93c2VyRXZlbnROYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAvLyBXZSB3YW50IHRvIHJlcGxpY2F0ZSB0aGUgbm9ybWFsIERPTSBldmVudCBiZWhhdmlvciB0aGF0LCBmb3IgJ2ludGVyYWN0aXZlJyBlbGVtZW50c1xyXG4gIC8vIHdpdGggYSAnZGlzYWJsZWQnIGF0dHJpYnV0ZSwgY2VydGFpbiBtb3VzZSBldmVudHMgYXJlIHN1cHByZXNzZWRcclxuICByZXR1cm4gKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MQnV0dG9uRWxlbWVudCB8fCBlbGVtZW50IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCB8fCBlbGVtZW50IGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudCB8fCBlbGVtZW50IGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQpXHJcbiAgICAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGlzYWJsZWFibGVFdmVudE5hbWVzLCByYXdCcm93c2VyRXZlbnROYW1lKVxyXG4gICAgJiYgZWxlbWVudC5kaXNhYmxlZDtcclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5pbXBvcnQgeyBDb21wb25lbnREZXNjcmlwdG9yIH0gZnJvbSAnLi4vU2VydmljZXMvQ29tcG9uZW50RGVzY3JpcHRvckRpc2NvdmVyeSc7XHJcblxyXG4vKlxyXG4gIEEgTG9naWNhbEVsZW1lbnQgcGxheXMgdGhlIHNhbWUgcm9sZSBhcyBhbiBFbGVtZW50IGluc3RhbmNlIGZyb20gdGhlIHBvaW50IG9mIHZpZXcgb2YgdGhlXHJcbiAgQVBJIGNvbnN1bWVyLiBJbnNlcnRpbmcgYW5kIHJlbW92aW5nIGxvZ2ljYWwgZWxlbWVudHMgdXBkYXRlcyB0aGUgYnJvd3NlciBET00ganVzdCB0aGUgc2FtZS5cclxuXHJcbiAgVGhlIGRpZmZlcmVuY2UgaXMgdGhhdCwgdW5saWtlIHJlZ3VsYXIgRE9NIG11dGF0aW9uIEFQSXMsIHRoZSBMb2dpY2FsRWxlbWVudCBBUElzIGRvbid0IHVzZVxyXG4gIHRoZSB1bmRlcmx5aW5nIERPTSBzdHJ1Y3R1cmUgYXMgdGhlIGRhdGEgc3RvcmFnZSBmb3IgdGhlIGVsZW1lbnQgaGllcmFyY2h5LiBJbnN0ZWFkLCB0aGVcclxuICBMb2dpY2FsRWxlbWVudCBBUElzIHRha2UgY2FyZSBvZiB0cmFja2luZyBoaWVyYXJjaGljYWwgcmVsYXRpb25zaGlwcyBzZXBhcmF0ZWx5LiBUaGUgcG9pbnRcclxuICBvZiB0aGlzIGlzIHRvIHBlcm1pdCBhIGxvZ2ljYWwgdHJlZSBzdHJ1Y3R1cmUgaW4gd2hpY2ggcGFyZW50L2NoaWxkIHJlbGF0aW9uc2hpcHMgZG9uJ3RcclxuICBoYXZlIHRvIGJlIG1hdGVyaWFsaXplZCBpbiB0ZXJtcyBvZiBET00gZWxlbWVudCBwYXJlbnQvY2hpbGQgcmVsYXRpb25zaGlwcy4gQW5kIHRoZSByZWFzb25cclxuICB3aHkgd2Ugd2FudCB0aGF0IGlzIHNvIHRoYXQgaGllcmFyY2hpZXMgb2YgUmF6b3IgY29tcG9uZW50cyBjYW4gYmUgdHJhY2tlZCBldmVuIHdoZW4gdGhvc2VcclxuICBjb21wb25lbnRzJyByZW5kZXIgb3V0cHV0IG5lZWQgbm90IGJlIGEgc2luZ2xlIGxpdGVyYWwgRE9NIGVsZW1lbnQuXHJcblxyXG4gIENvbnN1bWVycyBvZiB0aGUgQVBJIGRvbid0IG5lZWQgdG8ga25vdyBhYm91dCB0aGUgaW1wbGVtZW50YXRpb24sIGJ1dCBob3cgaXQncyBkb25lIGlzOlxyXG4gIC0gRWFjaCBMb2dpY2FsRWxlbWVudCBpcyBtYXRlcmlhbGl6ZWQgaW4gdGhlIERPTSBhcyBlaXRoZXI6XHJcbiAgICAtIEEgTm9kZSBpbnN0YW5jZSwgZm9yIGFjdHVhbCBOb2RlIGluc3RhbmNlcyBpbnNlcnRlZCB1c2luZyAnaW5zZXJ0TG9naWNhbENoaWxkJyBvclxyXG4gICAgICBmb3IgRWxlbWVudCBpbnN0YW5jZXMgcHJvbW90ZWQgdG8gTG9naWNhbEVsZW1lbnQgdmlhICd0b0xvZ2ljYWxFbGVtZW50J1xyXG4gICAgLSBBIENvbW1lbnQgaW5zdGFuY2UsIGZvciAnbG9naWNhbCBjb250YWluZXInIGluc3RhbmNlcyBpbnNlcnRlZCB1c2luZyAnY3JlYXRlQW5kSW5zZXJ0TG9naWNhbENvbnRhaW5lcidcclxuICAtIFRoZW4sIG9uIHRoYXQgaW5zdGFuY2UgKGkuZS4sIHRoZSBOb2RlIG9yIENvbW1lbnQpLCB3ZSBzdG9yZSBhbiBhcnJheSBvZiAnbG9naWNhbCBjaGlsZHJlbidcclxuICAgIGluc3RhbmNlcywgZS5nLixcclxuICAgICAgW2ZpcnN0Q2hpbGQsIHNlY29uZENoaWxkLCB0aGlyZENoaWxkLCAuLi5dXHJcbiAgICAuLi4gcGx1cyB3ZSBzdG9yZSBhIHJlZmVyZW5jZSB0byB0aGUgJ2xvZ2ljYWwgcGFyZW50JyAoaWYgYW55KVxyXG4gIC0gVGhlICdsb2dpY2FsIGNoaWxkcmVuJyBhcnJheSBtZWFucyB3ZSBjYW4gbG9vayB1cCBpbiBPKDEpOlxyXG4gICAgLSBUaGUgbnVtYmVyIG9mIGxvZ2ljYWwgY2hpbGRyZW4gKG5vdCBjdXJyZW50bHkgaW1wbGVtZW50ZWQgYmVjYXVzZSBub3QgcmVxdWlyZWQsIGJ1dCB0cml2aWFsKVxyXG4gICAgLSBUaGUgbG9naWNhbCBjaGlsZCBhdCBhbnkgZ2l2ZW4gaW5kZXhcclxuICAtIFdoZW5ldmVyIGEgbG9naWNhbCBjaGlsZCBpcyBhZGRlZCBvciByZW1vdmVkLCB3ZSB1cGRhdGUgdGhlIHBhcmVudCdzIGFycmF5IG9mIGxvZ2ljYWwgY2hpbGRyZW5cclxuKi9cclxuXHJcbmNvbnN0IGxvZ2ljYWxDaGlsZHJlblByb3BuYW1lID0gU3ltYm9sKCk7XHJcbmNvbnN0IGxvZ2ljYWxQYXJlbnRQcm9wbmFtZSA9IFN5bWJvbCgpO1xyXG5jb25zdCBsb2dpY2FsUm9vdERlc2NyaXB0b3JQcm9wbmFtZSA9IFN5bWJvbCgpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRvTG9naWNhbFJvb3RDb21tZW50RWxlbWVudChkZXNjcmlwdG9yOiBDb21wb25lbnREZXNjcmlwdG9yKTogTG9naWNhbEVsZW1lbnQge1xyXG4gIC8vIE5vdyB0aGF0IHdlIHN1cHBvcnQgc3RhcnQvZW5kIGNvbW1lbnRzIGFzIGNvbXBvbmVudCBkZWxpbWl0ZXJzIHdlIGFyZSBnb2luZyB0byBiZSBzZXR0aW5nIHVwXHJcbiAgLy8gYWRkaW5nIHRoZSBjb21wb25lbnRzIHJlbmRlcmVkIG91dHB1dCBhcyBzaWJsaW5ncyBvZiB0aGUgc3RhcnQvZW5kIHRhZ3MgKGJldHdlZW4pLlxyXG4gIC8vIEZvciB0aGF0IHRvIHdvcmssIHdlIG5lZWQgdG8gYXBwcm9wcmlhdGVseSBjb25maWd1cmUgdGhlIHBhcmVudCBlbGVtZW50IHRvIGJlIGEgbG9naWNhbCBlbGVtZW50XHJcbiAgLy8gd2l0aCBhbGwgdGhlaXIgY2hpbGRyZW4gYmVpbmcgdGhlIGNoaWxkIGVsZW1lbnRzLlxyXG4gIC8vIEZvciBleGFtcGxlLCBpbWFnaW5lIHlvdSBoYXZlXHJcbiAgLy8gPGFwcD5cclxuICAvLyA8ZGl2PjxwPlN0YXRpYyBjb250ZW50PC9wPjwvZGl2PlxyXG4gIC8vIDwhLS0gc3RhcnQgY29tcG9uZW50XHJcbiAgLy8gPCEtLSBlbmQgY29tcG9uZW50XHJcbiAgLy8gPGZvb3Rlcj5Tb21lIG90aGVyIGNvbnRlbnQ8L2Zvb3Rlcj5cclxuICAvLyA8YXBwPlxyXG4gIC8vIFdlIHdhbnQgdGhlIHBhcmVudCBlbGVtZW50IHRvIGJlIHNvbWV0aGluZyBsaWtlXHJcbiAgLy8gKmFwcFxyXG4gIC8vIHwtICpkaXZcclxuICAvLyB8LSAqY29tcG9uZW50XHJcbiAgLy8gfC0gKmZvb3RlclxyXG4gIGNvbnN0IHsgc3RhcnQsIGVuZCB9ID0gZGVzY3JpcHRvcjtcclxuICBjb25zdCBleGlzdGluZ0Rlc2NyaXB0b3IgPSBzdGFydFtsb2dpY2FsUm9vdERlc2NyaXB0b3JQcm9wbmFtZV07XHJcbiAgaWYgKGV4aXN0aW5nRGVzY3JpcHRvcikge1xyXG4gICAgaWYgKGV4aXN0aW5nRGVzY3JpcHRvciAhPT0gZGVzY3JpcHRvcikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBzdGFydCBjb21wb25lbnQgY29tbWVudCB3YXMgYWxyZWFkeSBhc3NvY2lhdGVkIHdpdGggYW5vdGhlciBjb21wb25lbnQgZGVzY3JpcHRvci4nKTtcclxuICAgIH1cclxuICAgIHJldHVybiBzdGFydCBhcyB1bmtub3duIGFzIExvZ2ljYWxFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcGFyZW50ID0gc3RhcnQucGFyZW50Tm9kZTtcclxuICBpZiAoIXBhcmVudCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBDb21tZW50IG5vdCBjb25uZWN0ZWQgdG8gdGhlIERPTSAke3N0YXJ0LnRleHRDb250ZW50fWApO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcGFyZW50TG9naWNhbEVsZW1lbnQgPSB0b0xvZ2ljYWxFbGVtZW50KHBhcmVudCwgLyogYWxsb3cgZXhpc3RpbmcgY29udGVudHMgKi8gdHJ1ZSk7XHJcbiAgY29uc3QgY2hpbGRyZW4gPSBnZXRMb2dpY2FsQ2hpbGRyZW5BcnJheShwYXJlbnRMb2dpY2FsRWxlbWVudCk7XHJcblxyXG4gIHN0YXJ0W2xvZ2ljYWxQYXJlbnRQcm9wbmFtZV0gPSBwYXJlbnRMb2dpY2FsRWxlbWVudDtcclxuICBzdGFydFtsb2dpY2FsUm9vdERlc2NyaXB0b3JQcm9wbmFtZV0gPSBkZXNjcmlwdG9yO1xyXG4gIGNvbnN0IHN0YXJ0TG9naWNhbEVsZW1lbnQgPSB0b0xvZ2ljYWxFbGVtZW50KHN0YXJ0KTtcclxuXHJcbiAgaWYgKGVuZCkge1xyXG4gICAgLy8gV2UgbmVlZCB0byBtYWtlIGVhY2ggZWxlbWVudCBiZXR3ZWVuIHRoZSBzdGFydCBhbmQgZW5kIGNvbW1lbnRzIGEgbG9naWNhbCBjaGlsZFxyXG4gICAgLy8gb2YgdGhlIHN0YXJ0IG5vZGUuXHJcbiAgICBjb25zdCByb290Q29tbWVudENoaWxkcmVuID0gZ2V0TG9naWNhbENoaWxkcmVuQXJyYXkoc3RhcnRMb2dpY2FsRWxlbWVudCk7XHJcbiAgICBjb25zdCBzdGFydE5leHRDaGlsZEluZGV4ID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChjaGlsZHJlbiwgc3RhcnRMb2dpY2FsRWxlbWVudCkgKyAxO1xyXG4gICAgbGV0IGxhc3RNb3ZlZENoaWxkOiBMb2dpY2FsRWxlbWVudCB8IG51bGwgPSBudWxsO1xyXG5cclxuICAgIHdoaWxlIChsYXN0TW92ZWRDaGlsZCAhPT0gZW5kIGFzIHVua25vd24gYXMgTG9naWNhbEVsZW1lbnQpIHtcclxuICAgICAgY29uc3QgY2hpbGRUb01vdmUgPSBjaGlsZHJlbi5zcGxpY2Uoc3RhcnROZXh0Q2hpbGRJbmRleCwgMSlbMF07XHJcbiAgICAgIGlmICghY2hpbGRUb01vdmUpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBmaW5kIHRoZSBlbmQgY29tcG9uZW50IGNvbW1lbnQgaW4gdGhlIHBhcmVudCBsb2dpY2FsIG5vZGUgbGlzdCcpO1xyXG4gICAgICB9XHJcbiAgICAgIGNoaWxkVG9Nb3ZlW2xvZ2ljYWxQYXJlbnRQcm9wbmFtZV0gPSBzdGFydDtcclxuICAgICAgcm9vdENvbW1lbnRDaGlsZHJlbi5wdXNoKGNoaWxkVG9Nb3ZlKTtcclxuICAgICAgbGFzdE1vdmVkQ2hpbGQgPSBjaGlsZFRvTW92ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBzdGFydExvZ2ljYWxFbGVtZW50O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdG9Mb2dpY2FsRWxlbWVudChlbGVtZW50OiBOb2RlLCBhbGxvd0V4aXN0aW5nQ29udGVudHM/OiBib29sZWFuKTogTG9naWNhbEVsZW1lbnQge1xyXG4gIGlmIChsb2dpY2FsQ2hpbGRyZW5Qcm9wbmFtZSBpbiBlbGVtZW50KSB7IC8vIElmIGl0J3MgYWxyZWFkeSBhIGxvZ2ljYWwgZWxlbWVudCwgbGVhdmUgaXQgYWxvbmVcclxuICAgIHJldHVybiBlbGVtZW50IGFzIHVua25vd24gYXMgTG9naWNhbEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBjb25zdCBjaGlsZHJlbkFycmF5OiBMb2dpY2FsRWxlbWVudFtdID0gW107XHJcblxyXG4gIGlmIChlbGVtZW50LmNoaWxkTm9kZXMubGVuZ3RoID4gMCkge1xyXG4gICAgLy8gTm9ybWFsbHkgaXQncyBnb29kIHRvIGFzc2VydCB0aGF0IHRoZSBlbGVtZW50IGhhcyBzdGFydGVkIGVtcHR5LCBiZWNhdXNlIHRoYXQncyB0aGUgdXN1YWxcclxuICAgIC8vIHNpdHVhdGlvbiBhbmQgd2UgcHJvYmFibHkgaGF2ZSBhIGJ1ZyBpZiBpdCdzIG5vdC4gQnV0IGZvciB0aGUgZWxlbWVudHMgdGhhdCBjb250YWluIHByZXJlbmRlcmVkXHJcbiAgICAvLyByb290IGNvbXBvbmVudHMsIHdlIHdhbnQgdG8gbGV0IHRoZW0ga2VlcCB0aGVpciBjb250ZW50IHVudGlsIHdlIHJlcGxhY2UgaXQuXHJcbiAgICBpZiAoIWFsbG93RXhpc3RpbmdDb250ZW50cykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05ldyBsb2dpY2FsIGVsZW1lbnRzIG11c3Qgc3RhcnQgZW1wdHksIG9yIGFsbG93RXhpc3RpbmdDb250ZW50cyBtdXN0IGJlIHRydWUnKTtcclxuICAgIH1cclxuXHJcbiAgICBlbGVtZW50LmNoaWxkTm9kZXMuZm9yRWFjaChjaGlsZCA9PiB7XHJcbiAgICAgIGNvbnN0IGNoaWxkTG9naWNhbEVsZW1lbnQgPSB0b0xvZ2ljYWxFbGVtZW50KGNoaWxkLCAvKiBhbGxvd0V4aXN0aW5nQ29udGVudHMgKi8gdHJ1ZSk7XHJcbiAgICAgIGNoaWxkTG9naWNhbEVsZW1lbnRbbG9naWNhbFBhcmVudFByb3BuYW1lXSA9IGVsZW1lbnQ7XHJcbiAgICAgIGNoaWxkcmVuQXJyYXkucHVzaChjaGlsZExvZ2ljYWxFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZWxlbWVudFtsb2dpY2FsQ2hpbGRyZW5Qcm9wbmFtZV0gPSBjaGlsZHJlbkFycmF5O1xyXG4gIHJldHVybiBlbGVtZW50IGFzIHVua25vd24gYXMgTG9naWNhbEVsZW1lbnQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlbXB0eUxvZ2ljYWxFbGVtZW50KGVsZW1lbnQ6IExvZ2ljYWxFbGVtZW50KTogdm9pZCB7XHJcbiAgY29uc3QgY2hpbGRyZW5BcnJheSA9IGdldExvZ2ljYWxDaGlsZHJlbkFycmF5KGVsZW1lbnQpO1xyXG4gIHdoaWxlIChjaGlsZHJlbkFycmF5Lmxlbmd0aCkge1xyXG4gICAgcmVtb3ZlTG9naWNhbENoaWxkKGVsZW1lbnQsIDApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFuZEluc2VydExvZ2ljYWxDb250YWluZXIocGFyZW50OiBMb2dpY2FsRWxlbWVudCwgY2hpbGRJbmRleDogbnVtYmVyKTogTG9naWNhbEVsZW1lbnQge1xyXG4gIGNvbnN0IGNvbnRhaW5lckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KCchJyk7XHJcbiAgaW5zZXJ0TG9naWNhbENoaWxkKGNvbnRhaW5lckVsZW1lbnQsIHBhcmVudCwgY2hpbGRJbmRleCk7XHJcbiAgcmV0dXJuIGNvbnRhaW5lckVsZW1lbnQgYXMgdW5rbm93biBhcyBMb2dpY2FsRWxlbWVudDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydExvZ2ljYWxDaGlsZEJlZm9yZShjaGlsZDogTm9kZSwgcGFyZW50OiBMb2dpY2FsRWxlbWVudCwgYmVmb3JlOiBMb2dpY2FsRWxlbWVudCB8IG51bGwpOiB2b2lkIHtcclxuICBjb25zdCBjaGlsZHJlbkFycmF5ID0gZ2V0TG9naWNhbENoaWxkcmVuQXJyYXkocGFyZW50KTtcclxuICBsZXQgY2hpbGRJbmRleDogbnVtYmVyO1xyXG4gIGlmIChiZWZvcmUpIHtcclxuICAgIGNoaWxkSW5kZXggPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGNoaWxkcmVuQXJyYXksIGJlZm9yZSk7XHJcbiAgICBpZiAoY2hpbGRJbmRleCA8IDApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgZmluZCBsb2dpY2FsIGVsZW1lbnQgaW4gdGhlIHBhcmVudCBsb2dpY2FsIG5vZGUgbGlzdCcpO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBjaGlsZEluZGV4ID0gY2hpbGRyZW5BcnJheS5sZW5ndGg7XHJcbiAgfVxyXG4gIGluc2VydExvZ2ljYWxDaGlsZChjaGlsZCwgcGFyZW50LCBjaGlsZEluZGV4KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydExvZ2ljYWxDaGlsZChjaGlsZDogTm9kZSwgcGFyZW50OiBMb2dpY2FsRWxlbWVudCwgY2hpbGRJbmRleDogbnVtYmVyKTogdm9pZCB7XHJcbiAgY29uc3QgY2hpbGRBc0xvZ2ljYWxFbGVtZW50ID0gY2hpbGQgYXMgdW5rbm93biBhcyBMb2dpY2FsRWxlbWVudDtcclxuXHJcbiAgLy8gSWYgdGhlIGNoaWxkIGlzIGEgY29tcG9uZW50IGNvbW1lbnQgd2l0aCBsb2dpY2FsIGNoaWxkcmVuLCBpdHMgY2hpbGRyZW5cclxuICAvLyBuZWVkIHRvIGJlIGluc2VydGVkIGludG8gdGhlIHBhcmVudCBub2RlXHJcbiAgbGV0IG5vZGVUb0luc2VydCA9IGNoaWxkO1xyXG4gIGlmIChjaGlsZCBpbnN0YW5jZW9mIENvbW1lbnQpIHtcclxuICAgIGNvbnN0IGV4aXN0aW5nR3JhbmNoaWxkcmVuID0gZ2V0TG9naWNhbENoaWxkcmVuQXJyYXkoY2hpbGRBc0xvZ2ljYWxFbGVtZW50KTtcclxuICAgIGlmIChleGlzdGluZ0dyYW5jaGlsZHJlbj8ubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCBsYXN0Tm9kZVRvSW5zZXJ0ID0gZmluZExhc3REb21Ob2RlSW5SYW5nZShjaGlsZEFzTG9naWNhbEVsZW1lbnQpO1xyXG4gICAgICBjb25zdCByYW5nZSA9IG5ldyBSYW5nZSgpO1xyXG4gICAgICByYW5nZS5zZXRTdGFydEJlZm9yZShjaGlsZCk7XHJcbiAgICAgIHJhbmdlLnNldEVuZEFmdGVyKGxhc3ROb2RlVG9JbnNlcnQpO1xyXG4gICAgICBub2RlVG9JbnNlcnQgPSByYW5nZS5leHRyYWN0Q29udGVudHMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIElmIHRoZSBub2RlIHdlJ3JlIGluc2VydGluZyBhbHJlYWR5IGhhcyBhIGxvZ2ljYWwgcGFyZW50LFxyXG4gIC8vIHJlbW92ZSBpdCBmcm9tIGl0cyBzaWJsaW5nIGFycmF5XHJcbiAgY29uc3QgZXhpc3RpbmdMb2dpY2FsUGFyZW50ID0gZ2V0TG9naWNhbFBhcmVudChjaGlsZEFzTG9naWNhbEVsZW1lbnQpO1xyXG4gIGlmIChleGlzdGluZ0xvZ2ljYWxQYXJlbnQpIHtcclxuICAgIGNvbnN0IGV4aXN0aW5nU2libGluZ0FycmF5ID0gZ2V0TG9naWNhbENoaWxkcmVuQXJyYXkoZXhpc3RpbmdMb2dpY2FsUGFyZW50KTtcclxuICAgIGNvbnN0IGV4aXN0aW5nQ2hpbGRJbmRleCA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoZXhpc3RpbmdTaWJsaW5nQXJyYXksIGNoaWxkQXNMb2dpY2FsRWxlbWVudCk7XHJcbiAgICBleGlzdGluZ1NpYmxpbmdBcnJheS5zcGxpY2UoZXhpc3RpbmdDaGlsZEluZGV4LCAxKTtcclxuICAgIGRlbGV0ZSBjaGlsZEFzTG9naWNhbEVsZW1lbnRbbG9naWNhbFBhcmVudFByb3BuYW1lXTtcclxuICB9XHJcblxyXG4gIGNvbnN0IG5ld1NpYmxpbmdzID0gZ2V0TG9naWNhbENoaWxkcmVuQXJyYXkocGFyZW50KTtcclxuICBpZiAoY2hpbGRJbmRleCA8IG5ld1NpYmxpbmdzLmxlbmd0aCkge1xyXG4gICAgLy8gSW5zZXJ0XHJcbiAgICBjb25zdCBuZXh0U2libGluZyA9IG5ld1NpYmxpbmdzW2NoaWxkSW5kZXhdIGFzIGFueSBhcyBOb2RlO1xyXG4gICAgbmV4dFNpYmxpbmcucGFyZW50Tm9kZSEuaW5zZXJ0QmVmb3JlKG5vZGVUb0luc2VydCwgbmV4dFNpYmxpbmcpO1xyXG4gICAgbmV3U2libGluZ3Muc3BsaWNlKGNoaWxkSW5kZXgsIDAsIGNoaWxkQXNMb2dpY2FsRWxlbWVudCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIEFwcGVuZFxyXG4gICAgYXBwZW5kRG9tTm9kZShub2RlVG9JbnNlcnQsIHBhcmVudCk7XHJcbiAgICBuZXdTaWJsaW5ncy5wdXNoKGNoaWxkQXNMb2dpY2FsRWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBjaGlsZEFzTG9naWNhbEVsZW1lbnRbbG9naWNhbFBhcmVudFByb3BuYW1lXSA9IHBhcmVudDtcclxuICBpZiAoIShsb2dpY2FsQ2hpbGRyZW5Qcm9wbmFtZSBpbiBjaGlsZEFzTG9naWNhbEVsZW1lbnQpKSB7XHJcbiAgICBjaGlsZEFzTG9naWNhbEVsZW1lbnRbbG9naWNhbENoaWxkcmVuUHJvcG5hbWVdID0gW107XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTG9naWNhbENoaWxkKHBhcmVudDogTG9naWNhbEVsZW1lbnQsIGNoaWxkSW5kZXg6IG51bWJlcik6IHZvaWQge1xyXG4gIGNvbnN0IGNoaWxkcmVuQXJyYXkgPSBnZXRMb2dpY2FsQ2hpbGRyZW5BcnJheShwYXJlbnQpO1xyXG4gIGNvbnN0IGNoaWxkVG9SZW1vdmUgPSBjaGlsZHJlbkFycmF5LnNwbGljZShjaGlsZEluZGV4LCAxKVswXTtcclxuXHJcbiAgLy8gSWYgaXQncyBhIGxvZ2ljYWwgY29udGFpbmVyLCBhbHNvIHJlbW92ZSBpdHMgZGVzY2VuZGFudHNcclxuICBpZiAoY2hpbGRUb1JlbW92ZSBpbnN0YW5jZW9mIENvbW1lbnQpIHtcclxuICAgIGNvbnN0IGdyYW5kY2hpbGRyZW5BcnJheSA9IGdldExvZ2ljYWxDaGlsZHJlbkFycmF5KGNoaWxkVG9SZW1vdmUpO1xyXG4gICAgaWYgKGdyYW5kY2hpbGRyZW5BcnJheSkge1xyXG4gICAgICB3aGlsZSAoZ3JhbmRjaGlsZHJlbkFycmF5Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICByZW1vdmVMb2dpY2FsQ2hpbGQoY2hpbGRUb1JlbW92ZSwgMCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEZpbmFsbHksIHJlbW92ZSB0aGUgbm9kZSBpdHNlbGZcclxuICBjb25zdCBkb21Ob2RlVG9SZW1vdmUgPSBjaGlsZFRvUmVtb3ZlIGFzIGFueSBhcyBOb2RlO1xyXG4gIGRvbU5vZGVUb1JlbW92ZS5wYXJlbnROb2RlIS5yZW1vdmVDaGlsZChkb21Ob2RlVG9SZW1vdmUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9naWNhbFBhcmVudChlbGVtZW50OiBMb2dpY2FsRWxlbWVudCk6IExvZ2ljYWxFbGVtZW50IHwgbnVsbCB7XHJcbiAgcmV0dXJuIChlbGVtZW50W2xvZ2ljYWxQYXJlbnRQcm9wbmFtZV0gYXMgTG9naWNhbEVsZW1lbnQpIHx8IG51bGw7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2dpY2FsQ2hpbGQocGFyZW50OiBMb2dpY2FsRWxlbWVudCwgY2hpbGRJbmRleDogbnVtYmVyKTogTG9naWNhbEVsZW1lbnQge1xyXG4gIHJldHVybiBnZXRMb2dpY2FsQ2hpbGRyZW5BcnJheShwYXJlbnQpW2NoaWxkSW5kZXhdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9naWNhbFJvb3REZXNjcmlwdG9yKGVsZW1lbnQ6IExvZ2ljYWxFbGVtZW50KTogQ29tcG9uZW50RGVzY3JpcHRvciB7XHJcbiAgcmV0dXJuIGVsZW1lbnRbbG9naWNhbFJvb3REZXNjcmlwdG9yUHJvcG5hbWVdIHx8IG51bGw7XHJcbn1cclxuXHJcbi8vIFNWRyBlbGVtZW50cyBzdXBwb3J0IGBmb3JlaWduT2JqZWN0YCBjaGlsZHJlbiB0aGF0IGNhbiBob2xkIGFyYml0cmFyeSBIVE1MLlxyXG4vLyBGb3IgdGhlc2Ugc2NlbmFyaW9zLCB0aGUgcGFyZW50IFNWRyBhbmQgYGZvcmVpZ25PYmplY3RgIGVsZW1lbnRzIHNob3VsZFxyXG4vLyBiZSByZW5kZXJlZCB1bmRlciB0aGUgU1ZHIG5hbWVzcGFjZSwgd2hpbGUgdGhlIEhUTUwgY29udGVudCBzaG91bGQgYmUgcmVuZGVyZWRcclxuLy8gdW5kZXIgdGhlIFhIVE1MIG5hbWVzcGFjZS4gSWYgdGhlIGNvcnJlY3QgbmFtZXNwYWNlcyBhcmUgbm90IHByb3ZpZGVkLCBtb3N0XHJcbi8vIGJyb3dzZXJzIHdpbGwgZmFpbCB0byByZW5kZXIgdGhlIGZvcmVpZ24gb2JqZWN0IGNvbnRlbnQuIEhlcmUsIHdlIGVuc3VyZSB0aGF0IGlmXHJcbi8vIHdlIGVuY291bnRlciBhIGBmb3JlaWduT2JqZWN0YCBpbiB0aGUgU1ZHLCB0aGVuIGFsbCBpdHMgY2hpbGRyZW4gd2lsbCBiZSBwbGFjZWRcclxuLy8gdW5kZXIgdGhlIFhIVE1MIG5hbWVzcGFjZS5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzU3ZnRWxlbWVudChlbGVtZW50OiBMb2dpY2FsRWxlbWVudCk6IGJvb2xlYW4ge1xyXG4gIC8vIE5vdGU6IFRoaXMgY2hlY2sgaXMgaW50ZW50aW9uYWxseSBjYXNlLXNlbnNpdGl2ZSBzaW5jZSB3ZSBleHBlY3QgdGhpcyBlbGVtZW50XHJcbiAgLy8gdG8gYXBwZWFyIGFzIGEgY2hpbGQgb2YgYW4gU1ZHIGVsZW1lbnQgYW5kIFNWR3MgYXJlIGNhc2Utc2Vuc2l0aXZlLlxyXG4gIGNvbnN0IGNsb3Nlc3RFbGVtZW50ID0gZ2V0Q2xvc2VzdERvbUVsZW1lbnQoZWxlbWVudCkgYXMgYW55O1xyXG4gIHJldHVybiBjbG9zZXN0RWxlbWVudC5uYW1lc3BhY2VVUkkgPT09ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgJiYgY2xvc2VzdEVsZW1lbnRbJ3RhZ05hbWUnXSAhPT0gJ2ZvcmVpZ25PYmplY3QnO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9naWNhbENoaWxkcmVuQXJyYXkoZWxlbWVudDogTG9naWNhbEVsZW1lbnQpOiBMb2dpY2FsRWxlbWVudFtdIHtcclxuICByZXR1cm4gZWxlbWVudFtsb2dpY2FsQ2hpbGRyZW5Qcm9wbmFtZV0gYXMgTG9naWNhbEVsZW1lbnRbXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldExvZ2ljYWxOZXh0U2libGluZyhlbGVtZW50OiBMb2dpY2FsRWxlbWVudCk6IExvZ2ljYWxFbGVtZW50IHwgbnVsbCB7XHJcbiAgY29uc3Qgc2libGluZ3MgPSBnZXRMb2dpY2FsQ2hpbGRyZW5BcnJheShnZXRMb2dpY2FsUGFyZW50KGVsZW1lbnQpISk7XHJcbiAgY29uc3Qgc2libGluZ0luZGV4ID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChzaWJsaW5ncywgZWxlbWVudCk7XHJcbiAgcmV0dXJuIHNpYmxpbmdzW3NpYmxpbmdJbmRleCArIDFdIHx8IG51bGw7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0xvZ2ljYWxFbGVtZW50KGVsZW1lbnQ6IE5vZGUpOiBib29sZWFuIHtcclxuICByZXR1cm4gbG9naWNhbENoaWxkcmVuUHJvcG5hbWUgaW4gZWxlbWVudDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHBlcm11dGVMb2dpY2FsQ2hpbGRyZW4ocGFyZW50OiBMb2dpY2FsRWxlbWVudCwgcGVybXV0YXRpb25MaXN0OiBQZXJtdXRhdGlvbkxpc3RFbnRyeVtdKTogdm9pZCB7XHJcbiAgLy8gVGhlIHBlcm11dGF0aW9uTGlzdCBtdXN0IHJlcHJlc2VudCBhIHZhbGlkIHBlcm11dGF0aW9uLCBpLmUuLCB0aGUgbGlzdCBvZiAnZnJvbScgaW5kaWNlc1xyXG4gIC8vIGlzIGRpc3RpbmN0LCBhbmQgdGhlIGxpc3Qgb2YgJ3RvJyBpbmRpY2VzIGlzIGEgcGVybXV0YXRpb24gb2YgaXQuIFRoZSBhbGdvcml0aG0gaGVyZVxyXG4gIC8vIHJlbGllcyBvbiB0aGF0IGFzc3VtcHRpb24uXHJcblxyXG4gIC8vIEVhY2ggb2YgdGhlIHBoYXNlcyBoZXJlIGhhcyB0byBoYXBwZW4gc2VwYXJhdGVseSwgYmVjYXVzZSBlYWNoIG9uZSBpcyBkZXNpZ25lZCBub3QgdG9cclxuICAvLyBpbnRlcmZlcmUgd2l0aCB0aGUgaW5kaWNlcyBvciBET00gZW50cmllcyB1c2VkIGJ5IHN1YnNlcXVlbnQgcGhhc2VzLlxyXG5cclxuICAvLyBQaGFzZSAxOiB0cmFjayB3aGljaCBub2RlcyB3ZSB3aWxsIG1vdmVcclxuICBjb25zdCBzaWJsaW5ncyA9IGdldExvZ2ljYWxDaGlsZHJlbkFycmF5KHBhcmVudCk7XHJcbiAgcGVybXV0YXRpb25MaXN0LmZvckVhY2goKGxpc3RFbnRyeTogUGVybXV0YXRpb25MaXN0RW50cnlXaXRoVHJhY2tpbmdEYXRhKSA9PiB7XHJcbiAgICBsaXN0RW50cnkubW92ZVJhbmdlU3RhcnQgPSBzaWJsaW5nc1tsaXN0RW50cnkuZnJvbVNpYmxpbmdJbmRleF07XHJcbiAgICBsaXN0RW50cnkubW92ZVJhbmdlRW5kID0gZmluZExhc3REb21Ob2RlSW5SYW5nZShsaXN0RW50cnkubW92ZVJhbmdlU3RhcnQpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBQaGFzZSAyOiBpbnNlcnQgbWFya2Vyc1xyXG4gIHBlcm11dGF0aW9uTGlzdC5mb3JFYWNoKChsaXN0RW50cnk6IFBlcm11dGF0aW9uTGlzdEVudHJ5V2l0aFRyYWNraW5nRGF0YSkgPT4ge1xyXG4gICAgY29uc3QgbWFya2VyID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnbWFya2VyJyk7XHJcbiAgICBsaXN0RW50cnkubW92ZVRvQmVmb3JlTWFya2VyID0gbWFya2VyO1xyXG4gICAgY29uc3QgaW5zZXJ0QmVmb3JlTm9kZSA9IHNpYmxpbmdzW2xpc3RFbnRyeS50b1NpYmxpbmdJbmRleCArIDFdIGFzIGFueSBhcyBOb2RlO1xyXG4gICAgaWYgKGluc2VydEJlZm9yZU5vZGUpIHtcclxuICAgICAgaW5zZXJ0QmVmb3JlTm9kZS5wYXJlbnROb2RlIS5pbnNlcnRCZWZvcmUobWFya2VyLCBpbnNlcnRCZWZvcmVOb2RlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcGVuZERvbU5vZGUobWFya2VyLCBwYXJlbnQpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLyBQaGFzZSAzOiBtb3ZlIGRlc2NlbmRhbnRzICYgcmVtb3ZlIG1hcmtlcnNcclxuICBwZXJtdXRhdGlvbkxpc3QuZm9yRWFjaCgobGlzdEVudHJ5OiBQZXJtdXRhdGlvbkxpc3RFbnRyeVdpdGhUcmFja2luZ0RhdGEpID0+IHtcclxuICAgIGNvbnN0IGluc2VydEJlZm9yZSA9IGxpc3RFbnRyeS5tb3ZlVG9CZWZvcmVNYXJrZXIhO1xyXG4gICAgY29uc3QgcGFyZW50RG9tTm9kZSA9IGluc2VydEJlZm9yZS5wYXJlbnROb2RlITtcclxuICAgIGNvbnN0IGVsZW1lbnRUb01vdmUgPSBsaXN0RW50cnkubW92ZVJhbmdlU3RhcnQhO1xyXG4gICAgY29uc3QgbW92ZUVuZE5vZGUgPSBsaXN0RW50cnkubW92ZVJhbmdlRW5kITtcclxuICAgIGxldCBuZXh0VG9Nb3ZlID0gZWxlbWVudFRvTW92ZSBhcyB1bmtub3duIGFzIE5vZGUgfCBudWxsO1xyXG4gICAgd2hpbGUgKG5leHRUb01vdmUpIHtcclxuICAgICAgY29uc3QgbmV4dE5leHQgPSBuZXh0VG9Nb3ZlLm5leHRTaWJsaW5nO1xyXG4gICAgICBwYXJlbnREb21Ob2RlLmluc2VydEJlZm9yZShuZXh0VG9Nb3ZlLCBpbnNlcnRCZWZvcmUpO1xyXG5cclxuICAgICAgaWYgKG5leHRUb01vdmUgPT09IG1vdmVFbmROb2RlKSB7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbmV4dFRvTW92ZSA9IG5leHROZXh0O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcGFyZW50RG9tTm9kZS5yZW1vdmVDaGlsZChpbnNlcnRCZWZvcmUpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBQaGFzZSA0OiB1cGRhdGUgc2libGluZ3MgaW5kZXhcclxuICBwZXJtdXRhdGlvbkxpc3QuZm9yRWFjaCgobGlzdEVudHJ5OiBQZXJtdXRhdGlvbkxpc3RFbnRyeVdpdGhUcmFja2luZ0RhdGEpID0+IHtcclxuICAgIHNpYmxpbmdzW2xpc3RFbnRyeS50b1NpYmxpbmdJbmRleF0gPSBsaXN0RW50cnkubW92ZVJhbmdlU3RhcnQhO1xyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xvc2VzdERvbUVsZW1lbnQobG9naWNhbEVsZW1lbnQ6IExvZ2ljYWxFbGVtZW50KTogRWxlbWVudCB8IChMb2dpY2FsRWxlbWVudCAmIERvY3VtZW50RnJhZ21lbnQpIHtcclxuICBpZiAobG9naWNhbEVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50IHx8IGxvZ2ljYWxFbGVtZW50IGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCkge1xyXG4gICAgcmV0dXJuIGxvZ2ljYWxFbGVtZW50O1xyXG4gIH0gZWxzZSBpZiAobG9naWNhbEVsZW1lbnQgaW5zdGFuY2VvZiBDb21tZW50KSB7XHJcbiAgICByZXR1cm4gbG9naWNhbEVsZW1lbnQucGFyZW50Tm9kZSEgYXMgRWxlbWVudDtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgYSB2YWxpZCBsb2dpY2FsIGVsZW1lbnQnKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGVybXV0YXRpb25MaXN0RW50cnkge1xyXG4gIGZyb21TaWJsaW5nSW5kZXg6IG51bWJlcixcclxuICB0b1NpYmxpbmdJbmRleDogbnVtYmVyLFxyXG59XHJcblxyXG5pbnRlcmZhY2UgUGVybXV0YXRpb25MaXN0RW50cnlXaXRoVHJhY2tpbmdEYXRhIGV4dGVuZHMgUGVybXV0YXRpb25MaXN0RW50cnkge1xyXG4gIC8vIFRoZXNlIGV4dHJhIHByb3BlcnRpZXMgYXJlIHVzZWQgaW50ZXJuYWxseSB3aGVuIHByb2Nlc3NpbmcgdGhlIHBlcm11dGF0aW9uIGxpc3RcclxuICBtb3ZlUmFuZ2VTdGFydD86IExvZ2ljYWxFbGVtZW50LFxyXG4gIG1vdmVSYW5nZUVuZD86IE5vZGUsXHJcbiAgbW92ZVRvQmVmb3JlTWFya2VyPzogTm9kZSxcclxufVxyXG5cclxuZnVuY3Rpb24gYXBwZW5kRG9tTm9kZShjaGlsZDogTm9kZSwgcGFyZW50OiBMb2dpY2FsRWxlbWVudCkge1xyXG4gIC8vIFRoaXMgZnVuY3Rpb24gb25seSBwdXRzICdjaGlsZCcgaW50byB0aGUgRE9NIGluIHRoZSByaWdodCBwbGFjZSByZWxhdGl2ZSB0byAncGFyZW50J1xyXG4gIC8vIEl0IGRvZXMgbm90IHVwZGF0ZSB0aGUgbG9naWNhbCBjaGlsZHJlbiBhcnJheSBvZiBhbnl0aGluZ1xyXG4gIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBFbGVtZW50IHx8IHBhcmVudCBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpIHtcclxuICAgIHBhcmVudC5hcHBlbmRDaGlsZChjaGlsZCk7XHJcbiAgfSBlbHNlIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBDb21tZW50KSB7XHJcbiAgICBjb25zdCBwYXJlbnRMb2dpY2FsTmV4dFNpYmxpbmcgPSBnZXRMb2dpY2FsTmV4dFNpYmxpbmcocGFyZW50KSBhcyBhbnkgYXMgTm9kZTtcclxuICAgIGlmIChwYXJlbnRMb2dpY2FsTmV4dFNpYmxpbmcpIHtcclxuICAgICAgLy8gU2luY2UgdGhlIHBhcmVudCBoYXMgYSBsb2dpY2FsIG5leHQtc2libGluZywgaXRzIGFwcGVuZGVkIGNoaWxkIGdvZXMgcmlnaHQgYmVmb3JlIHRoYXRcclxuICAgICAgcGFyZW50TG9naWNhbE5leHRTaWJsaW5nLnBhcmVudE5vZGUhLmluc2VydEJlZm9yZShjaGlsZCwgcGFyZW50TG9naWNhbE5leHRTaWJsaW5nKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFNpbmNlIHRoZSBwYXJlbnQgaGFzIG5vIGxvZ2ljYWwgbmV4dC1zaWJsaW5nLCBrZWVwIHJlY3Vyc2luZyB1cHdhcmRzIHVudGlsIHdlIGZpbmRcclxuICAgICAgLy8gYSBsb2dpY2FsIGFuY2VzdG9yIHRoYXQgZG9lcyBoYXZlIGEgbmV4dC1zaWJsaW5nIG9yIGlzIGEgcGh5c2ljYWwgZWxlbWVudC5cclxuICAgICAgYXBwZW5kRG9tTm9kZShjaGlsZCwgZ2V0TG9naWNhbFBhcmVudChwYXJlbnQpISk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIFNob3VsZCBuZXZlciBoYXBwZW5cclxuICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGFwcGVuZCBub2RlIGJlY2F1c2UgdGhlIHBhcmVudCBpcyBub3QgYSB2YWxpZCBsb2dpY2FsIGVsZW1lbnQuIFBhcmVudDogJHtwYXJlbnR9YCk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBSZXR1cm5zIHRoZSBmaW5hbCBub2RlIChpbiBkZXB0aC1maXJzdCBldmFsdWF0aW9uIG9yZGVyKSB0aGF0IGlzIGEgZGVzY2VuZGFudCBvZiB0aGUgbG9naWNhbCBlbGVtZW50LlxyXG4vLyBBcyBzdWNoLCB0aGUgZW50aXJlIHN1YnRyZWUgaXMgYmV0d2VlbiAnZWxlbWVudCcgYW5kICdmaW5kTGFzdERvbU5vZGVJblJhbmdlKGVsZW1lbnQpJyBpbmNsdXNpdmUuXHJcbmZ1bmN0aW9uIGZpbmRMYXN0RG9tTm9kZUluUmFuZ2UoZWxlbWVudDogTG9naWNhbEVsZW1lbnQpOiBOb2RlIHtcclxuICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQgfHwgZWxlbWVudCBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpIHtcclxuICAgIHJldHVybiBlbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbmV4dFNpYmxpbmcgPSBnZXRMb2dpY2FsTmV4dFNpYmxpbmcoZWxlbWVudCk7XHJcbiAgaWYgKG5leHRTaWJsaW5nKSB7XHJcbiAgICAvLyBTaW1wbGUgY2FzZTogbm90IHRoZSBsYXN0IGxvZ2ljYWwgc2libGluZywgc28gdGFrZSB0aGUgbm9kZSBiZWZvcmUgdGhlIG5leHQgc2libGluZ1xyXG4gICAgcmV0dXJuIChuZXh0U2libGluZyBhcyBhbnkgYXMgTm9kZSkucHJldmlvdXNTaWJsaW5nITtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gSGFyZGVyIGNhc2U6IHRoZXJlJ3Mgbm8gbG9naWNhbCBuZXh0LXNpYmxpbmcsIHNvIHJlY3Vyc2UgdXB3YXJkcyB1bnRpbCB3ZSBmaW5kXHJcbiAgICAvLyBhIGxvZ2ljYWwgYW5jZXN0b3IgdGhhdCBkb2VzIGhhdmUgb25lLCBvciBhIHBoeXNpY2FsIGVsZW1lbnRcclxuICAgIGNvbnN0IGxvZ2ljYWxQYXJlbnQgPSBnZXRMb2dpY2FsUGFyZW50KGVsZW1lbnQpITtcclxuICAgIHJldHVybiBsb2dpY2FsUGFyZW50IGluc3RhbmNlb2YgRWxlbWVudCB8fCBsb2dpY2FsUGFyZW50IGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudFxyXG4gICAgICA/IGxvZ2ljYWxQYXJlbnQubGFzdENoaWxkIVxyXG4gICAgICA6IGZpbmRMYXN0RG9tTm9kZUluUmFuZ2UobG9naWNhbFBhcmVudCk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBOb21pbmFsIHR5cGUgdG8gcmVwcmVzZW50IGEgbG9naWNhbCBlbGVtZW50IHdpdGhvdXQgbmVlZGluZyB0byBhbGxvY2F0ZSBhbnkgb2JqZWN0IGZvciBpbnN0YW5jZXNcclxuZXhwb3J0IGludGVyZmFjZSBMb2dpY2FsRWxlbWVudCB7IExvZ2ljYWxFbGVtZW50X19ET19OT1RfSU1QTEVNRU5UOiBhbnkgfVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5pbXBvcnQgeyBEb3ROZXQgfSBmcm9tICdAbWljcm9zb2Z0L2RvdG5ldC1qcy1pbnRlcm9wJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhcHBseUNhcHR1cmVJZFRvRWxlbWVudChlbGVtZW50OiBFbGVtZW50LCByZWZlcmVuY2VDYXB0dXJlSWQ6IHN0cmluZyk6IHZvaWQge1xyXG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKGdldENhcHR1cmVJZEF0dHJpYnV0ZU5hbWUocmVmZXJlbmNlQ2FwdHVyZUlkKSwgJycpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRFbGVtZW50QnlDYXB0dXJlSWQocmVmZXJlbmNlQ2FwdHVyZUlkOiBzdHJpbmcpIHtcclxuICBjb25zdCBzZWxlY3RvciA9IGBbJHtnZXRDYXB0dXJlSWRBdHRyaWJ1dGVOYW1lKHJlZmVyZW5jZUNhcHR1cmVJZCl9XWA7XHJcbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDYXB0dXJlSWRBdHRyaWJ1dGVOYW1lKHJlZmVyZW5jZUNhcHR1cmVJZDogc3RyaW5nKSB7XHJcbiAgcmV0dXJuIGBfYmxfJHtyZWZlcmVuY2VDYXB0dXJlSWR9YDtcclxufVxyXG5cclxuLy8gU3VwcG9ydCByZWNlaXZpbmcgRWxlbWVudFJlZiBpbnN0YW5jZXMgYXMgYXJncyBpbiBpbnRlcm9wIGNhbGxzXHJcbmNvbnN0IGVsZW1lbnRSZWZLZXkgPSAnX19pbnRlcm5hbElkJzsgLy8gS2VlcCBpbiBzeW5jIHdpdGggRWxlbWVudFJlZi5jc1xyXG5Eb3ROZXQuYXR0YWNoUmV2aXZlcigoa2V5LCB2YWx1ZSkgPT4ge1xyXG4gIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgZWxlbWVudFJlZktleSkgJiYgdHlwZW9mIHZhbHVlW2VsZW1lbnRSZWZLZXldID09PSAnc3RyaW5nJykge1xyXG4gICAgcmV0dXJuIGdldEVsZW1lbnRCeUNhcHR1cmVJZCh2YWx1ZVtlbGVtZW50UmVmS2V5XSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiB2YWx1ZTtcclxuICB9XHJcbn0pO1xyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG4vLyBVcGRhdGluZyB0aGUgYXR0cmlidXRlcy9wcm9wZXJ0aWVzIG9uIERPTSBlbGVtZW50cyBpbnZvbHZlcyBhIHdob2xlIHJhbmdlIG9mIHNwZWNpYWwgY2FzZXMsIGJlY2F1c2VcclxuLy8gZGVwZW5kaW5nIG9uIHRoZSBlbGVtZW50IHR5cGUsIHRoZXJlIGFyZSBzcGVjaWFsIHJ1bGVzIGZvciBuZWVkaW5nIHRvIHVwZGF0ZSBvdGhlciBwcm9wZXJ0aWVzIG9yXHJcbi8vIHRvIG9ubHkgcGVyZm9ybSB0aGUgY2hhbmdlcyBpbiBhIHNwZWNpZmljIG9yZGVyLlxyXG4vL1xyXG4vLyBUaGlzIG1vZHVsZSBwcm92aWRlcyBoZWxwZXJzIGZvciBkb2luZyB0aGF0LCBhbmQgaXMgc2hhcmVkIGJ5IHRoZSBpbnRlcmFjdGl2ZSByZW5kZXJlciAoQnJvd3NlclJlbmRlcmVyKVxyXG4vLyBhbmQgdGhlIFNTUiBET00gbWVyZ2luZyBsb2dpYy5cclxuXHJcbmNvbnN0IGRlZmVycmVkVmFsdWVQcm9wbmFtZSA9ICdfYmxhem9yRGVmZXJyZWRWYWx1ZSc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHJ5QXBwbHlTcGVjaWFsUHJvcGVydHkoZWxlbWVudDogRWxlbWVudCwgbmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIHwgbnVsbCkge1xyXG4gIHN3aXRjaCAobmFtZSkge1xyXG4gICAgY2FzZSAndmFsdWUnOlxyXG4gICAgICByZXR1cm4gdHJ5QXBwbHlWYWx1ZVByb3BlcnR5KGVsZW1lbnQsIHZhbHVlKTtcclxuICAgIGNhc2UgJ2NoZWNrZWQnOlxyXG4gICAgICByZXR1cm4gdHJ5QXBwbHlDaGVja2VkUHJvcGVydHkoZWxlbWVudCwgdmFsdWUpO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5QW55RGVmZXJyZWRWYWx1ZShlbGVtZW50OiBFbGVtZW50KSB7XHJcbiAgLy8gV2UgaGFuZGxlIHNldHRpbmcgJ3ZhbHVlJyBvbiBhIDxzZWxlY3Q+IGluIHRocmVlIGRpZmZlcmVudCB3YXlzOlxyXG4gIC8vIFsxXSBXaGVuIGluc2VydGluZyBhIGNvcnJlc3BvbmRpbmcgPG9wdGlvbj4sIGluIGNhc2UgeW91J3JlIGR5bmFtaWNhbGx5IGFkZGluZyBvcHRpb25zLlxyXG4gIC8vICAgICBUaGlzIGlzIHRoZSBjYXNlIGJlbG93LlxyXG4gIC8vIFsyXSBBZnRlciB3ZSBmaW5pc2ggaW5zZXJ0aW5nIHRoZSA8c2VsZWN0PiwgaW4gY2FzZSB0aGUgZGVzY2VuZGFudCBvcHRpb25zIGFyZSBiZWluZ1xyXG4gIC8vICAgICBhZGRlZCBhcyBhbiBvcGFxdWUgbWFya3VwIGJsb2NrIHJhdGhlciB0aGFuIGluZGl2aWR1YWxseS4gVGhpcyBpcyB0aGUgb3RoZXIgY2FzZSBiZWxvdy5cclxuICAvLyBbM10gSW4gY2FzZSB0aGUgdGhlIHZhbHVlIG9mIHRoZSBzZWxlY3QgYW5kIHRoZSBvcHRpb24gdmFsdWUgaXMgY2hhbmdlZCBpbiB0aGUgc2FtZSBiYXRjaC5cclxuICAvLyAgICAgV2UganVzdCByZWNlaXZlIGFuIGF0dHJpYnV0ZSBmcmFtZSBhbmQgaGF2ZSB0byBzZXQgdGhlIHNlbGVjdCB2YWx1ZSBhZnRlcndhcmRzLlxyXG5cclxuICAvLyBXZSBhbHNvIGRlZmVyIHNldHRpbmcgdGhlICd2YWx1ZScgcHJvcGVydHkgZm9yIDxpbnB1dD4gYmVjYXVzZSBjZXJ0YWluIHR5cGVzIG9mIGlucHV0cyBoYXZlXHJcbiAgLy8gZGVmYXVsdCBhdHRyaWJ1dGUgdmFsdWVzIHRoYXQgbWF5IGluY29ycmVjdGx5IGNvbnN0YWluIHRoZSBzcGVjaWZpZWQgJ3ZhbHVlJy5cclxuICAvLyBGb3IgZXhhbXBsZSwgcmFuZ2UgaW5wdXRzIGhhdmUgZGVmYXVsdCAnbWluJyBhbmQgJ21heCcgYXR0cmlidXRlcyB0aGF0IG1heSBpbmNvcnJlY3RseVxyXG4gIC8vIGNsYW1wIHRoZSAndmFsdWUnIHByb3BlcnR5IGlmIGl0IGlzIGFwcGxpZWQgYmVmb3JlIGN1c3RvbSAnbWluJyBhbmQgJ21heCcgYXR0cmlidXRlcy5cclxuXHJcbiAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MT3B0aW9uRWxlbWVudCkge1xyXG4gICAgLy8gU2l0dWF0aW9uIDFcclxuICAgIHRyeVNldFNlbGVjdFZhbHVlRnJvbU9wdGlvbkVsZW1lbnQoZWxlbWVudCk7XHJcbiAgfSBlbHNlIGlmIChkZWZlcnJlZFZhbHVlUHJvcG5hbWUgaW4gZWxlbWVudCkge1xyXG4gICAgLy8gU2l0dWF0aW9uIDJcclxuICAgIGNvbnN0IGRlZmVycmVkVmFsdWUgPSBlbGVtZW50W2RlZmVycmVkVmFsdWVQcm9wbmFtZV07XHJcbiAgICBzZXREZWZlcnJlZEVsZW1lbnRWYWx1ZShlbGVtZW50LCBkZWZlcnJlZFZhbHVlKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRyeUFwcGx5Q2hlY2tlZFByb3BlcnR5KGVsZW1lbnQ6IEVsZW1lbnQsIHZhbHVlOiBzdHJpbmcgfCBudWxsKSB7XHJcbiAgLy8gQ2VydGFpbiBlbGVtZW50cyBoYXZlIGJ1aWx0LWluIGJlaGF2aW91ciBmb3IgdGhlaXIgJ2NoZWNrZWQnIHByb3BlcnR5XHJcbiAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PT0gJ0lOUFVUJykge1xyXG4gICAgKGVsZW1lbnQgYXMgYW55KS5jaGVja2VkID0gdmFsdWUgIT09IG51bGw7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdHJ5QXBwbHlWYWx1ZVByb3BlcnR5KGVsZW1lbnQ6IEVsZW1lbnQsIHZhbHVlOiBzdHJpbmcgfCBudWxsKTogYm9vbGVhbiB7XHJcbiAgLy8gQ2VydGFpbiBlbGVtZW50cyBoYXZlIGJ1aWx0LWluIGJlaGF2aW91ciBmb3IgdGhlaXIgJ3ZhbHVlJyBwcm9wZXJ0eVxyXG4gIGlmICh2YWx1ZSAmJiBlbGVtZW50LnRhZ05hbWUgPT09ICdJTlBVVCcpIHtcclxuICAgIHZhbHVlID0gbm9ybWFsaXplSW5wdXRWYWx1ZSh2YWx1ZSwgZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBzd2l0Y2ggKGVsZW1lbnQudGFnTmFtZSkge1xyXG4gICAgY2FzZSAnSU5QVVQnOlxyXG4gICAgY2FzZSAnU0VMRUNUJzpcclxuICAgIGNhc2UgJ1RFWFRBUkVBJzoge1xyXG4gICAgICAvLyA8c2VsZWN0PiBpcyBzcGVjaWFsLCBpbiB0aGF0IGFueXRoaW5nIHdlIHdyaXRlIHRvIC52YWx1ZSB3aWxsIGJlIGxvc3QgaWYgdGhlcmVcclxuICAgICAgLy8gaXNuJ3QgeWV0IGEgbWF0Y2hpbmcgPG9wdGlvbj4uIFRvIG1haW50YWluIHRoZSBleHBlY3RlZCBiZWhhdmlvciBubyBtYXR0ZXIgdGhlXHJcbiAgICAgIC8vIGVsZW1lbnQgaW5zZXJ0aW9uL3VwZGF0ZSBvcmRlciwgcHJlc2VydmUgdGhlIGRlc2lyZWQgdmFsdWUgc2VwYXJhdGVseSBzb1xyXG4gICAgICAvLyB3ZSBjYW4gcmVjb3ZlciBpdCB3aGVuIGluc2VydGluZyBhbnkgbWF0Y2hpbmcgPG9wdGlvbj4gb3IgYWZ0ZXIgaW5zZXJ0aW5nIGFuXHJcbiAgICAgIC8vIGVudGlyZSBtYXJrdXAgYmxvY2sgb2YgZGVzY2VuZGFudHMuXHJcblxyXG4gICAgICAvLyBXZSBhbHNvIGRlZmVyIHNldHRpbmcgdGhlICd2YWx1ZScgcHJvcGVydHkgZm9yIDxpbnB1dD4gYmVjYXVzZSBjZXJ0YWluIHR5cGVzIG9mIGlucHV0cyBoYXZlXHJcbiAgICAgIC8vIGRlZmF1bHQgYXR0cmlidXRlIHZhbHVlcyB0aGF0IG1heSBpbmNvcnJlY3RseSBjb25zdGFpbiB0aGUgc3BlY2lmaWVkICd2YWx1ZScuXHJcbiAgICAgIC8vIEZvciBleGFtcGxlLCByYW5nZSBpbnB1dHMgaGF2ZSBkZWZhdWx0ICdtaW4nIGFuZCAnbWF4JyBhdHRyaWJ1dGVzIHRoYXQgbWF5IGluY29ycmVjdGx5XHJcbiAgICAgIC8vIGNsYW1wIHRoZSAndmFsdWUnIHByb3BlcnR5IGlmIGl0IGlzIGFwcGxpZWQgYmVmb3JlIGN1c3RvbSAnbWluJyBhbmQgJ21heCcgYXR0cmlidXRlcy5cclxuXHJcbiAgICAgIGlmICh2YWx1ZSAmJiBlbGVtZW50IGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQgJiYgaXNNdWx0aXBsZVNlbGVjdEVsZW1lbnQoZWxlbWVudCkpIHtcclxuICAgICAgICB2YWx1ZSA9IEpTT04ucGFyc2UodmFsdWUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZXREZWZlcnJlZEVsZW1lbnRWYWx1ZShlbGVtZW50LCB2YWx1ZSk7XHJcbiAgICAgIGVsZW1lbnRbZGVmZXJyZWRWYWx1ZVByb3BuYW1lXSA9IHZhbHVlO1xyXG5cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBjYXNlICdPUFRJT04nOiB7XHJcbiAgICAgIGlmICh2YWx1ZSB8fCB2YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndmFsdWUnLCB2YWx1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3ZhbHVlJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFNlZSBhYm92ZSBmb3Igd2h5IHdlIGhhdmUgdGhpcyBzcGVjaWFsIGhhbmRsaW5nIGZvciA8c2VsZWN0Pi88b3B0aW9uPlxyXG4gICAgICAvLyBTaXR1YXRpb24gM1xyXG4gICAgICB0cnlTZXRTZWxlY3RWYWx1ZUZyb21PcHRpb25FbGVtZW50KDxIVE1MT3B0aW9uRWxlbWVudD5lbGVtZW50KTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBub3JtYWxpemVJbnB1dFZhbHVlKHZhbHVlOiBzdHJpbmcsIGVsZW1lbnQ6IEVsZW1lbnQpOiBzdHJpbmcge1xyXG4gIC8vIFRpbWUgaW5wdXRzIChlLmcuICd0aW1lJyBhbmQgJ2RhdGV0aW1lLWxvY2FsJykgbWlzYmVoYXZlIG9uIGNocm9taXVtLWJhc2VkXHJcbiAgLy8gYnJvd3NlcnMgd2hlbiBhIHRpbWUgaXMgc2V0IHRoYXQgaW5jbHVkZXMgYSBzZWNvbmRzIHZhbHVlIG9mICcwMCcsIG1vc3Qgbm90YWJseVxyXG4gIC8vIHdoZW4gZW50ZXJlZCBmcm9tIGtleWJvYXJkIGlucHV0LiBUaGlzIGJlaGF2aW9yIGlzIG5vdCBsaW1pdGVkIHRvIHNwZWNpZmljXHJcbiAgLy8gJ3N0ZXAnIGF0dHJpYnV0ZSB2YWx1ZXMsIHNvIHdlIGFsd2F5cyByZW1vdmUgdGhlIHRyYWlsaW5nIHNlY29uZHMgdmFsdWUgaWYgdGhlXHJcbiAgLy8gdGltZSBlbmRzIGluICcwMCcuXHJcbiAgLy8gU2ltaWxhcmx5LCBpZiBhIHRpbWUtcmVsYXRlZCBlbGVtZW50IGRvZXNuJ3QgaGF2ZSBhbnkgJ3N0ZXAnIGF0dHJpYnV0ZSwgYnJvd3NlcnNcclxuICAvLyB0cmVhdCB0aGlzIGFzIFwicm91bmQgdG8gd2hvbGUgbnVtYmVyIG9mIG1pbnV0ZXNcIiBtYWtpbmcgaXQgaW52YWxpZCB0byBwYXNzIGFueVxyXG4gIC8vICdzZWNvbmRzJyB2YWx1ZSwgc28gaW4gdGhhdCBjYXNlIHdlIHN0cmlwIG9mZiB0aGUgJ3NlY29uZHMnIHBhcnQgb2YgdGhlIHZhbHVlLlxyXG5cclxuICBzd2l0Y2ggKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0eXBlJykpIHtcclxuICAgIGNhc2UgJ3RpbWUnOlxyXG4gICAgICByZXR1cm4gdmFsdWUubGVuZ3RoID09PSA4ICYmICh2YWx1ZS5lbmRzV2l0aCgnMDAnKSB8fCAhZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ3N0ZXAnKSlcclxuICAgICAgICA/IHZhbHVlLnN1YnN0cmluZygwLCA1KVxyXG4gICAgICAgIDogdmFsdWU7XHJcbiAgICBjYXNlICdkYXRldGltZS1sb2NhbCc6XHJcbiAgICAgIHJldHVybiB2YWx1ZS5sZW5ndGggPT09IDE5ICYmICh2YWx1ZS5lbmRzV2l0aCgnMDAnKSB8fCAhZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ3N0ZXAnKSlcclxuICAgICAgICA/IHZhbHVlLnN1YnN0cmluZygwLCAxNilcclxuICAgICAgICA6IHZhbHVlO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaXNNdWx0aXBsZVNlbGVjdEVsZW1lbnQoZWxlbWVudDogSFRNTFNlbGVjdEVsZW1lbnQpIHtcclxuICByZXR1cm4gZWxlbWVudC50eXBlID09PSAnc2VsZWN0LW11bHRpcGxlJztcclxufVxyXG5cclxudHlwZSBCbGF6b3JIdG1sU2VsZWN0RWxlbWVudCA9IEhUTUxTZWxlY3RFbGVtZW50ICYgeyBfYmxhem9yRGVmZXJyZWRWYWx1ZT86IHN0cmluZyB9O1xyXG5cclxuZnVuY3Rpb24gc2V0U2luZ2xlU2VsZWN0RWxlbWVudFZhbHVlKGVsZW1lbnQ6IEhUTUxTZWxlY3RFbGVtZW50LCB2YWx1ZTogc3RyaW5nIHwgbnVsbCkge1xyXG4gIC8vIFRoZXJlJ3Mgbm8gc2Vuc2libGUgd2F5IHRvIHJlcHJlc2VudCBhIHNlbGVjdCBvcHRpb24gd2l0aCB2YWx1ZSAnbnVsbCcsIGJlY2F1c2VcclxuICAvLyAoMSkgSFRNTCBhdHRyaWJ1dGVzIGNhbid0IGhhdmUgbnVsbCB2YWx1ZXMgLSB0aGUgY2xvc2VzdCBlcXVpdmFsZW50IGlzIGFic2VuY2Ugb2YgdGhlIGF0dHJpYnV0ZVxyXG4gIC8vICgyKSBXaGVuIHBpY2tpbmcgYW4gPG9wdGlvbj4gd2l0aCBubyAndmFsdWUnIGF0dHJpYnV0ZSwgdGhlIGJyb3dzZXIgdHJlYXRzIHRoZSB2YWx1ZSBhcyBiZWluZyB0aGVcclxuICAvLyAgICAgKnRleHQgY29udGVudCogb24gdGhhdCA8b3B0aW9uPiBlbGVtZW50LiBUcnlpbmcgdG8gc3VwcHJlc3MgdGhhdCBkZWZhdWx0IGJlaGF2aW9yIHdvdWxkIGludm9sdmVcclxuICAvLyAgICAgYSBsb25nIGNoYWluIG9mIHNwZWNpYWwtY2FzZSBoYWNrcywgYXMgd2VsbCBhcyBiZWluZyBicmVha2luZyB2cyAzLnguXHJcbiAgLy8gU28sIHRoZSBtb3N0IHBsYXVzaWJsZSAnbnVsbCcgZXF1aXZhbGVudCBpcyBhbiBlbXB0eSBzdHJpbmcuIEl0J3MgdW5mb3J0dW5hdGUgdGhhdCBwZW9wbGUgY2FuJ3RcclxuICAvLyB3cml0ZSA8b3B0aW9uIHZhbHVlPUBzb21lTnVsbFZhcmlhYmxlPiwgYW5kIHRoYXQgd2UgY2FuIG5ldmVyIGRpc3Rpbmd1aXNoIGJldHdlZW4gbnVsbCBhbmQgZW1wdHlcclxuICAvLyBzdHJpbmcgaW4gYSBib3VuZCA8c2VsZWN0PiwgYnV0IHRoYXQncyBhIGxpbWl0IGluIHRoZSByZXByZXNlbnRhdGlvbmFsIHBvd2VyIG9mIEhUTUwuXHJcbiAgZWxlbWVudC52YWx1ZSA9IHZhbHVlIHx8ICcnO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRNdWx0aXBsZVNlbGVjdEVsZW1lbnRWYWx1ZShlbGVtZW50OiBIVE1MU2VsZWN0RWxlbWVudCwgdmFsdWU6IHN0cmluZ1tdIHwgbnVsbCkge1xyXG4gIHZhbHVlIHx8PSBbXTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnQub3B0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgZWxlbWVudC5vcHRpb25zW2ldLnNlbGVjdGVkID0gdmFsdWUuaW5kZXhPZihlbGVtZW50Lm9wdGlvbnNbaV0udmFsdWUpICE9PSAtMTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldERlZmVycmVkRWxlbWVudFZhbHVlKGVsZW1lbnQ6IEVsZW1lbnQsIHZhbHVlOiBhbnkpIHtcclxuICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxTZWxlY3RFbGVtZW50KSB7XHJcbiAgICBpZiAoaXNNdWx0aXBsZVNlbGVjdEVsZW1lbnQoZWxlbWVudCkpIHtcclxuICAgICAgc2V0TXVsdGlwbGVTZWxlY3RFbGVtZW50VmFsdWUoZWxlbWVudCwgdmFsdWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2V0U2luZ2xlU2VsZWN0RWxlbWVudFZhbHVlKGVsZW1lbnQsIHZhbHVlKTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgKGVsZW1lbnQgYXMgYW55KS52YWx1ZSA9IHZhbHVlO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdHJ5U2V0U2VsZWN0VmFsdWVGcm9tT3B0aW9uRWxlbWVudChvcHRpb25FbGVtZW50OiBIVE1MT3B0aW9uRWxlbWVudCkge1xyXG4gIGNvbnN0IHNlbGVjdEVsZW0gPSBmaW5kQ2xvc2VzdEFuY2VzdG9yU2VsZWN0RWxlbWVudChvcHRpb25FbGVtZW50KTtcclxuXHJcbiAgaWYgKCFpc0JsYXpvclNlbGVjdEVsZW1lbnQoc2VsZWN0RWxlbSkpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGlmIChpc011bHRpcGxlU2VsZWN0RWxlbWVudChzZWxlY3RFbGVtKSkge1xyXG4gICAgb3B0aW9uRWxlbWVudC5zZWxlY3RlZCA9IHNlbGVjdEVsZW0uX2JsYXpvckRlZmVycmVkVmFsdWUhLmluZGV4T2Yob3B0aW9uRWxlbWVudC52YWx1ZSkgIT09IC0xO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBpZiAoc2VsZWN0RWxlbS5fYmxhem9yRGVmZXJyZWRWYWx1ZSAhPT0gb3B0aW9uRWxlbWVudC52YWx1ZSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0U2luZ2xlU2VsZWN0RWxlbWVudFZhbHVlKHNlbGVjdEVsZW0sIG9wdGlvbkVsZW1lbnQudmFsdWUpO1xyXG4gICAgZGVsZXRlIHNlbGVjdEVsZW0uX2JsYXpvckRlZmVycmVkVmFsdWU7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgZnVuY3Rpb24gaXNCbGF6b3JTZWxlY3RFbGVtZW50KHNlbGVjdEVsZW06IEhUTUxTZWxlY3RFbGVtZW50IHwgbnVsbCkgOiBzZWxlY3RFbGVtIGlzIEJsYXpvckh0bWxTZWxlY3RFbGVtZW50IHtcclxuICAgIHJldHVybiAhIXNlbGVjdEVsZW0gJiYgKGRlZmVycmVkVmFsdWVQcm9wbmFtZSBpbiBzZWxlY3RFbGVtKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbmRDbG9zZXN0QW5jZXN0b3JTZWxlY3RFbGVtZW50KGVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsKSB7XHJcbiAgd2hpbGUgKGVsZW1lbnQpIHtcclxuICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQpIHtcclxuICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG51bGw7XHJcbn1cclxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cclxuaW1wb3J0IHsgUmVuZGVyQmF0Y2gsIEFycmF5QnVpbGRlclNlZ21lbnQsIFJlbmRlclRyZWVFZGl0LCBSZW5kZXJUcmVlRnJhbWUsIEVkaXRUeXBlLCBGcmFtZVR5cGUsIEFycmF5VmFsdWVzIH0gZnJvbSAnLi9SZW5kZXJCYXRjaC9SZW5kZXJCYXRjaCc7XHJcbmltcG9ydCB7IEV2ZW50RGVsZWdhdG9yIH0gZnJvbSAnLi9FdmVudHMvRXZlbnREZWxlZ2F0b3InO1xyXG5pbXBvcnQgeyBMb2dpY2FsRWxlbWVudCwgUGVybXV0YXRpb25MaXN0RW50cnksIHRvTG9naWNhbEVsZW1lbnQsIGluc2VydExvZ2ljYWxDaGlsZCwgcmVtb3ZlTG9naWNhbENoaWxkLCBnZXRMb2dpY2FsUGFyZW50LCBnZXRMb2dpY2FsQ2hpbGQsIGNyZWF0ZUFuZEluc2VydExvZ2ljYWxDb250YWluZXIsIGlzU3ZnRWxlbWVudCwgcGVybXV0ZUxvZ2ljYWxDaGlsZHJlbiwgZ2V0Q2xvc2VzdERvbUVsZW1lbnQsIGVtcHR5TG9naWNhbEVsZW1lbnQsIGdldExvZ2ljYWxDaGlsZHJlbkFycmF5IH0gZnJvbSAnLi9Mb2dpY2FsRWxlbWVudHMnO1xyXG5pbXBvcnQgeyBhcHBseUNhcHR1cmVJZFRvRWxlbWVudCB9IGZyb20gJy4vRWxlbWVudFJlZmVyZW5jZUNhcHR1cmUnO1xyXG5pbXBvcnQgeyBhdHRhY2hUb0V2ZW50RGVsZWdhdG9yIGFzIGF0dGFjaE5hdmlnYXRpb25NYW5hZ2VyVG9FdmVudERlbGVnYXRvciB9IGZyb20gJy4uL1NlcnZpY2VzL05hdmlnYXRpb25NYW5hZ2VyJztcclxuaW1wb3J0IHsgYXBwbHlBbnlEZWZlcnJlZFZhbHVlLCB0cnlBcHBseVNwZWNpYWxQcm9wZXJ0eSB9IGZyb20gJy4vRG9tU3BlY2lhbFByb3BlcnR5VXRpbCc7XHJcbmNvbnN0IHNoYXJlZFRlbXBsYXRlRWxlbUZvclBhcnNpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xyXG5jb25zdCBzaGFyZWRTdmdFbGVtRm9yUGFyc2luZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpO1xyXG5jb25zdCBlbGVtZW50c1RvQ2xlYXJPblJvb3RDb21wb25lbnRSZW5kZXIgPSBuZXcgU2V0PExvZ2ljYWxFbGVtZW50PigpO1xyXG5jb25zdCBpbnRlcm5hbEF0dHJpYnV0ZU5hbWVQcmVmaXggPSAnX19pbnRlcm5hbF8nO1xyXG5jb25zdCBldmVudFByZXZlbnREZWZhdWx0QXR0cmlidXRlTmFtZVByZWZpeCA9ICdwcmV2ZW50RGVmYXVsdF8nO1xyXG5jb25zdCBldmVudFN0b3BQcm9wYWdhdGlvbkF0dHJpYnV0ZU5hbWVQcmVmaXggPSAnc3RvcFByb3BhZ2F0aW9uXyc7XHJcbmNvbnN0IGludGVyYWN0aXZlUm9vdENvbXBvbmVudFByb3BuYW1lID0gU3ltYm9sKCk7XHJcbmNvbnN0IHByZXNlcnZlQ29udGVudE9uRGlzcG9zYWxQcm9wbmFtZSA9IFN5bWJvbCgpO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJyb3dzZXJSZW5kZXJlciB7XHJcbiAgcHVibGljIGV2ZW50RGVsZWdhdG9yOiBFdmVudERlbGVnYXRvcjtcclxuXHJcbiAgcHJpdmF0ZSByb290Q29tcG9uZW50SWRzID0gbmV3IFNldDxudW1iZXI+KCk7XHJcblxyXG4gIHByaXZhdGUgY2hpbGRDb21wb25lbnRMb2NhdGlvbnM6IHsgW2NvbXBvbmVudElkOiBudW1iZXJdOiBMb2dpY2FsRWxlbWVudCB9ID0ge307XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihicm93c2VyUmVuZGVyZXJJZDogbnVtYmVyKSB7XHJcbiAgICB0aGlzLmV2ZW50RGVsZWdhdG9yID0gbmV3IEV2ZW50RGVsZWdhdG9yKGJyb3dzZXJSZW5kZXJlcklkKTtcclxuXHJcbiAgICAvLyBXZSBkb24ndCB5ZXQga25vdyB3aGV0aGVyIG9yIG5vdCBuYXZpZ2F0aW9uIGludGVyY2VwdGlvbiB3aWxsIGJlIGVuYWJsZWQsIGJ1dCBpbiBjYXNlIGl0IHdpbGwgYmUsXHJcbiAgICAvLyB3ZSB3aXJlIHVwIHRoZSBuYXZpZ2F0aW9uIG1hbmFnZXIgdG8gdGhlIGV2ZW50IGRlbGVnYXRvciBzbyBpdCBoYXMgdGhlIG9wdGlvbiB0byBwYXJ0aWNpcGF0ZVxyXG4gICAgLy8gaW4gdGhlIHN5bnRoZXRpYyBldmVudCBidWJibGluZyBwcm9jZXNzIGxhdGVyXHJcbiAgICBhdHRhY2hOYXZpZ2F0aW9uTWFuYWdlclRvRXZlbnREZWxlZ2F0b3IodGhpcy5ldmVudERlbGVnYXRvcik7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0Um9vdENvbXBvbmVudENvdW50KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5yb290Q29tcG9uZW50SWRzLnNpemU7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXR0YWNoUm9vdENvbXBvbmVudFRvTG9naWNhbEVsZW1lbnQoY29tcG9uZW50SWQ6IG51bWJlciwgZWxlbWVudDogTG9naWNhbEVsZW1lbnQsIGFwcGVuZENvbnRlbnQ6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIGlmIChpc0ludGVyYWN0aXZlUm9vdENvbXBvbmVudEVsZW1lbnQoZWxlbWVudCkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBSb290IGNvbXBvbmVudCAnJHtjb21wb25lbnRJZH0nIGNvdWxkIG5vdCBiZSBhdHRhY2hlZCBiZWNhdXNlIGl0cyB0YXJnZXQgZWxlbWVudCBpcyBhbHJlYWR5IGFzc29jaWF0ZWQgd2l0aCBhIHJvb3QgY29tcG9uZW50YCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgd2Ugd2FudCB0byBhcHBlbmQgY29udGVudCB0byB0aGUgZW5kIG9mIHRoZSBlbGVtZW50LCB3ZSBjcmVhdGUgYSBuZXcgbG9naWNhbCBjaGlsZCBjb250YWluZXJcclxuICAgIC8vIGF0IHRoZSBlbmQgb2YgdGhlIGVsZW1lbnQgYW5kIHRyZWF0IHRoYXQgYXMgdGhlIG5ldyBwYXJlbnQuXHJcbiAgICBpZiAoYXBwZW5kQ29udGVudCkge1xyXG4gICAgICBjb25zdCBpbmRleEFmdGVyTGFzdENoaWxkID0gZ2V0TG9naWNhbENoaWxkcmVuQXJyYXkoZWxlbWVudCkubGVuZ3RoO1xyXG4gICAgICBlbGVtZW50ID0gY3JlYXRlQW5kSW5zZXJ0TG9naWNhbENvbnRhaW5lcihlbGVtZW50LCBpbmRleEFmdGVyTGFzdENoaWxkKTtcclxuICAgIH1cclxuXHJcbiAgICBtYXJrQXNJbnRlcmFjdGl2ZVJvb3RDb21wb25lbnRFbGVtZW50KGVsZW1lbnQsIHRydWUpO1xyXG4gICAgdGhpcy5hdHRhY2hDb21wb25lbnRUb0VsZW1lbnQoY29tcG9uZW50SWQsIGVsZW1lbnQpO1xyXG4gICAgdGhpcy5yb290Q29tcG9uZW50SWRzLmFkZChjb21wb25lbnRJZCk7XHJcblxyXG4gICAgZWxlbWVudHNUb0NsZWFyT25Sb290Q29tcG9uZW50UmVuZGVyLmFkZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB1cGRhdGVDb21wb25lbnQoYmF0Y2g6IFJlbmRlckJhdGNoLCBjb21wb25lbnRJZDogbnVtYmVyLCBlZGl0czogQXJyYXlCdWlsZGVyU2VnbWVudDxSZW5kZXJUcmVlRWRpdD4sIHJlZmVyZW5jZUZyYW1lczogQXJyYXlWYWx1ZXM8UmVuZGVyVHJlZUZyYW1lPik6IHZvaWQge1xyXG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuY2hpbGRDb21wb25lbnRMb2NhdGlvbnNbY29tcG9uZW50SWRdO1xyXG4gICAgaWYgKCFlbGVtZW50KSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gZWxlbWVudCBpcyBjdXJyZW50bHkgYXNzb2NpYXRlZCB3aXRoIGNvbXBvbmVudCAke2NvbXBvbmVudElkfWApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE9uIHRoZSBmaXJzdCByZW5kZXIgZm9yIGVhY2ggcm9vdCBjb21wb25lbnQsIGNsZWFyIGFueSBleGlzdGluZyBjb250ZW50IChlLmcuLCBwcmVyZW5kZXJlZClcclxuICAgIGlmIChlbGVtZW50c1RvQ2xlYXJPblJvb3RDb21wb25lbnRSZW5kZXIuZGVsZXRlKGVsZW1lbnQpKSB7XHJcbiAgICAgIGVtcHR5TG9naWNhbEVsZW1lbnQoZWxlbWVudCk7XHJcblxyXG4gICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIENvbW1lbnQpIHtcclxuICAgICAgICAvLyBXZSBzYW5pdGl6ZSBzdGFydCBjb21tZW50cyBieSByZW1vdmluZyBhbGwgdGhlIGluZm9ybWF0aW9uIGZyb20gaXQgbm93IHRoYXQgd2UgZG9uJ3QgbmVlZCBpdCBhbnltb3JlXHJcbiAgICAgICAgLy8gYXMgaXQgYWRkcyBub2lzZSB0byB0aGUgRE9NLlxyXG4gICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSAnISc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBvd25lckRvY3VtZW50ID0gZ2V0Q2xvc2VzdERvbUVsZW1lbnQoZWxlbWVudCk/LmdldFJvb3ROb2RlKCkgYXMgRG9jdW1lbnQ7XHJcbiAgICBjb25zdCBhY3RpdmVFbGVtZW50QmVmb3JlID0gb3duZXJEb2N1bWVudCAmJiBvd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XHJcblxyXG4gICAgdGhpcy5hcHBseUVkaXRzKGJhdGNoLCBjb21wb25lbnRJZCwgZWxlbWVudCwgMCwgZWRpdHMsIHJlZmVyZW5jZUZyYW1lcyk7XHJcblxyXG4gICAgLy8gVHJ5IHRvIHJlc3RvcmUgZm9jdXMgaW4gY2FzZSBpdCB3YXMgbG9zdCBkdWUgdG8gYW4gZWxlbWVudCBtb3ZlXHJcbiAgICBpZiAoKGFjdGl2ZUVsZW1lbnRCZWZvcmUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkgJiYgb3duZXJEb2N1bWVudCAmJiBvd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IGFjdGl2ZUVsZW1lbnRCZWZvcmUpIHtcclxuICAgICAgYWN0aXZlRWxlbWVudEJlZm9yZS5mb2N1cygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGRpc3Bvc2VDb21wb25lbnQoY29tcG9uZW50SWQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMucm9vdENvbXBvbmVudElkcy5kZWxldGUoY29tcG9uZW50SWQpKSB7XHJcbiAgICAgIC8vIFdoZW4gZGlzcG9zaW5nIGEgcm9vdCBjb21wb25lbnQsIHRoZSBjb250YWluZXIgZWxlbWVudCB3b24ndCBiZSByZW1vdmVkIGZyb20gdGhlIERPTSAoYmVjYXVzZSB0aGVyZSdzXHJcbiAgICAgIC8vIG5vIHBhcmVudCB0byByZW1vdmUgdGhhdCBjaGlsZCksIHNvIHdlIGVtcHR5IGl0IHRvIHJlc3RvcmUgaXQgdG8gdGhlIHN0YXRlIGl0IHdhcyBpbiBiZWZvcmUgdGhlIHJvb3RcclxuICAgICAgLy8gY29tcG9uZW50IHdhcyBhZGRlZC5cclxuICAgICAgY29uc3QgbG9naWNhbEVsZW1lbnQgPSB0aGlzLmNoaWxkQ29tcG9uZW50TG9jYXRpb25zW2NvbXBvbmVudElkXTtcclxuICAgICAgbWFya0FzSW50ZXJhY3RpdmVSb290Q29tcG9uZW50RWxlbWVudChsb2dpY2FsRWxlbWVudCwgZmFsc2UpO1xyXG5cclxuICAgICAgaWYgKHNob3VsZFByZXNlcnZlQ29udGVudE9uSW50ZXJhY3RpdmVDb21wb25lbnREaXNwb3NhbChsb2dpY2FsRWxlbWVudCkpIHtcclxuICAgICAgICBlbGVtZW50c1RvQ2xlYXJPblJvb3RDb21wb25lbnRSZW5kZXIuYWRkKGxvZ2ljYWxFbGVtZW50KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBlbXB0eUxvZ2ljYWxFbGVtZW50KGxvZ2ljYWxFbGVtZW50KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZSB0aGlzLmNoaWxkQ29tcG9uZW50TG9jYXRpb25zW2NvbXBvbmVudElkXTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkaXNwb3NlRXZlbnRIYW5kbGVyKGV2ZW50SGFuZGxlcklkOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIHRoaXMuZXZlbnREZWxlZ2F0b3IucmVtb3ZlTGlzdGVuZXIoZXZlbnRIYW5kbGVySWQpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhdHRhY2hDb21wb25lbnRUb0VsZW1lbnQoY29tcG9uZW50SWQ6IG51bWJlciwgZWxlbWVudDogTG9naWNhbEVsZW1lbnQpIHtcclxuICAgIHRoaXMuY2hpbGRDb21wb25lbnRMb2NhdGlvbnNbY29tcG9uZW50SWRdID0gZWxlbWVudDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXBwbHlFZGl0cyhiYXRjaDogUmVuZGVyQmF0Y2gsIGNvbXBvbmVudElkOiBudW1iZXIsIHBhcmVudDogTG9naWNhbEVsZW1lbnQsIGNoaWxkSW5kZXg6IG51bWJlciwgZWRpdHM6IEFycmF5QnVpbGRlclNlZ21lbnQ8UmVuZGVyVHJlZUVkaXQ+LCByZWZlcmVuY2VGcmFtZXM6IEFycmF5VmFsdWVzPFJlbmRlclRyZWVGcmFtZT4pIHtcclxuICAgIGxldCBjdXJyZW50RGVwdGggPSAwO1xyXG4gICAgbGV0IGNoaWxkSW5kZXhBdEN1cnJlbnREZXB0aCA9IGNoaWxkSW5kZXg7XHJcbiAgICBsZXQgcGVybXV0YXRpb25MaXN0OiBQZXJtdXRhdGlvbkxpc3RFbnRyeVtdIHwgdW5kZWZpbmVkO1xyXG5cclxuICAgIGNvbnN0IGFycmF5QnVpbGRlclNlZ21lbnRSZWFkZXIgPSBiYXRjaC5hcnJheUJ1aWxkZXJTZWdtZW50UmVhZGVyO1xyXG4gICAgY29uc3QgZWRpdFJlYWRlciA9IGJhdGNoLmVkaXRSZWFkZXI7XHJcbiAgICBjb25zdCBmcmFtZVJlYWRlciA9IGJhdGNoLmZyYW1lUmVhZGVyO1xyXG4gICAgY29uc3QgZWRpdHNWYWx1ZXMgPSBhcnJheUJ1aWxkZXJTZWdtZW50UmVhZGVyLnZhbHVlcyhlZGl0cyk7XHJcbiAgICBjb25zdCBlZGl0c09mZnNldCA9IGFycmF5QnVpbGRlclNlZ21lbnRSZWFkZXIub2Zmc2V0KGVkaXRzKTtcclxuICAgIGNvbnN0IGVkaXRzTGVuZ3RoID0gYXJyYXlCdWlsZGVyU2VnbWVudFJlYWRlci5jb3VudChlZGl0cyk7XHJcbiAgICBjb25zdCBtYXhFZGl0SW5kZXhFeGNsID0gZWRpdHNPZmZzZXQgKyBlZGl0c0xlbmd0aDtcclxuXHJcbiAgICBmb3IgKGxldCBlZGl0SW5kZXggPSBlZGl0c09mZnNldDsgZWRpdEluZGV4IDwgbWF4RWRpdEluZGV4RXhjbDsgZWRpdEluZGV4KyspIHtcclxuICAgICAgY29uc3QgZWRpdCA9IGJhdGNoLmRpZmZSZWFkZXIuZWRpdHNFbnRyeShlZGl0c1ZhbHVlcywgZWRpdEluZGV4KTtcclxuICAgICAgY29uc3QgZWRpdFR5cGUgPSBlZGl0UmVhZGVyLmVkaXRUeXBlKGVkaXQpO1xyXG4gICAgICBzd2l0Y2ggKGVkaXRUeXBlKSB7XHJcbiAgICAgICAgY2FzZSBFZGl0VHlwZS5wcmVwZW5kRnJhbWU6IHtcclxuICAgICAgICAgIGNvbnN0IGZyYW1lSW5kZXggPSBlZGl0UmVhZGVyLm5ld1RyZWVJbmRleChlZGl0KTtcclxuICAgICAgICAgIGNvbnN0IGZyYW1lID0gYmF0Y2gucmVmZXJlbmNlRnJhbWVzRW50cnkocmVmZXJlbmNlRnJhbWVzLCBmcmFtZUluZGV4KTtcclxuICAgICAgICAgIGNvbnN0IHNpYmxpbmdJbmRleCA9IGVkaXRSZWFkZXIuc2libGluZ0luZGV4KGVkaXQpO1xyXG4gICAgICAgICAgdGhpcy5pbnNlcnRGcmFtZShiYXRjaCwgY29tcG9uZW50SWQsIHBhcmVudCwgY2hpbGRJbmRleEF0Q3VycmVudERlcHRoICsgc2libGluZ0luZGV4LCByZWZlcmVuY2VGcmFtZXMsIGZyYW1lLCBmcmFtZUluZGV4KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIEVkaXRUeXBlLnJlbW92ZUZyYW1lOiB7XHJcbiAgICAgICAgICBjb25zdCBzaWJsaW5nSW5kZXggPSBlZGl0UmVhZGVyLnNpYmxpbmdJbmRleChlZGl0KTtcclxuICAgICAgICAgIHJlbW92ZUxvZ2ljYWxDaGlsZChwYXJlbnQsIGNoaWxkSW5kZXhBdEN1cnJlbnREZXB0aCArIHNpYmxpbmdJbmRleCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSBFZGl0VHlwZS5zZXRBdHRyaWJ1dGU6IHtcclxuICAgICAgICAgIGNvbnN0IGZyYW1lSW5kZXggPSBlZGl0UmVhZGVyLm5ld1RyZWVJbmRleChlZGl0KTtcclxuICAgICAgICAgIGNvbnN0IGZyYW1lID0gYmF0Y2gucmVmZXJlbmNlRnJhbWVzRW50cnkocmVmZXJlbmNlRnJhbWVzLCBmcmFtZUluZGV4KTtcclxuICAgICAgICAgIGNvbnN0IHNpYmxpbmdJbmRleCA9IGVkaXRSZWFkZXIuc2libGluZ0luZGV4KGVkaXQpO1xyXG4gICAgICAgICAgY29uc3QgZWxlbWVudCA9IGdldExvZ2ljYWxDaGlsZChwYXJlbnQsIGNoaWxkSW5kZXhBdEN1cnJlbnREZXB0aCArIHNpYmxpbmdJbmRleCk7XHJcbiAgICAgICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5hcHBseUF0dHJpYnV0ZShiYXRjaCwgY29tcG9uZW50SWQsIGVsZW1lbnQsIGZyYW1lKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHNldCBhdHRyaWJ1dGUgb24gbm9uLWVsZW1lbnQgY2hpbGQnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIEVkaXRUeXBlLnJlbW92ZUF0dHJpYnV0ZToge1xyXG4gICAgICAgICAgLy8gTm90ZSB0aGF0IHdlIGRvbid0IGhhdmUgdG8gZGlzcG9zZSB0aGUgaW5mbyB3ZSB0cmFjayBhYm91dCBldmVudCBoYW5kbGVycyBoZXJlLCBiZWNhdXNlIHRoZVxyXG4gICAgICAgICAgLy8gZGlzcG9zZWQgZXZlbnQgaGFuZGxlciBJRHMgYXJlIGRlbGl2ZXJlZCBzZXBhcmF0ZWx5IChpbiB0aGUgJ2Rpc3Bvc2VkRXZlbnRIYW5kbGVySWRzJyBhcnJheSlcclxuICAgICAgICAgIGNvbnN0IHNpYmxpbmdJbmRleCA9IGVkaXRSZWFkZXIuc2libGluZ0luZGV4KGVkaXQpO1xyXG4gICAgICAgICAgY29uc3QgZWxlbWVudCA9IGdldExvZ2ljYWxDaGlsZChwYXJlbnQsIGNoaWxkSW5kZXhBdEN1cnJlbnREZXB0aCArIHNpYmxpbmdJbmRleCk7XHJcbiAgICAgICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlTmFtZSA9IGVkaXRSZWFkZXIucmVtb3ZlZEF0dHJpYnV0ZU5hbWUoZWRpdCkhO1xyXG4gICAgICAgICAgICB0aGlzLnNldE9yUmVtb3ZlQXR0cmlidXRlT3JQcm9wZXJ0eShlbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCBudWxsKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHJlbW92ZSBhdHRyaWJ1dGUgZnJvbSBub24tZWxlbWVudCBjaGlsZCcpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgRWRpdFR5cGUudXBkYXRlVGV4dDoge1xyXG4gICAgICAgICAgY29uc3QgZnJhbWVJbmRleCA9IGVkaXRSZWFkZXIubmV3VHJlZUluZGV4KGVkaXQpO1xyXG4gICAgICAgICAgY29uc3QgZnJhbWUgPSBiYXRjaC5yZWZlcmVuY2VGcmFtZXNFbnRyeShyZWZlcmVuY2VGcmFtZXMsIGZyYW1lSW5kZXgpO1xyXG4gICAgICAgICAgY29uc3Qgc2libGluZ0luZGV4ID0gZWRpdFJlYWRlci5zaWJsaW5nSW5kZXgoZWRpdCk7XHJcbiAgICAgICAgICBjb25zdCB0ZXh0Tm9kZSA9IGdldExvZ2ljYWxDaGlsZChwYXJlbnQsIGNoaWxkSW5kZXhBdEN1cnJlbnREZXB0aCArIHNpYmxpbmdJbmRleCk7XHJcbiAgICAgICAgICBpZiAodGV4dE5vZGUgaW5zdGFuY2VvZiBUZXh0KSB7XHJcbiAgICAgICAgICAgIHRleHROb2RlLnRleHRDb250ZW50ID0gZnJhbWVSZWFkZXIudGV4dENvbnRlbnQoZnJhbWUpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc2V0IHRleHQgY29udGVudCBvbiBub24tdGV4dCBjaGlsZCcpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgRWRpdFR5cGUudXBkYXRlTWFya3VwOiB7XHJcbiAgICAgICAgICBjb25zdCBmcmFtZUluZGV4ID0gZWRpdFJlYWRlci5uZXdUcmVlSW5kZXgoZWRpdCk7XHJcbiAgICAgICAgICBjb25zdCBmcmFtZSA9IGJhdGNoLnJlZmVyZW5jZUZyYW1lc0VudHJ5KHJlZmVyZW5jZUZyYW1lcywgZnJhbWVJbmRleCk7XHJcbiAgICAgICAgICBjb25zdCBzaWJsaW5nSW5kZXggPSBlZGl0UmVhZGVyLnNpYmxpbmdJbmRleChlZGl0KTtcclxuICAgICAgICAgIHJlbW92ZUxvZ2ljYWxDaGlsZChwYXJlbnQsIGNoaWxkSW5kZXhBdEN1cnJlbnREZXB0aCArIHNpYmxpbmdJbmRleCk7XHJcbiAgICAgICAgICB0aGlzLmluc2VydE1hcmt1cChiYXRjaCwgcGFyZW50LCBjaGlsZEluZGV4QXRDdXJyZW50RGVwdGggKyBzaWJsaW5nSW5kZXgsIGZyYW1lKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIEVkaXRUeXBlLnN0ZXBJbjoge1xyXG4gICAgICAgICAgY29uc3Qgc2libGluZ0luZGV4ID0gZWRpdFJlYWRlci5zaWJsaW5nSW5kZXgoZWRpdCk7XHJcbiAgICAgICAgICBwYXJlbnQgPSBnZXRMb2dpY2FsQ2hpbGQocGFyZW50LCBjaGlsZEluZGV4QXRDdXJyZW50RGVwdGggKyBzaWJsaW5nSW5kZXgpO1xyXG4gICAgICAgICAgY3VycmVudERlcHRoKys7XHJcbiAgICAgICAgICBjaGlsZEluZGV4QXRDdXJyZW50RGVwdGggPSAwO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgRWRpdFR5cGUuc3RlcE91dDoge1xyXG4gICAgICAgICAgcGFyZW50ID0gZ2V0TG9naWNhbFBhcmVudChwYXJlbnQpITtcclxuICAgICAgICAgIGN1cnJlbnREZXB0aC0tO1xyXG4gICAgICAgICAgY2hpbGRJbmRleEF0Q3VycmVudERlcHRoID0gY3VycmVudERlcHRoID09PSAwID8gY2hpbGRJbmRleCA6IDA7IC8vIFRoZSBjaGlsZEluZGV4IGlzIG9ubHkgZXZlciBub256ZXJvIGF0IHplcm8gZGVwdGhcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIEVkaXRUeXBlLnBlcm11dGF0aW9uTGlzdEVudHJ5OiB7XHJcbiAgICAgICAgICBwZXJtdXRhdGlvbkxpc3QgPSBwZXJtdXRhdGlvbkxpc3QgfHwgW107XHJcbiAgICAgICAgICBwZXJtdXRhdGlvbkxpc3QucHVzaCh7XHJcbiAgICAgICAgICAgIGZyb21TaWJsaW5nSW5kZXg6IGNoaWxkSW5kZXhBdEN1cnJlbnREZXB0aCArIGVkaXRSZWFkZXIuc2libGluZ0luZGV4KGVkaXQpLFxyXG4gICAgICAgICAgICB0b1NpYmxpbmdJbmRleDogY2hpbGRJbmRleEF0Q3VycmVudERlcHRoICsgZWRpdFJlYWRlci5tb3ZlVG9TaWJsaW5nSW5kZXgoZWRpdCksXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIEVkaXRUeXBlLnBlcm11dGF0aW9uTGlzdEVuZDoge1xyXG4gICAgICAgICAgcGVybXV0ZUxvZ2ljYWxDaGlsZHJlbihwYXJlbnQsIHBlcm11dGF0aW9uTGlzdCEpO1xyXG4gICAgICAgICAgcGVybXV0YXRpb25MaXN0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICAgIGNvbnN0IHVua25vd25UeXBlOiBuZXZlciA9IGVkaXRUeXBlOyAvLyBDb21waWxlLXRpbWUgdmVyaWZpY2F0aW9uIHRoYXQgdGhlIHN3aXRjaCB3YXMgZXhoYXVzdGl2ZVxyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGVkaXQgdHlwZTogJHt1bmtub3duVHlwZX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5zZXJ0RnJhbWUoYmF0Y2g6IFJlbmRlckJhdGNoLCBjb21wb25lbnRJZDogbnVtYmVyLCBwYXJlbnQ6IExvZ2ljYWxFbGVtZW50LCBjaGlsZEluZGV4OiBudW1iZXIsIGZyYW1lczogQXJyYXlWYWx1ZXM8UmVuZGVyVHJlZUZyYW1lPiwgZnJhbWU6IFJlbmRlclRyZWVGcmFtZSwgZnJhbWVJbmRleDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IGZyYW1lUmVhZGVyID0gYmF0Y2guZnJhbWVSZWFkZXI7XHJcbiAgICBjb25zdCBmcmFtZVR5cGUgPSBmcmFtZVJlYWRlci5mcmFtZVR5cGUoZnJhbWUpO1xyXG4gICAgc3dpdGNoIChmcmFtZVR5cGUpIHtcclxuICAgICAgY2FzZSBGcmFtZVR5cGUuZWxlbWVudDpcclxuICAgICAgICB0aGlzLmluc2VydEVsZW1lbnQoYmF0Y2gsIGNvbXBvbmVudElkLCBwYXJlbnQsIGNoaWxkSW5kZXgsIGZyYW1lcywgZnJhbWUsIGZyYW1lSW5kZXgpO1xyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgICBjYXNlIEZyYW1lVHlwZS50ZXh0OlxyXG4gICAgICAgIHRoaXMuaW5zZXJ0VGV4dChiYXRjaCwgcGFyZW50LCBjaGlsZEluZGV4LCBmcmFtZSk7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgIGNhc2UgRnJhbWVUeXBlLmF0dHJpYnV0ZTpcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F0dHJpYnV0ZSBmcmFtZXMgc2hvdWxkIG9ubHkgYmUgcHJlc2VudCBhcyBsZWFkaW5nIGNoaWxkcmVuIG9mIGVsZW1lbnQgZnJhbWVzLicpO1xyXG4gICAgICBjYXNlIEZyYW1lVHlwZS5jb21wb25lbnQ6XHJcbiAgICAgICAgdGhpcy5pbnNlcnRDb21wb25lbnQoYmF0Y2gsIHBhcmVudCwgY2hpbGRJbmRleCwgZnJhbWUpO1xyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgICBjYXNlIEZyYW1lVHlwZS5yZWdpb246XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0RnJhbWVSYW5nZShiYXRjaCwgY29tcG9uZW50SWQsIHBhcmVudCwgY2hpbGRJbmRleCwgZnJhbWVzLCBmcmFtZUluZGV4ICsgMSwgZnJhbWVJbmRleCArIGZyYW1lUmVhZGVyLnN1YnRyZWVMZW5ndGgoZnJhbWUpKTtcclxuICAgICAgY2FzZSBGcmFtZVR5cGUuZWxlbWVudFJlZmVyZW5jZUNhcHR1cmU6XHJcbiAgICAgICAgaWYgKHBhcmVudCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcclxuICAgICAgICAgIGFwcGx5Q2FwdHVyZUlkVG9FbGVtZW50KHBhcmVudCwgZnJhbWVSZWFkZXIuZWxlbWVudFJlZmVyZW5jZUNhcHR1cmVJZChmcmFtZSkhKTtcclxuICAgICAgICAgIHJldHVybiAwOyAvLyBBIFwiY2FwdHVyZVwiIGlzIGEgY2hpbGQgaW4gdGhlIGRpZmYsIGJ1dCBoYXMgbm8gbm9kZSBpbiB0aGUgRE9NXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVmZXJlbmNlIGNhcHR1cmUgZnJhbWVzIGNhbiBvbmx5IGJlIGNoaWxkcmVuIG9mIGVsZW1lbnQgZnJhbWVzLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgY2FzZSBGcmFtZVR5cGUubWFya3VwOlxyXG4gICAgICAgIHRoaXMuaW5zZXJ0TWFya3VwKGJhdGNoLCBwYXJlbnQsIGNoaWxkSW5kZXgsIGZyYW1lKTtcclxuICAgICAgICByZXR1cm4gMTtcclxuICAgICAgY2FzZSBGcmFtZVR5cGUubmFtZWRFdmVudDogLy8gTm90IHVzZWQgb24gdGhlIEpTIHNpZGVcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgIGNvbnN0IHVua25vd25UeXBlOiBuZXZlciA9IGZyYW1lVHlwZTsgLy8gQ29tcGlsZS10aW1lIHZlcmlmaWNhdGlvbiB0aGF0IHRoZSBzd2l0Y2ggd2FzIGV4aGF1c3RpdmVcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZnJhbWUgdHlwZTogJHt1bmtub3duVHlwZX1gKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpbnNlcnRFbGVtZW50KGJhdGNoOiBSZW5kZXJCYXRjaCwgY29tcG9uZW50SWQ6IG51bWJlciwgcGFyZW50OiBMb2dpY2FsRWxlbWVudCwgY2hpbGRJbmRleDogbnVtYmVyLCBmcmFtZXM6IEFycmF5VmFsdWVzPFJlbmRlclRyZWVGcmFtZT4sIGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUsIGZyYW1lSW5kZXg6IG51bWJlcikge1xyXG4gICAgY29uc3QgZnJhbWVSZWFkZXIgPSBiYXRjaC5mcmFtZVJlYWRlcjtcclxuICAgIGNvbnN0IHRhZ05hbWUgPSBmcmFtZVJlYWRlci5lbGVtZW50TmFtZShmcmFtZSkhO1xyXG5cclxuICAgIGNvbnN0IG5ld0RvbUVsZW1lbnRSYXcgPSAodGFnTmFtZSA9PT0gJ3N2ZycgfHwgaXNTdmdFbGVtZW50KHBhcmVudCkpID9cclxuICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIHRhZ05hbWUpIDpcclxuICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcclxuICAgIGNvbnN0IG5ld0VsZW1lbnQgPSB0b0xvZ2ljYWxFbGVtZW50KG5ld0RvbUVsZW1lbnRSYXcpO1xyXG5cclxuICAgIGxldCBpbnNlcnRlZCA9IGZhbHNlO1xyXG5cclxuICAgIC8vIEFwcGx5IGF0dHJpYnV0ZXNcclxuICAgIGNvbnN0IGRlc2NlbmRhbnRzRW5kSW5kZXhFeGNsID0gZnJhbWVJbmRleCArIGZyYW1lUmVhZGVyLnN1YnRyZWVMZW5ndGgoZnJhbWUpO1xyXG4gICAgZm9yIChsZXQgZGVzY2VuZGFudEluZGV4ID0gZnJhbWVJbmRleCArIDE7IGRlc2NlbmRhbnRJbmRleCA8IGRlc2NlbmRhbnRzRW5kSW5kZXhFeGNsOyBkZXNjZW5kYW50SW5kZXgrKykge1xyXG4gICAgICBjb25zdCBkZXNjZW5kYW50RnJhbWUgPSBiYXRjaC5yZWZlcmVuY2VGcmFtZXNFbnRyeShmcmFtZXMsIGRlc2NlbmRhbnRJbmRleCk7XHJcbiAgICAgIGlmIChmcmFtZVJlYWRlci5mcmFtZVR5cGUoZGVzY2VuZGFudEZyYW1lKSA9PT0gRnJhbWVUeXBlLmF0dHJpYnV0ZSkge1xyXG4gICAgICAgIHRoaXMuYXBwbHlBdHRyaWJ1dGUoYmF0Y2gsIGNvbXBvbmVudElkLCBuZXdEb21FbGVtZW50UmF3LCBkZXNjZW5kYW50RnJhbWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGluc2VydExvZ2ljYWxDaGlsZChuZXdEb21FbGVtZW50UmF3LCBwYXJlbnQsIGNoaWxkSW5kZXgpO1xyXG4gICAgICAgIGluc2VydGVkID0gdHJ1ZTtcclxuICAgICAgICAvLyBBcyBzb29uIGFzIHdlIHNlZSBhIG5vbi1hdHRyaWJ1dGUgY2hpbGQsIGFsbCB0aGUgc3Vic2VxdWVudCBjaGlsZCBmcmFtZXMgYXJlXHJcbiAgICAgICAgLy8gbm90IGF0dHJpYnV0ZXMsIHNvIGJhaWwgb3V0IGFuZCBpbnNlcnQgdGhlIHJlbW5hbnRzIHJlY3Vyc2l2ZWx5XHJcbiAgICAgICAgdGhpcy5pbnNlcnRGcmFtZVJhbmdlKGJhdGNoLCBjb21wb25lbnRJZCwgbmV3RWxlbWVudCwgMCwgZnJhbWVzLCBkZXNjZW5kYW50SW5kZXgsIGRlc2NlbmRhbnRzRW5kSW5kZXhFeGNsKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHRoaXMgZWxlbWVudCBkaWQgbm90IGhhdmUgYW55IGNoaWxkcmVuLCBzbyBpdCdzIG5vdCBpbnNlcnRlZCB5ZXQuXHJcbiAgICBpZiAoIWluc2VydGVkKSB7XHJcbiAgICAgIGluc2VydExvZ2ljYWxDaGlsZChuZXdEb21FbGVtZW50UmF3LCBwYXJlbnQsIGNoaWxkSW5kZXgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5QW55RGVmZXJyZWRWYWx1ZShuZXdEb21FbGVtZW50UmF3KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5zZXJ0Q29tcG9uZW50KGJhdGNoOiBSZW5kZXJCYXRjaCwgcGFyZW50OiBMb2dpY2FsRWxlbWVudCwgY2hpbGRJbmRleDogbnVtYmVyLCBmcmFtZTogUmVuZGVyVHJlZUZyYW1lKSB7XHJcbiAgICBjb25zdCBjb250YWluZXJFbGVtZW50ID0gY3JlYXRlQW5kSW5zZXJ0TG9naWNhbENvbnRhaW5lcihwYXJlbnQsIGNoaWxkSW5kZXgpO1xyXG5cclxuICAgIC8vIEFsbCB3ZSBoYXZlIHRvIGRvIGlzIGFzc29jaWF0ZSB0aGUgY2hpbGQgY29tcG9uZW50IElEIHdpdGggaXRzIGxvY2F0aW9uLiBXZSBkb24ndCBhY3R1YWxseVxyXG4gICAgLy8gZG8gYW55IHJlbmRlcmluZyBoZXJlLCBiZWNhdXNlIHRoZSBkaWZmIGZvciB0aGUgY2hpbGQgd2lsbCBhcHBlYXIgbGF0ZXIgaW4gdGhlIHJlbmRlciBiYXRjaC5cclxuICAgIGNvbnN0IGNoaWxkQ29tcG9uZW50SWQgPSBiYXRjaC5mcmFtZVJlYWRlci5jb21wb25lbnRJZChmcmFtZSk7XHJcbiAgICB0aGlzLmF0dGFjaENvbXBvbmVudFRvRWxlbWVudChjaGlsZENvbXBvbmVudElkLCBjb250YWluZXJFbGVtZW50KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5zZXJ0VGV4dChiYXRjaDogUmVuZGVyQmF0Y2gsIHBhcmVudDogTG9naWNhbEVsZW1lbnQsIGNoaWxkSW5kZXg6IG51bWJlciwgdGV4dEZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpIHtcclxuICAgIGNvbnN0IHRleHRDb250ZW50ID0gYmF0Y2guZnJhbWVSZWFkZXIudGV4dENvbnRlbnQodGV4dEZyYW1lKSE7XHJcbiAgICBjb25zdCBuZXdUZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHRDb250ZW50KTtcclxuICAgIGluc2VydExvZ2ljYWxDaGlsZChuZXdUZXh0Tm9kZSwgcGFyZW50LCBjaGlsZEluZGV4KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5zZXJ0TWFya3VwKGJhdGNoOiBSZW5kZXJCYXRjaCwgcGFyZW50OiBMb2dpY2FsRWxlbWVudCwgY2hpbGRJbmRleDogbnVtYmVyLCBtYXJrdXBGcmFtZTogUmVuZGVyVHJlZUZyYW1lKSB7XHJcbiAgICBjb25zdCBtYXJrdXBDb250YWluZXIgPSBjcmVhdGVBbmRJbnNlcnRMb2dpY2FsQ29udGFpbmVyKHBhcmVudCwgY2hpbGRJbmRleCk7XHJcblxyXG4gICAgY29uc3QgbWFya3VwQ29udGVudCA9IGJhdGNoLmZyYW1lUmVhZGVyLm1hcmt1cENvbnRlbnQobWFya3VwRnJhbWUpO1xyXG4gICAgY29uc3QgcGFyc2VkTWFya3VwID0gcGFyc2VNYXJrdXAobWFya3VwQ29udGVudCwgaXNTdmdFbGVtZW50KHBhcmVudCkpO1xyXG4gICAgbGV0IGxvZ2ljYWxTaWJsaW5nSW5kZXggPSAwO1xyXG4gICAgd2hpbGUgKHBhcnNlZE1hcmt1cC5maXJzdENoaWxkKSB7XHJcbiAgICAgIGluc2VydExvZ2ljYWxDaGlsZChwYXJzZWRNYXJrdXAuZmlyc3RDaGlsZCwgbWFya3VwQ29udGFpbmVyLCBsb2dpY2FsU2libGluZ0luZGV4KyspO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhcHBseUF0dHJpYnV0ZShiYXRjaDogUmVuZGVyQmF0Y2gsIGNvbXBvbmVudElkOiBudW1iZXIsIHRvRG9tRWxlbWVudDogRWxlbWVudCwgYXR0cmlidXRlRnJhbWU6IFJlbmRlclRyZWVGcmFtZSkge1xyXG4gICAgY29uc3QgZnJhbWVSZWFkZXIgPSBiYXRjaC5mcmFtZVJlYWRlcjtcclxuICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSBmcmFtZVJlYWRlci5hdHRyaWJ1dGVOYW1lKGF0dHJpYnV0ZUZyYW1lKSE7XHJcbiAgICBjb25zdCBldmVudEhhbmRsZXJJZCA9IGZyYW1lUmVhZGVyLmF0dHJpYnV0ZUV2ZW50SGFuZGxlcklkKGF0dHJpYnV0ZUZyYW1lKTtcclxuXHJcbiAgICBpZiAoZXZlbnRIYW5kbGVySWQpIHtcclxuICAgICAgY29uc3QgZXZlbnROYW1lID0gc3RyaXBPblByZWZpeChhdHRyaWJ1dGVOYW1lKTtcclxuICAgICAgdGhpcy5ldmVudERlbGVnYXRvci5zZXRMaXN0ZW5lcih0b0RvbUVsZW1lbnQsIGV2ZW50TmFtZSwgZXZlbnRIYW5kbGVySWQsIGNvbXBvbmVudElkKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHZhbHVlID0gZnJhbWVSZWFkZXIuYXR0cmlidXRlVmFsdWUoYXR0cmlidXRlRnJhbWUpO1xyXG4gICAgdGhpcy5zZXRPclJlbW92ZUF0dHJpYnV0ZU9yUHJvcGVydHkodG9Eb21FbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCB2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGluc2VydEZyYW1lUmFuZ2UoYmF0Y2g6IFJlbmRlckJhdGNoLCBjb21wb25lbnRJZDogbnVtYmVyLCBwYXJlbnQ6IExvZ2ljYWxFbGVtZW50LCBjaGlsZEluZGV4OiBudW1iZXIsIGZyYW1lczogQXJyYXlWYWx1ZXM8UmVuZGVyVHJlZUZyYW1lPiwgc3RhcnRJbmRleDogbnVtYmVyLCBlbmRJbmRleEV4Y2w6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICBjb25zdCBvcmlnQ2hpbGRJbmRleCA9IGNoaWxkSW5kZXg7XHJcbiAgICBmb3IgKGxldCBpbmRleCA9IHN0YXJ0SW5kZXg7IGluZGV4IDwgZW5kSW5kZXhFeGNsOyBpbmRleCsrKSB7XHJcbiAgICAgIGNvbnN0IGZyYW1lID0gYmF0Y2gucmVmZXJlbmNlRnJhbWVzRW50cnkoZnJhbWVzLCBpbmRleCk7XHJcbiAgICAgIGNvbnN0IG51bUNoaWxkcmVuSW5zZXJ0ZWQgPSB0aGlzLmluc2VydEZyYW1lKGJhdGNoLCBjb21wb25lbnRJZCwgcGFyZW50LCBjaGlsZEluZGV4LCBmcmFtZXMsIGZyYW1lLCBpbmRleCk7XHJcbiAgICAgIGNoaWxkSW5kZXggKz0gbnVtQ2hpbGRyZW5JbnNlcnRlZDtcclxuXHJcbiAgICAgIC8vIFNraXAgb3ZlciBhbnkgZGVzY2VuZGFudHMsIHNpbmNlIHRoZXkgYXJlIGFscmVhZHkgZGVhbHQgd2l0aCByZWN1cnNpdmVseVxyXG4gICAgICBpbmRleCArPSBjb3VudERlc2NlbmRhbnRGcmFtZXMoYmF0Y2gsIGZyYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKGNoaWxkSW5kZXggLSBvcmlnQ2hpbGRJbmRleCk7IC8vIFRvdGFsIG51bWJlciBvZiBjaGlsZHJlbiBpbnNlcnRlZFxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXRPclJlbW92ZUF0dHJpYnV0ZU9yUHJvcGVydHkoZWxlbWVudDogRWxlbWVudCwgbmFtZTogc3RyaW5nLCB2YWx1ZU9yTnVsbFRvUmVtb3ZlOiBzdHJpbmcgfCBudWxsKSB7XHJcbiAgICAvLyBGaXJzdCBzZWUgaWYgd2UgaGF2ZSBzcGVjaWFsIGhhbmRsaW5nIGZvciB0aGlzIGF0dHJpYnV0ZVxyXG4gICAgaWYgKCF0cnlBcHBseVNwZWNpYWxQcm9wZXJ0eShlbGVtZW50LCBuYW1lLCB2YWx1ZU9yTnVsbFRvUmVtb3ZlKSkge1xyXG4gICAgICAvLyBJZiBub3QsIG1heWJlIGl0J3Mgb25lIG9mIG91ciBpbnRlcm5hbCBhdHRyaWJ1dGVzXHJcbiAgICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgoaW50ZXJuYWxBdHRyaWJ1dGVOYW1lUHJlZml4KSkge1xyXG4gICAgICAgIHRoaXMuYXBwbHlJbnRlcm5hbEF0dHJpYnV0ZShlbGVtZW50LCBuYW1lLnN1YnN0cmluZyhpbnRlcm5hbEF0dHJpYnV0ZU5hbWVQcmVmaXgubGVuZ3RoKSwgdmFsdWVPck51bGxUb1JlbW92ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gSWYgbm90LCB0cmVhdCBpdCBhcyBhIHJlZ3VsYXIgRE9NIGF0dHJpYnV0ZVxyXG4gICAgICAgIGlmICh2YWx1ZU9yTnVsbFRvUmVtb3ZlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZU9yTnVsbFRvUmVtb3ZlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFwcGx5SW50ZXJuYWxBdHRyaWJ1dGUoZWxlbWVudDogRWxlbWVudCwgaW50ZXJuYWxBdHRyaWJ1dGVOYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfCBudWxsKSB7XHJcbiAgICBpZiAoaW50ZXJuYWxBdHRyaWJ1dGVOYW1lLnN0YXJ0c1dpdGgoZXZlbnRTdG9wUHJvcGFnYXRpb25BdHRyaWJ1dGVOYW1lUHJlZml4KSkge1xyXG4gICAgICAvLyBTdG9wIHByb3BhZ2F0aW9uXHJcbiAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IHN0cmlwT25QcmVmaXgoaW50ZXJuYWxBdHRyaWJ1dGVOYW1lLnN1YnN0cmluZyhldmVudFN0b3BQcm9wYWdhdGlvbkF0dHJpYnV0ZU5hbWVQcmVmaXgubGVuZ3RoKSk7XHJcbiAgICAgIHRoaXMuZXZlbnREZWxlZ2F0b3Iuc2V0U3RvcFByb3BhZ2F0aW9uKGVsZW1lbnQsIGV2ZW50TmFtZSwgdmFsdWUgIT09IG51bGwpO1xyXG4gICAgfSBlbHNlIGlmIChpbnRlcm5hbEF0dHJpYnV0ZU5hbWUuc3RhcnRzV2l0aChldmVudFByZXZlbnREZWZhdWx0QXR0cmlidXRlTmFtZVByZWZpeCkpIHtcclxuICAgICAgLy8gUHJldmVudCBkZWZhdWx0XHJcbiAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IHN0cmlwT25QcmVmaXgoaW50ZXJuYWxBdHRyaWJ1dGVOYW1lLnN1YnN0cmluZyhldmVudFByZXZlbnREZWZhdWx0QXR0cmlidXRlTmFtZVByZWZpeC5sZW5ndGgpKTtcclxuICAgICAgdGhpcy5ldmVudERlbGVnYXRvci5zZXRQcmV2ZW50RGVmYXVsdChlbGVtZW50LCBldmVudE5hbWUsIHZhbHVlICE9PSBudWxsKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFRoZSBwcmVmaXggbWFrZXMgdGhpcyBhdHRyaWJ1dGUgbmFtZSByZXNlcnZlZCwgc28gYW55IG90aGVyIHVzYWdlIGlzIGRpc2FsbG93ZWRcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBpbnRlcm5hbCBhdHRyaWJ1dGUgJyR7aW50ZXJuYWxBdHRyaWJ1dGVOYW1lfSdgKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1hcmtBc0ludGVyYWN0aXZlUm9vdENvbXBvbmVudEVsZW1lbnQoZWxlbWVudDogTG9naWNhbEVsZW1lbnQsIGlzSW50ZXJhY3RpdmU6IGJvb2xlYW4pIHtcclxuICBlbGVtZW50W2ludGVyYWN0aXZlUm9vdENvbXBvbmVudFByb3BuYW1lXSA9IGlzSW50ZXJhY3RpdmU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVyYWN0aXZlUm9vdENvbXBvbmVudEVsZW1lbnQoZWxlbWVudDogTG9naWNhbEVsZW1lbnQpOiBib29sZWFuIHwgdW5kZWZpbmVkIHtcclxuICByZXR1cm4gZWxlbWVudFtpbnRlcmFjdGl2ZVJvb3RDb21wb25lbnRQcm9wbmFtZV07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRTaG91bGRQcmVzZXJ2ZUNvbnRlbnRPbkludGVyYWN0aXZlQ29tcG9uZW50RGlzcG9zYWwoZWxlbWVudDogTG9naWNhbEVsZW1lbnQsIHNob3VsZFByZXNlcnZlOiBib29sZWFuKSB7XHJcbiAgZWxlbWVudFtwcmVzZXJ2ZUNvbnRlbnRPbkRpc3Bvc2FsUHJvcG5hbWVdID0gc2hvdWxkUHJlc2VydmU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3VsZFByZXNlcnZlQ29udGVudE9uSW50ZXJhY3RpdmVDb21wb25lbnREaXNwb3NhbChlbGVtZW50OiBMb2dpY2FsRWxlbWVudCk6IGJvb2xlYW4ge1xyXG4gIHJldHVybiBlbGVtZW50W3ByZXNlcnZlQ29udGVudE9uRGlzcG9zYWxQcm9wbmFtZV0gPT09IHRydWU7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9uZW50RGVzY3JpcHRvciB7XHJcbiAgc3RhcnQ6IE5vZGU7XHJcbiAgZW5kOiBOb2RlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZU1hcmt1cChtYXJrdXA6IHN0cmluZywgaXNTdmc6IGJvb2xlYW4pIHtcclxuICBpZiAoaXNTdmcpIHtcclxuICAgIHNoYXJlZFN2Z0VsZW1Gb3JQYXJzaW5nLmlubmVySFRNTCA9IG1hcmt1cCB8fCAnICc7XHJcbiAgICByZXR1cm4gc2hhcmVkU3ZnRWxlbUZvclBhcnNpbmc7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNoYXJlZFRlbXBsYXRlRWxlbUZvclBhcnNpbmcuaW5uZXJIVE1MID0gbWFya3VwIHx8ICcgJztcclxuXHJcbiAgICAvLyBTaW5jZSB0aGlzIGlzIGEgbWFya3VwIHN0cmluZywgd2Ugd2FudCB0byBob25vciB0aGUgZGV2ZWxvcGVyJ3MgaW50ZW50IHRvXHJcbiAgICAvLyBldmFsdWF0ZSBhbnkgc2NyaXB0cyBpdCBtYXkgY29udGFpbi4gU2NyaXB0cyBwYXJzZWQgZnJvbSBhbiBpbm5lckhUTUwgYXNzaWdubWVudFxyXG4gICAgLy8gd29uJ3QgYmUgZXhlY3V0YWJsZSBieSBkZWZhdWx0IChodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMTk3NTc1L2Nhbi1zY3JpcHRzLWJlLWluc2VydGVkLXdpdGgtaW5uZXJodG1sKVxyXG4gICAgLy8gYnV0IHRoYXQncyBpbmNvbnNpc3RlbnQgd2l0aCBhbnl0aGluZyBjb25zdHJ1Y3RlZCBmcm9tIGEgc2VxdWVuY2UgbGlrZTpcclxuICAgIC8vIC0gT3BlbkVsZW1lbnQoXCJzY3JpcHRcIilcclxuICAgIC8vIC0gQWRkQ29udGVudChqcykgb3IgQWRkTWFya3VwQ29udGVudChqcylcclxuICAgIC8vIC0gQ2xvc2VFbGVtZW50KClcclxuICAgIC8vIEl0IGRvZXNuJ3QgbWFrZSBzZW5zZSB0byBoYXZlIHN1Y2ggYW4gaW5jb25zaXN0ZW5jeSBpbiBCbGF6b3IncyBpbnRlcmFjdGl2ZVxyXG4gICAgLy8gcmVuZGVyZXIsIGFuZCBmb3IgYmFjay1jb21wYXQgd2l0aCBwcmUtLk5FVCA4IGNvZGUgKHdoZW4gdGhlIFJhem9yIGNvbXBpbGVyIGFsd2F5c1xyXG4gICAgLy8gdXNlZCBPcGVuRWxlbWVudCBsaWtlIGFib3ZlKSwgYXMgd2VsbCBhcyBjb25zaXN0ZW5jeSB3aXRoIHN0YXRpYyBTU1IsIHdlIG5lZWQgdG8gbWFrZSBpdCB3b3JrLlxyXG4gICAgc2hhcmVkVGVtcGxhdGVFbGVtRm9yUGFyc2luZy5jb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NjcmlwdCcpLmZvckVhY2gob2xkU2NyaXB0RWxlbSA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld1NjcmlwdEVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcclxuICAgICAgbmV3U2NyaXB0RWxlbS50ZXh0Q29udGVudCA9IG9sZFNjcmlwdEVsZW0udGV4dENvbnRlbnQ7XHJcblxyXG4gICAgICBvbGRTY3JpcHRFbGVtLmdldEF0dHJpYnV0ZU5hbWVzKCkuZm9yRWFjaChhdHRyaWJOYW1lID0+IHtcclxuICAgICAgICBuZXdTY3JpcHRFbGVtLnNldEF0dHJpYnV0ZShhdHRyaWJOYW1lLCBvbGRTY3JpcHRFbGVtLmdldEF0dHJpYnV0ZShhdHRyaWJOYW1lKSEpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIG9sZFNjcmlwdEVsZW0ucGFyZW50Tm9kZSEucmVwbGFjZUNoaWxkKG5ld1NjcmlwdEVsZW0sIG9sZFNjcmlwdEVsZW0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHNoYXJlZFRlbXBsYXRlRWxlbUZvclBhcnNpbmcuY29udGVudDtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvdW50RGVzY2VuZGFudEZyYW1lcyhiYXRjaDogUmVuZGVyQmF0Y2gsIGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpOiBudW1iZXIge1xyXG4gIGNvbnN0IGZyYW1lUmVhZGVyID0gYmF0Y2guZnJhbWVSZWFkZXI7XHJcbiAgc3dpdGNoIChmcmFtZVJlYWRlci5mcmFtZVR5cGUoZnJhbWUpKSB7XHJcbiAgICAvLyBUaGUgZm9sbG93aW5nIGZyYW1lIHR5cGVzIGhhdmUgYSBzdWJ0cmVlIGxlbmd0aC4gT3RoZXIgZnJhbWVzIG1heSB1c2UgdGhhdCBtZW1vcnkgc2xvdFxyXG4gICAgLy8gdG8gbWVhbiBzb21ldGhpbmcgZWxzZSwgc28gd2UgbXVzdCBub3QgcmVhZCBpdC4gV2Ugc2hvdWxkIGNvbnNpZGVyIGhhdmluZyBub21pbmFsIHN1YnR5cGVzXHJcbiAgICAvLyBvZiBSZW5kZXJUcmVlRnJhbWVQb2ludGVyIHRoYXQgcHJldmVudCBhY2Nlc3MgdG8gbm9uLWFwcGxpY2FibGUgZmllbGRzLlxyXG4gICAgY2FzZSBGcmFtZVR5cGUuY29tcG9uZW50OlxyXG4gICAgY2FzZSBGcmFtZVR5cGUuZWxlbWVudDpcclxuICAgIGNhc2UgRnJhbWVUeXBlLnJlZ2lvbjpcclxuICAgICAgcmV0dXJuIGZyYW1lUmVhZGVyLnN1YnRyZWVMZW5ndGgoZnJhbWUpIC0gMTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiAwO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc3RyaXBPblByZWZpeChhdHRyaWJ1dGVOYW1lOiBzdHJpbmcpIHtcclxuICBpZiAoYXR0cmlidXRlTmFtZS5zdGFydHNXaXRoKCdvbicpKSB7XHJcbiAgICByZXR1cm4gYXR0cmlidXRlTmFtZS5zdWJzdHJpbmcoMik7XHJcbiAgfVxyXG5cclxuICB0aHJvdyBuZXcgRXJyb3IoYEF0dHJpYnV0ZSBzaG91bGQgYmUgYW4gZXZlbnQgbmFtZSwgYnV0IGRvZXNuJ3Qgc3RhcnQgd2l0aCAnb24nLiBWYWx1ZTogJyR7YXR0cmlidXRlTmFtZX0nYCk7XHJcbn1cclxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cclxuaW1wb3J0ICdAbWljcm9zb2Z0L2RvdG5ldC1qcy1pbnRlcm9wJztcclxuaW1wb3J0IHsgcmVzZXRTY3JvbGxBZnRlck5leHRCYXRjaCB9IGZyb20gJy4uL1JlbmRlcmluZy9SZW5kZXJlcic7XHJcbmltcG9ydCB7IEV2ZW50RGVsZWdhdG9yIH0gZnJvbSAnLi4vUmVuZGVyaW5nL0V2ZW50cy9FdmVudERlbGVnYXRvcic7XHJcbmltcG9ydCB7IGF0dGFjaEVuaGFuY2VkTmF2aWdhdGlvbkxpc3RlbmVyLCBnZXRJbnRlcmFjdGl2ZVJvdXRlclJlbmRlcmVySWQsIGhhbmRsZUNsaWNrRm9yTmF2aWdhdGlvbkludGVyY2VwdGlvbiwgaGFzSW50ZXJhY3RpdmVSb3V0ZXIsIGhhc1Byb2dyYW1tYXRpY0VuaGFuY2VkTmF2aWdhdGlvbkhhbmRsZXIsIGlzU2FtZVBhZ2VXaXRoSGFzaCwgaXNXaXRoaW5CYXNlVXJpU3BhY2UsIHBlcmZvcm1Qcm9ncmFtbWF0aWNFbmhhbmNlZE5hdmlnYXRpb24sIHBlcmZvcm1TY3JvbGxUb0VsZW1lbnRPblRoZVNhbWVQYWdlLCBzY3JvbGxUb0VsZW1lbnQsIHNldEhhc0ludGVyYWN0aXZlUm91dGVyLCB0b0Fic29sdXRlVXJpIH0gZnJvbSAnLi9OYXZpZ2F0aW9uVXRpbHMnO1xyXG5pbXBvcnQgeyBXZWJSZW5kZXJlcklkIH0gZnJvbSAnLi4vUmVuZGVyaW5nL1dlYlJlbmRlcmVySWQnO1xyXG5pbXBvcnQgeyBpc1JlbmRlcmVyQXR0YWNoZWQgfSBmcm9tICcuLi9SZW5kZXJpbmcvV2ViUmVuZGVyZXJJbnRlcm9wTWV0aG9kcyc7XHJcblxyXG5sZXQgaGFzUmVnaXN0ZXJlZE5hdmlnYXRpb25FdmVudExpc3RlbmVycyA9IGZhbHNlO1xyXG5sZXQgY3VycmVudEhpc3RvcnlJbmRleCA9IDA7XHJcbmxldCBjdXJyZW50TG9jYXRpb25DaGFuZ2luZ0NhbGxJZCA9IDA7XHJcblxyXG50eXBlIE5hdmlnYXRpb25DYWxsYmFja3MgPSB7XHJcbiAgcmVuZGVyZXJJZDogV2ViUmVuZGVyZXJJZDtcclxuICBoYXNMb2NhdGlvbkNoYW5naW5nRXZlbnRMaXN0ZW5lcnM6IGJvb2xlYW47XHJcbiAgbG9jYXRpb25DaGFuZ2VkKHVyaTogc3RyaW5nLCBzdGF0ZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBpbnRlcmNlcHRlZDogYm9vbGVhbik6IFByb21pc2U8dm9pZD47XHJcbiAgbG9jYXRpb25DaGFuZ2luZyhjYWxsSWQ6IG51bWJlciwgdXJpOiBzdHJpbmcsIHN0YXRlOiBzdHJpbmcgfCB1bmRlZmluZWQsIGludGVyY2VwdGVkOiBib29sZWFuKTogUHJvbWlzZTx2b2lkPjtcclxufTtcclxuXHJcbmNvbnN0IG5hdmlnYXRpb25DYWxsYmFja3MgPSBuZXcgTWFwPFdlYlJlbmRlcmVySWQsIE5hdmlnYXRpb25DYWxsYmFja3M+KCk7XHJcblxyXG5sZXQgcG9wU3RhdGVDYWxsYmFjazogKChzdGF0ZTogUG9wU3RhdGVFdmVudCkgPT4gUHJvbWlzZTx2b2lkPiB8IHZvaWQpID0gb25Ccm93c2VySW5pdGlhdGVkUG9wU3RhdGU7XHJcbmxldCByZXNvbHZlQ3VycmVudE5hdmlnYXRpb246ICgoc2hvdWxkQ29udGludWVOYXZpZ2F0aW9uOiBib29sZWFuKSA9PiB2b2lkKSB8IG51bGwgPSBudWxsO1xyXG5cclxuLy8gVGhlc2UgYXJlIHRoZSBmdW5jdGlvbnMgd2UncmUgbWFraW5nIGF2YWlsYWJsZSBmb3IgaW52b2NhdGlvbiBmcm9tIC5ORVRcclxuZXhwb3J0IGNvbnN0IGludGVybmFsRnVuY3Rpb25zID0ge1xyXG4gIGxpc3RlbkZvck5hdmlnYXRpb25FdmVudHMsXHJcbiAgZW5hYmxlTmF2aWdhdGlvbkludGVyY2VwdGlvbjogc2V0SGFzSW50ZXJhY3RpdmVSb3V0ZXIsXHJcbiAgc2V0SGFzTG9jYXRpb25DaGFuZ2luZ0xpc3RlbmVycyxcclxuICBlbmRMb2NhdGlvbkNoYW5naW5nLFxyXG4gIG5hdmlnYXRlVG86IG5hdmlnYXRlVG9Gcm9tRG90TmV0LFxyXG4gIHJlZnJlc2gsXHJcbiAgZ2V0QmFzZVVSSTogKCk6IHN0cmluZyA9PiBkb2N1bWVudC5iYXNlVVJJLFxyXG4gIGdldExvY2F0aW9uSHJlZjogKCk6IHN0cmluZyA9PiBsb2NhdGlvbi5ocmVmLFxyXG4gIHNjcm9sbFRvRWxlbWVudCxcclxufTtcclxuXHJcbmZ1bmN0aW9uIGxpc3RlbkZvck5hdmlnYXRpb25FdmVudHMoXHJcbiAgcmVuZGVyZXJJZDogV2ViUmVuZGVyZXJJZCxcclxuICBsb2NhdGlvbkNoYW5nZWRDYWxsYmFjazogKHVyaTogc3RyaW5nLCBzdGF0ZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBpbnRlcmNlcHRlZDogYm9vbGVhbikgPT4gUHJvbWlzZTx2b2lkPixcclxuICBsb2NhdGlvbkNoYW5naW5nQ2FsbGJhY2s6IChjYWxsSWQ6IG51bWJlciwgdXJpOiBzdHJpbmcsIHN0YXRlOiBzdHJpbmcgfCB1bmRlZmluZWQsIGludGVyY2VwdGVkOiBib29sZWFuKSA9PiBQcm9taXNlPHZvaWQ+XHJcbik6IHZvaWQge1xyXG4gIG5hdmlnYXRpb25DYWxsYmFja3Muc2V0KHJlbmRlcmVySWQsIHtcclxuICAgIHJlbmRlcmVySWQsXHJcbiAgICBoYXNMb2NhdGlvbkNoYW5naW5nRXZlbnRMaXN0ZW5lcnM6IGZhbHNlLFxyXG4gICAgbG9jYXRpb25DaGFuZ2VkOiBsb2NhdGlvbkNoYW5nZWRDYWxsYmFjayxcclxuICAgIGxvY2F0aW9uQ2hhbmdpbmc6IGxvY2F0aW9uQ2hhbmdpbmdDYWxsYmFjayxcclxuICB9KTtcclxuXHJcbiAgaWYgKGhhc1JlZ2lzdGVyZWROYXZpZ2F0aW9uRXZlbnRMaXN0ZW5lcnMpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGhhc1JlZ2lzdGVyZWROYXZpZ2F0aW9uRXZlbnRMaXN0ZW5lcnMgPSB0cnVlO1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIG9uUG9wU3RhdGUpO1xyXG4gIGN1cnJlbnRIaXN0b3J5SW5kZXggPSBoaXN0b3J5LnN0YXRlPy5faW5kZXggPz8gMDtcclxuXHJcbiAgYXR0YWNoRW5oYW5jZWROYXZpZ2F0aW9uTGlzdGVuZXIoKGludGVybmFsRGVzdGluYXRpb25IcmVmLCBpbnRlcmNlcHRlZExpbmspID0+IHtcclxuICAgIG5vdGlmeUxvY2F0aW9uQ2hhbmdlZChpbnRlcmNlcHRlZExpbmssIGludGVybmFsRGVzdGluYXRpb25IcmVmKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0SGFzTG9jYXRpb25DaGFuZ2luZ0xpc3RlbmVycyhyZW5kZXJlcklkOiBXZWJSZW5kZXJlcklkLCBoYXNMaXN0ZW5lcnM6IGJvb2xlYW4pIHtcclxuICBjb25zdCBjYWxsYmFja3MgPSBuYXZpZ2F0aW9uQ2FsbGJhY2tzLmdldChyZW5kZXJlcklkKTtcclxuICBpZiAoIWNhbGxiYWNrcykge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBSZW5kZXJlciB3aXRoIElEICcke3JlbmRlcmVySWR9JyBpcyBub3QgbGlzdGVuaW5nIGZvciBuYXZpZ2F0aW9uIGV2ZW50c2ApO1xyXG4gIH1cclxuICBjYWxsYmFja3MuaGFzTG9jYXRpb25DaGFuZ2luZ0V2ZW50TGlzdGVuZXJzID0gaGFzTGlzdGVuZXJzO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGF0dGFjaFRvRXZlbnREZWxlZ2F0b3IoZXZlbnREZWxlZ2F0b3I6IEV2ZW50RGVsZWdhdG9yKTogdm9pZCB7XHJcbiAgLy8gV2UgbmVlZCB0byByZXNwb25kIHRvIGNsaWNrcyBvbiA8YT4gZWxlbWVudHMgKmFmdGVyKiB0aGUgRXZlbnREZWxlZ2F0b3IgaGFzIGZpbmlzaGVkXHJcbiAgLy8gcnVubmluZyBpdHMgc2ltdWxhdGVkIGJ1YmJsaW5nIHByb2Nlc3Mgc28gdGhhdCB3ZSBjYW4gcmVzcGVjdCBhbnkgcHJldmVudERlZmF1bHQgcmVxdWVzdHMuXHJcbiAgLy8gU28gaW5zdGVhZCBvZiByZWdpc3RlcmluZyBvdXIgb3duIG5hdGl2ZSBldmVudCwgcmVnaXN0ZXIgdXNpbmcgdGhlIEV2ZW50RGVsZWdhdG9yLlxyXG4gIGV2ZW50RGVsZWdhdG9yLm5vdGlmeUFmdGVyQ2xpY2soZXZlbnQgPT4ge1xyXG4gICAgaWYgKCFoYXNJbnRlcmFjdGl2ZVJvdXRlcigpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVDbGlja0Zvck5hdmlnYXRpb25JbnRlcmNlcHRpb24oZXZlbnQsIGFic29sdXRlSW50ZXJuYWxIcmVmID0+IHtcclxuICAgICAgcGVyZm9ybUludGVybmFsTmF2aWdhdGlvbihhYnNvbHV0ZUludGVybmFsSHJlZiwgLyogaW50ZXJjZXB0ZWRMaW5rICovIHRydWUsIC8qIHJlcGxhY2UgKi8gZmFsc2UpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiByZWZyZXNoKGZvcmNlUmVsb2FkOiBib29sZWFuKTogdm9pZCB7XHJcbiAgaWYgKCFmb3JjZVJlbG9hZCAmJiBoYXNQcm9ncmFtbWF0aWNFbmhhbmNlZE5hdmlnYXRpb25IYW5kbGVyKCkpIHtcclxuICAgIHBlcmZvcm1Qcm9ncmFtbWF0aWNFbmhhbmNlZE5hdmlnYXRpb24obG9jYXRpb24uaHJlZiwgLyogcmVwbGFjZSAqLyB0cnVlKTtcclxuICB9IGVsc2Uge1xyXG4gICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBGb3IgYmFjay1jb21wYXQsIHdlIG5lZWQgdG8gYWNjZXB0IG11bHRpcGxlIG92ZXJsb2Fkc1xyXG5leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGVUbyh1cmk6IHN0cmluZywgb3B0aW9uczogTmF2aWdhdGlvbk9wdGlvbnMpOiB2b2lkO1xyXG5leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGVUbyh1cmk6IHN0cmluZywgZm9yY2VMb2FkOiBib29sZWFuKTogdm9pZDtcclxuZXhwb3J0IGZ1bmN0aW9uIG5hdmlnYXRlVG8odXJpOiBzdHJpbmcsIGZvcmNlTG9hZDogYm9vbGVhbiwgcmVwbGFjZTogYm9vbGVhbik6IHZvaWQ7XHJcbmV4cG9ydCBmdW5jdGlvbiBuYXZpZ2F0ZVRvKHVyaTogc3RyaW5nLCBmb3JjZUxvYWRPck9wdGlvbnM6IE5hdmlnYXRpb25PcHRpb25zIHwgYm9vbGVhbiwgcmVwbGFjZUlmVXNpbmdPbGRPdmVybG9hZCA9IGZhbHNlKTogdm9pZCB7XHJcbiAgLy8gTm9ybWFsaXplIHRoZSBwYXJhbWV0ZXJzIHRvIHRoZSBuZXdlciBvdmVybG9hZCAoaS5lLiwgdXNpbmcgTmF2aWdhdGlvbk9wdGlvbnMpXHJcbiAgY29uc3Qgb3B0aW9uczogTmF2aWdhdGlvbk9wdGlvbnMgPSBmb3JjZUxvYWRPck9wdGlvbnMgaW5zdGFuY2VvZiBPYmplY3RcclxuICAgID8gZm9yY2VMb2FkT3JPcHRpb25zXHJcbiAgICA6IHsgZm9yY2VMb2FkOiBmb3JjZUxvYWRPck9wdGlvbnMsIHJlcGxhY2VIaXN0b3J5RW50cnk6IHJlcGxhY2VJZlVzaW5nT2xkT3ZlcmxvYWQgfTtcclxuXHJcbiAgbmF2aWdhdGVUb0NvcmUodXJpLCBvcHRpb25zKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbmF2aWdhdGVUb0Zyb21Eb3ROZXQodXJpOiBzdHJpbmcsIG9wdGlvbnM6IE5hdmlnYXRpb25PcHRpb25zKTogdm9pZCB7XHJcbiAgLy8gVGhlIGxvY2F0aW9uIGNoYW5naW5nIGNhbGxiYWNrIGlzIGNhbGxlZCBmcm9tIC5ORVQgZm9yIHByb2dyYW1tYXRpYyBuYXZpZ2F0aW9ucyBvcmlnaW5hdGluZyBmcm9tIC5ORVQuXHJcbiAgLy8gSW4gdGhpcyBjYXNlLCB3ZSBzaG91bGRuJ3QgaW52b2tlIHRoZSBjYWxsYmFjayBhZ2FpbiBmcm9tIHRoZSBKUyBzaWRlLlxyXG4gIG5hdmlnYXRlVG9Db3JlKHVyaSwgb3B0aW9ucywgLyogc2tpcExvY2F0aW9uQ2hhbmdpbmdDYWxsYmFjayAqLyB0cnVlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbmF2aWdhdGVUb0NvcmUodXJpOiBzdHJpbmcsIG9wdGlvbnM6IE5hdmlnYXRpb25PcHRpb25zLCBza2lwTG9jYXRpb25DaGFuZ2luZ0NhbGxiYWNrID0gZmFsc2UpOiB2b2lkIHtcclxuICBjb25zdCBhYnNvbHV0ZVVyaSA9IHRvQWJzb2x1dGVVcmkodXJpKTtcclxuXHJcbiAgaWYgKCFvcHRpb25zLmZvcmNlTG9hZCAmJiBpc1dpdGhpbkJhc2VVcmlTcGFjZShhYnNvbHV0ZVVyaSkpIHtcclxuICAgIGlmIChzaG91bGRVc2VDbGllbnRTaWRlUm91dGluZygpKSB7XHJcbiAgICAgIHBlcmZvcm1JbnRlcm5hbE5hdmlnYXRpb24oYWJzb2x1dGVVcmksIGZhbHNlLCBvcHRpb25zLnJlcGxhY2VIaXN0b3J5RW50cnksIG9wdGlvbnMuaGlzdG9yeUVudHJ5U3RhdGUsIHNraXBMb2NhdGlvbkNoYW5naW5nQ2FsbGJhY2spO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcGVyZm9ybVByb2dyYW1tYXRpY0VuaGFuY2VkTmF2aWdhdGlvbihhYnNvbHV0ZVVyaSwgb3B0aW9ucy5yZXBsYWNlSGlzdG9yeUVudHJ5KTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgLy8gRm9yIGV4dGVybmFsIG5hdmlnYXRpb24sIHdlIHdvcmsgaW4gdGVybXMgb2YgdGhlIG9yaWdpbmFsbHktc3VwcGxpZWQgdXJpIHN0cmluZyxcclxuICAgIC8vIG5vdCB0aGUgY29tcHV0ZWQgYWJzb2x1dGVVcmkuIFRoaXMgaXMgaW4gY2FzZSB0aGVyZSBhcmUgc29tZSBzcGVjaWFsIFVSSSBmb3JtYXRzXHJcbiAgICAvLyB3ZSdyZSB1bmFibGUgdG8gdHJhbnNsYXRlIGludG8gYWJzb2x1dGUgVVJJcy5cclxuICAgIHBlcmZvcm1FeHRlcm5hbE5hdmlnYXRpb24odXJpLCBvcHRpb25zLnJlcGxhY2VIaXN0b3J5RW50cnkpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcGVyZm9ybUV4dGVybmFsTmF2aWdhdGlvbih1cmk6IHN0cmluZywgcmVwbGFjZTogYm9vbGVhbikge1xyXG4gIGlmIChsb2NhdGlvbi5ocmVmID09PSB1cmkpIHtcclxuICAgIC8vIElmIHlvdSdyZSBhbHJlYWR5IG9uIHRoaXMgVVJMLCB5b3UgY2FuJ3QgYXBwZW5kIGFub3RoZXIgY29weSBvZiBpdCB0byB0aGUgaGlzdG9yeSBzdGFjayxcclxuICAgIC8vIHNvIHdlIGNhbiBpZ25vcmUgdGhlICdyZXBsYWNlJyBmbGFnLiBIb3dldmVyLCByZWxvYWRpbmcgdGhlIHNhbWUgVVJMIHlvdSdyZSBhbHJlYWR5IG9uXHJcbiAgICAvLyByZXF1aXJlcyBzcGVjaWFsIGhhbmRsaW5nIHRvIGF2b2lkIHRyaWdnZXJpbmcgYnJvd3Nlci1zcGVjaWZpYyBiZWhhdmlvciBpc3N1ZXMuXHJcbiAgICAvLyBGb3IgZGV0YWlscyBhYm91dCB3aGF0IHRoaXMgZml4ZXMgYW5kIHdoeSwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9kb3RuZXQvYXNwbmV0Y29yZS9wdWxsLzEwODM5XHJcbiAgICBjb25zdCB0ZW1wb3JhcnlVcmkgPSB1cmkgKyAnPyc7XHJcbiAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCAnJywgdGVtcG9yYXJ5VXJpKTtcclxuICAgIGxvY2F0aW9uLnJlcGxhY2UodXJpKTtcclxuICB9IGVsc2UgaWYgKHJlcGxhY2UpIHtcclxuICAgIGxvY2F0aW9uLnJlcGxhY2UodXJpKTtcclxuICB9IGVsc2Uge1xyXG4gICAgbG9jYXRpb24uaHJlZiA9IHVyaTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHBlcmZvcm1JbnRlcm5hbE5hdmlnYXRpb24oYWJzb2x1dGVJbnRlcm5hbEhyZWY6IHN0cmluZywgaW50ZXJjZXB0ZWRMaW5rOiBib29sZWFuLCByZXBsYWNlOiBib29sZWFuLCBzdGF0ZTogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLCBza2lwTG9jYXRpb25DaGFuZ2luZ0NhbGxiYWNrID0gZmFsc2UpIHtcclxuICBpZ25vcmVQZW5kaW5nTmF2aWdhdGlvbigpO1xyXG5cclxuICBpZiAoaXNTYW1lUGFnZVdpdGhIYXNoKGFic29sdXRlSW50ZXJuYWxIcmVmKSkge1xyXG4gICAgc2F2ZVRvQnJvd3Nlckhpc3RvcnkoYWJzb2x1dGVJbnRlcm5hbEhyZWYsIHJlcGxhY2UsIHN0YXRlKTtcclxuICAgIHBlcmZvcm1TY3JvbGxUb0VsZW1lbnRPblRoZVNhbWVQYWdlKGFic29sdXRlSW50ZXJuYWxIcmVmKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGNvbnN0IGNhbGxiYWNrcyA9IGdldEludGVyYWN0aXZlUm91dGVyTmF2aWdhdGlvbkNhbGxiYWNrcygpO1xyXG4gIGlmICghc2tpcExvY2F0aW9uQ2hhbmdpbmdDYWxsYmFjayAmJiBjYWxsYmFja3M/Lmhhc0xvY2F0aW9uQ2hhbmdpbmdFdmVudExpc3RlbmVycykge1xyXG4gICAgY29uc3Qgc2hvdWxkQ29udGludWVOYXZpZ2F0aW9uID0gYXdhaXQgbm90aWZ5TG9jYXRpb25DaGFuZ2luZyhhYnNvbHV0ZUludGVybmFsSHJlZiwgc3RhdGUsIGludGVyY2VwdGVkTGluaywgY2FsbGJhY2tzKTtcclxuICAgIGlmICghc2hvdWxkQ29udGludWVOYXZpZ2F0aW9uKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFNpbmNlIHRoaXMgd2FzICpub3QqIHRyaWdnZXJlZCBieSBhIGJhY2svZm9yd2FyZCBnZXN0dXJlICh0aGF0IGdvZXMgdGhyb3VnaCBhIGRpZmZlcmVudFxyXG4gIC8vIGNvZGUgcGF0aCBzdGFydGluZyB3aXRoIGEgcG9wc3RhdGUgZXZlbnQpLCB3ZSBkb24ndCB3YW50IHRvIHByZXNlcnZlIHRoZSBjdXJyZW50IHNjcm9sbFxyXG4gIC8vIHBvc2l0aW9uLCBzbyByZXNldCBpdC5cclxuICAvLyBUbyBhdm9pZCB1Z2x5IGZsaWNrZXJpbmcgZWZmZWN0cywgd2UgZG9uJ3Qgd2FudCB0byBjaGFuZ2UgdGhlIHNjcm9sbCBwb3NpdGlvbiB1bnRpbFxyXG4gIC8vIHdlIHJlbmRlciB0aGUgbmV3IHBhZ2UuIEFzIGEgYmVzdCBhcHByb3hpbWF0aW9uLCB3YWl0IHVudGlsIHRoZSBuZXh0IGJhdGNoLlxyXG4gIHJlc2V0U2Nyb2xsQWZ0ZXJOZXh0QmF0Y2goKTtcclxuXHJcbiAgc2F2ZVRvQnJvd3Nlckhpc3RvcnkoYWJzb2x1dGVJbnRlcm5hbEhyZWYsIHJlcGxhY2UsIHN0YXRlKTtcclxuXHJcbiAgYXdhaXQgbm90aWZ5TG9jYXRpb25DaGFuZ2VkKGludGVyY2VwdGVkTGluayk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNhdmVUb0Jyb3dzZXJIaXN0b3J5KGFic29sdXRlSW50ZXJuYWxIcmVmOiBzdHJpbmcsIHJlcGxhY2U6IGJvb2xlYW4sIHN0YXRlOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpOiB2b2lkIHtcclxuICBpZiAoIXJlcGxhY2UpIHtcclxuICAgIGN1cnJlbnRIaXN0b3J5SW5kZXgrKztcclxuICAgIGhpc3RvcnkucHVzaFN0YXRlKHtcclxuICAgICAgdXNlclN0YXRlOiBzdGF0ZSxcclxuICAgICAgX2luZGV4OiBjdXJyZW50SGlzdG9yeUluZGV4LFxyXG4gICAgfSwgLyogaWdub3JlZCB0aXRsZSAqLyAnJywgYWJzb2x1dGVJbnRlcm5hbEhyZWYpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZSh7XHJcbiAgICAgIHVzZXJTdGF0ZTogc3RhdGUsXHJcbiAgICAgIF9pbmRleDogY3VycmVudEhpc3RvcnlJbmRleCxcclxuICAgIH0sIC8qIGlnbm9yZWQgdGl0bGUgKi8gJycsIGFic29sdXRlSW50ZXJuYWxIcmVmKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5hdmlnYXRlSGlzdG9yeVdpdGhvdXRQb3BTdGF0ZUNhbGxiYWNrKGRlbHRhOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICBjb25zdCBvbGRQb3BTdGF0ZUNhbGxiYWNrID0gcG9wU3RhdGVDYWxsYmFjaztcclxuXHJcbiAgICBwb3BTdGF0ZUNhbGxiYWNrID0gKCkgPT4ge1xyXG4gICAgICBwb3BTdGF0ZUNhbGxiYWNrID0gb2xkUG9wU3RhdGVDYWxsYmFjaztcclxuICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBoaXN0b3J5LmdvKGRlbHRhKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaWdub3JlUGVuZGluZ05hdmlnYXRpb24oKSB7XHJcbiAgaWYgKHJlc29sdmVDdXJyZW50TmF2aWdhdGlvbikge1xyXG4gICAgcmVzb2x2ZUN1cnJlbnROYXZpZ2F0aW9uKGZhbHNlKTtcclxuICAgIHJlc29sdmVDdXJyZW50TmF2aWdhdGlvbiA9IG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBub3RpZnlMb2NhdGlvbkNoYW5naW5nKHVyaTogc3RyaW5nLCBzdGF0ZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBpbnRlcmNlcHRlZDogYm9vbGVhbiwgY2FsbGJhY2tzOiBOYXZpZ2F0aW9uQ2FsbGJhY2tzKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlPGJvb2xlYW4+KHJlc29sdmUgPT4ge1xyXG4gICAgaWdub3JlUGVuZGluZ05hdmlnYXRpb24oKTtcclxuICAgIGN1cnJlbnRMb2NhdGlvbkNoYW5naW5nQ2FsbElkKys7XHJcbiAgICByZXNvbHZlQ3VycmVudE5hdmlnYXRpb24gPSByZXNvbHZlO1xyXG4gICAgY2FsbGJhY2tzLmxvY2F0aW9uQ2hhbmdpbmcoY3VycmVudExvY2F0aW9uQ2hhbmdpbmdDYWxsSWQsIHVyaSwgc3RhdGUsIGludGVyY2VwdGVkKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZW5kTG9jYXRpb25DaGFuZ2luZyhjYWxsSWQ6IG51bWJlciwgc2hvdWxkQ29udGludWVOYXZpZ2F0aW9uOiBib29sZWFuKSB7XHJcbiAgaWYgKHJlc29sdmVDdXJyZW50TmF2aWdhdGlvbiAmJiBjYWxsSWQgPT09IGN1cnJlbnRMb2NhdGlvbkNoYW5naW5nQ2FsbElkKSB7XHJcbiAgICByZXNvbHZlQ3VycmVudE5hdmlnYXRpb24oc2hvdWxkQ29udGludWVOYXZpZ2F0aW9uKTtcclxuICAgIHJlc29sdmVDdXJyZW50TmF2aWdhdGlvbiA9IG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBvbkJyb3dzZXJJbml0aWF0ZWRQb3BTdGF0ZShzdGF0ZTogUG9wU3RhdGVFdmVudCkge1xyXG4gIGlnbm9yZVBlbmRpbmdOYXZpZ2F0aW9uKCk7XHJcblxyXG4gIGNvbnN0IGNhbGxiYWNrcyA9IGdldEludGVyYWN0aXZlUm91dGVyTmF2aWdhdGlvbkNhbGxiYWNrcygpO1xyXG4gIGlmIChjYWxsYmFja3M/Lmhhc0xvY2F0aW9uQ2hhbmdpbmdFdmVudExpc3RlbmVycykge1xyXG4gICAgY29uc3QgaW5kZXggPSBzdGF0ZS5zdGF0ZT8uX2luZGV4ID8/IDA7XHJcbiAgICBjb25zdCB1c2VyU3RhdGUgPSBzdGF0ZS5zdGF0ZT8udXNlclN0YXRlO1xyXG4gICAgY29uc3QgZGVsdGEgPSBpbmRleCAtIGN1cnJlbnRIaXN0b3J5SW5kZXg7XHJcbiAgICBjb25zdCB1cmkgPSBsb2NhdGlvbi5ocmVmO1xyXG5cclxuICAgIC8vIFRlbXBvcmFyaWx5IHJldmVydCB0aGUgbmF2aWdhdGlvbiB1bnRpbCB3ZSBjb25maXJtIGlmIHRoZSBuYXZpZ2F0aW9uIHNob3VsZCBjb250aW51ZS5cclxuICAgIGF3YWl0IG5hdmlnYXRlSGlzdG9yeVdpdGhvdXRQb3BTdGF0ZUNhbGxiYWNrKC1kZWx0YSk7XHJcblxyXG4gICAgY29uc3Qgc2hvdWxkQ29udGludWVOYXZpZ2F0aW9uID0gYXdhaXQgbm90aWZ5TG9jYXRpb25DaGFuZ2luZyh1cmksIHVzZXJTdGF0ZSwgZmFsc2UsIGNhbGxiYWNrcyk7XHJcbiAgICBpZiAoIXNob3VsZENvbnRpbnVlTmF2aWdhdGlvbikge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgbmF2aWdhdGVIaXN0b3J5V2l0aG91dFBvcFN0YXRlQ2FsbGJhY2soZGVsdGEpO1xyXG4gIH1cclxuXHJcbiAgLy8gV2UgZG9uJ3Qga25vdyBpZiBwb3BzdGF0ZSB3YXMgdHJpZ2dlcmVkIGZvciBhIG5hdmlnYXRpb24gdGhhdCBjYW4gYmUgaGFuZGxlZCBieSB0aGUgY2xpZW50LXNpZGUgcm91dGVyLFxyXG4gIC8vIHNvIHdlIHRyZWF0IGl0IGFzIGEgaW50ZXJjZXB0ZWQgbGluayB0byBiZSBzYWZlLlxyXG4gIGF3YWl0IG5vdGlmeUxvY2F0aW9uQ2hhbmdlZCgvKiBpbnRlcmNlcHRlZExpbmsgKi8gdHJ1ZSk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIG5vdGlmeUxvY2F0aW9uQ2hhbmdlZChpbnRlcmNlcHRlZExpbms6IGJvb2xlYW4sIGludGVybmFsRGVzdGluYXRpb25IcmVmPzogc3RyaW5nKSB7XHJcbiAgY29uc3QgdXJpID0gaW50ZXJuYWxEZXN0aW5hdGlvbkhyZWYgPz8gbG9jYXRpb24uaHJlZjtcclxuXHJcbiAgYXdhaXQgUHJvbWlzZS5hbGwoQXJyYXkuZnJvbShuYXZpZ2F0aW9uQ2FsbGJhY2tzLCBhc3luYyAoW3JlbmRlcmVySWQsIGNhbGxiYWNrc10pID0+IHtcclxuICAgIGlmIChpc1JlbmRlcmVyQXR0YWNoZWQocmVuZGVyZXJJZCkpIHtcclxuICAgICAgYXdhaXQgY2FsbGJhY2tzLmxvY2F0aW9uQ2hhbmdlZCh1cmksIGhpc3Rvcnkuc3RhdGU/LnVzZXJTdGF0ZSwgaW50ZXJjZXB0ZWRMaW5rKTtcclxuICAgIH1cclxuICB9KSk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIG9uUG9wU3RhdGUoc3RhdGU6IFBvcFN0YXRlRXZlbnQpIHtcclxuICBpZiAocG9wU3RhdGVDYWxsYmFjayAmJiBzaG91bGRVc2VDbGllbnRTaWRlUm91dGluZygpKSB7XHJcbiAgICBhd2FpdCBwb3BTdGF0ZUNhbGxiYWNrKHN0YXRlKTtcclxuICB9XHJcblxyXG4gIGN1cnJlbnRIaXN0b3J5SW5kZXggPSBoaXN0b3J5LnN0YXRlPy5faW5kZXggPz8gMDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0SW50ZXJhY3RpdmVSb3V0ZXJOYXZpZ2F0aW9uQ2FsbGJhY2tzKCk6IE5hdmlnYXRpb25DYWxsYmFja3MgfCB1bmRlZmluZWQge1xyXG4gIGNvbnN0IGludGVyYWN0aXZlUm91dGVyUmVuZGVyZXJJZCA9IGdldEludGVyYWN0aXZlUm91dGVyUmVuZGVyZXJJZCgpO1xyXG4gIGlmIChpbnRlcmFjdGl2ZVJvdXRlclJlbmRlcmVySWQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICB9XHJcblxyXG4gIHJldHVybiBuYXZpZ2F0aW9uQ2FsbGJhY2tzLmdldChpbnRlcmFjdGl2ZVJvdXRlclJlbmRlcmVySWQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG91bGRVc2VDbGllbnRTaWRlUm91dGluZygpIHtcclxuICByZXR1cm4gaGFzSW50ZXJhY3RpdmVSb3V0ZXIoKSB8fCAhaGFzUHJvZ3JhbW1hdGljRW5oYW5jZWROYXZpZ2F0aW9uSGFuZGxlcigpO1xyXG59XHJcblxyXG4vLyBLZWVwIGluIHN5bmMgd2l0aCBDb21wb25lbnRzL3NyYy9OYXZpZ2F0aW9uT3B0aW9ucy5jc1xyXG5leHBvcnQgaW50ZXJmYWNlIE5hdmlnYXRpb25PcHRpb25zIHtcclxuICBmb3JjZUxvYWQ6IGJvb2xlYW47XHJcbiAgcmVwbGFjZUhpc3RvcnlFbnRyeTogYm9vbGVhbjtcclxuICBoaXN0b3J5RW50cnlTdGF0ZT86IHN0cmluZztcclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5pbXBvcnQgeyBXZWJSZW5kZXJlcklkIH0gZnJvbSAnLi4vUmVuZGVyaW5nL1dlYlJlbmRlcmVySWQnO1xyXG5cclxubGV0IGludGVyYWN0aXZlUm91dGVyUmVuZGVyZXJJZDogV2ViUmVuZGVyZXJJZCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcclxubGV0IHByb2dyYW1tYXRpY0VuaGFuY2VkTmF2aWdhdGlvbkhhbmRsZXI6IHR5cGVvZiBwZXJmb3JtUHJvZ3JhbW1hdGljRW5oYW5jZWROYXZpZ2F0aW9uIHwgdW5kZWZpbmVkO1xyXG5sZXQgZW5oYW5jZWROYXZpZ2F0aW9uTGlzdGVuZXI6IHR5cGVvZiBub3RpZnlFbmhhbmNlZE5hdmlnYXRpb25MaXN0ZW5lcnMgfCB1bmRlZmluZWQ7XHJcblxyXG4vKipcclxuICogQ2hlY2tzIGlmIGEgY2xpY2sgZXZlbnQgY29ycmVzcG9uZHMgdG8gYW4gPGE+IHRhZyByZWZlcmVuY2luZyBhIFVSTCB3aXRoaW4gdGhlIGJhc2UgaHJlZiwgYW5kIHRoYXQgaW50ZXJjZXB0aW9uXHJcbiAqIGlzbid0IGJ5cGFzc2VkIChlLmcuLCBieSBhICdkb3dubG9hZCcgYXR0cmlidXRlIG9yIHRoZSB1c2VyIGhvbGRpbmcgYSBtZXRhIGtleSB3aGlsZSBjbGlja2luZykuXHJcbiAqIEBwYXJhbSBldmVudCBUaGUgZXZlbnQgdGhhdCBvY2N1cnJlZFxyXG4gKiBAcGFyYW0gY2FsbGJhY2tJZkludGVyY2VwdGVkIEEgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGludm9rZWQgaWYgdGhlIGV2ZW50IGNvcnJlc3BvbmRzIHRvIGEgY2xpY2sgb24gYW4gPGE+IHRoYXQgY2FuIGJlIGludGVyY2VwdGVkLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUNsaWNrRm9yTmF2aWdhdGlvbkludGVyY2VwdGlvbihldmVudDogTW91c2VFdmVudCwgY2FsbGJhY2tJZkludGVyY2VwdGVkOiAoYWJzb2x1dGVJbnRlcm5hbEhyZWY6IHN0cmluZykgPT4gdm9pZCk6IHZvaWQge1xyXG4gIGlmIChldmVudC5idXR0b24gIT09IDAgfHwgZXZlbnRIYXNTcGVjaWFsS2V5KGV2ZW50KSkge1xyXG4gICAgLy8gRG9uJ3Qgc3RvcCBjdHJsL21ldGEtY2xpY2sgKGV0YykgZnJvbSBvcGVuaW5nIGxpbmtzIGluIG5ldyB0YWJzL3dpbmRvd3NcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvLyBJbnRlcmNlcHQgY2xpY2tzIG9uIGFsbCA8YT4gZWxlbWVudHMgd2hlcmUgdGhlIGhyZWYgaXMgd2l0aGluIHRoZSA8YmFzZSBocmVmPiBVUkkgc3BhY2VcclxuICAvLyBXZSBtdXN0IGV4cGxpY2l0bHkgY2hlY2sgaWYgaXQgaGFzIGFuICdocmVmJyBhdHRyaWJ1dGUsIGJlY2F1c2UgaWYgaXQgZG9lc24ndCwgdGhlIHJlc3VsdCBtaWdodCBiZSBudWxsIG9yIGFuIGVtcHR5IHN0cmluZyBkZXBlbmRpbmcgb24gdGhlIGJyb3dzZXJcclxuICBjb25zdCBhbmNob3JUYXJnZXQgPSBmaW5kQW5jaG9yVGFyZ2V0KGV2ZW50KTtcclxuXHJcbiAgaWYgKGFuY2hvclRhcmdldCAmJiBjYW5Qcm9jZXNzQW5jaG9yKGFuY2hvclRhcmdldCkpIHtcclxuICAgIGNvbnN0IGFuY2hvckhyZWYgPSBhbmNob3JUYXJnZXQuZ2V0QXR0cmlidXRlKCdocmVmJykhO1xyXG5cclxuICAgIGNvbnN0IGFic29sdXRlSHJlZiA9IHRvQWJzb2x1dGVVcmkoYW5jaG9ySHJlZik7XHJcblxyXG4gICAgaWYgKGlzV2l0aGluQmFzZVVyaVNwYWNlKGFic29sdXRlSHJlZikpIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgY2FsbGJhY2tJZkludGVyY2VwdGVkKGFic29sdXRlSHJlZik7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNXaXRoaW5CYXNlVXJpU3BhY2UoaHJlZjogc3RyaW5nKSB7XHJcbiAgY29uc3QgYmFzZVVyaVdpdGhvdXRUcmFpbGluZ1NsYXNoID0gdG9CYXNlVXJpV2l0aG91dFRyYWlsaW5nU2xhc2goZG9jdW1lbnQuYmFzZVVSSSEpO1xyXG4gIGNvbnN0IG5leHRDaGFyID0gaHJlZi5jaGFyQXQoYmFzZVVyaVdpdGhvdXRUcmFpbGluZ1NsYXNoLmxlbmd0aCk7XHJcblxyXG4gIHJldHVybiBocmVmLnN0YXJ0c1dpdGgoYmFzZVVyaVdpdGhvdXRUcmFpbGluZ1NsYXNoKVxyXG4gICYmIChuZXh0Q2hhciA9PT0gJycgfHwgbmV4dENoYXIgPT09ICcvJyB8fCBuZXh0Q2hhciA9PT0gJz8nIHx8IG5leHRDaGFyID09PSAnIycpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNTYW1lUGFnZVdpdGhIYXNoKGFic29sdXRlSHJlZjogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgY29uc3QgdXJsID0gbmV3IFVSTChhYnNvbHV0ZUhyZWYpO1xyXG4gIHJldHVybiB1cmwuaGFzaCAhPT0gJycgJiYgbG9jYXRpb24ub3JpZ2luID09PSB1cmwub3JpZ2luICYmIGxvY2F0aW9uLnBhdGhuYW1lID09PSB1cmwucGF0aG5hbWUgJiYgbG9jYXRpb24uc2VhcmNoID09PSB1cmwuc2VhcmNoO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNGb3JTYW1lUGF0aCh1cmwxOiBzdHJpbmcsIHVybDI6IHN0cmluZykge1xyXG4gIC8vIFdlIGFyZSBnb2luZyB0byB1c2UgdGhlIHNjaGVtZSwgaG9zdCwgcG9ydCBhbmQgcGF0aCB0byBkZXRlcm1pbmUgaWYgdGhlIHR3byBVUkxzIGFyZSBjb21wYXRpYmxlLlxyXG4gIC8vIFdlIGRvIG5vdCBhY2NvdW50IGZvciB0aGUgcXVlcnkgc3RyaW5nIGFzIHdlIHdhbnQgdG8gYWxsb3cgZm9yIHRoZSBxdWVyeSBzdHJpbmcgdG8gY2hhbmdlLlxyXG4gIC8vIChCbGF6b3IgZG9lc24ndCB1c2UgdGhlIHF1ZXJ5IHN0cmluZyBmb3Igcm91dGluZyBwdXJwb3NlcykuXHJcbiAgY29uc3QgcGFyc2VkVXJsMSA9IG5ldyBVUkwodXJsMSk7XHJcbiAgY29uc3QgcGFyc2VkVXJsMiA9IG5ldyBVUkwodXJsMik7XHJcbiAgcmV0dXJuIHBhcnNlZFVybDEucHJvdG9jb2wgPT09IHBhcnNlZFVybDIucHJvdG9jb2xcclxuICAgICYmIHBhcnNlZFVybDEuaG9zdCA9PT0gcGFyc2VkVXJsMi5ob3N0XHJcbiAgICAmJiBwYXJzZWRVcmwxLnBvcnQgPT09IHBhcnNlZFVybDIucG9ydFxyXG4gICAgJiYgcGFyc2VkVXJsMS5wYXRobmFtZSA9PT0gcGFyc2VkVXJsMi5wYXRobmFtZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHBlcmZvcm1TY3JvbGxUb0VsZW1lbnRPblRoZVNhbWVQYWdlKGFic29sdXRlSHJlZiA6IHN0cmluZyk6IHZvaWQge1xyXG4gIGNvbnN0IGhhc2hJbmRleCA9IGFic29sdXRlSHJlZi5pbmRleE9mKCcjJyk7XHJcbiAgaWYgKGhhc2hJbmRleCA9PT0gYWJzb2x1dGVIcmVmLmxlbmd0aCAtIDEpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGNvbnN0IGlkZW50aWZpZXIgPSBhYnNvbHV0ZUhyZWYuc3Vic3RyaW5nKGhhc2hJbmRleCArIDEpO1xyXG4gIHNjcm9sbFRvRWxlbWVudChpZGVudGlmaWVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbFRvRWxlbWVudChpZGVudGlmaWVyOiBzdHJpbmcpOiB2b2lkIHtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZGVudGlmaWVyKT8uc2Nyb2xsSW50b1ZpZXcoKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGF0dGFjaEVuaGFuY2VkTmF2aWdhdGlvbkxpc3RlbmVyKGxpc3RlbmVyOiB0eXBlb2YgZW5oYW5jZWROYXZpZ2F0aW9uTGlzdGVuZXIpIHtcclxuICBlbmhhbmNlZE5hdmlnYXRpb25MaXN0ZW5lciA9IGxpc3RlbmVyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbm90aWZ5RW5oYW5jZWROYXZpZ2F0aW9uTGlzdGVuZXJzKGludGVybmFsRGVzdGluYXRpb25IcmVmOiBzdHJpbmcsIGludGVyY2VwdGVkTGluazogYm9vbGVhbikge1xyXG4gIGVuaGFuY2VkTmF2aWdhdGlvbkxpc3RlbmVyPy4oaW50ZXJuYWxEZXN0aW5hdGlvbkhyZWYsIGludGVyY2VwdGVkTGluayk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYXNQcm9ncmFtbWF0aWNFbmhhbmNlZE5hdmlnYXRpb25IYW5kbGVyKCk6IGJvb2xlYW4ge1xyXG4gIHJldHVybiBwcm9ncmFtbWF0aWNFbmhhbmNlZE5hdmlnYXRpb25IYW5kbGVyICE9PSB1bmRlZmluZWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhdHRhY2hQcm9ncmFtbWF0aWNFbmhhbmNlZE5hdmlnYXRpb25IYW5kbGVyKGhhbmRsZXI6IHR5cGVvZiBwcm9ncmFtbWF0aWNFbmhhbmNlZE5hdmlnYXRpb25IYW5kbGVyKSB7XHJcbiAgcHJvZ3JhbW1hdGljRW5oYW5jZWROYXZpZ2F0aW9uSGFuZGxlciA9IGhhbmRsZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwZXJmb3JtUHJvZ3JhbW1hdGljRW5oYW5jZWROYXZpZ2F0aW9uKGFic29sdXRlSW50ZXJuYWxIcmVmOiBzdHJpbmcsIHJlcGxhY2U6IGJvb2xlYW4pOiB2b2lkIHtcclxuICBpZiAoIXByb2dyYW1tYXRpY0VuaGFuY2VkTmF2aWdhdGlvbkhhbmRsZXIpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignTm8gZW5oYW5jZWQgcHJvZ3JhbW1hdGljIG5hdmlnYXRpb24gaGFuZGxlciBoYXMgYmVlbiBhdHRhY2hlZCcpO1xyXG4gIH1cclxuXHJcbiAgcHJvZ3JhbW1hdGljRW5oYW5jZWROYXZpZ2F0aW9uSGFuZGxlcihhYnNvbHV0ZUludGVybmFsSHJlZiwgcmVwbGFjZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRvQmFzZVVyaVdpdGhvdXRUcmFpbGluZ1NsYXNoKGJhc2VVcmk6IHN0cmluZykge1xyXG4gIHJldHVybiBiYXNlVXJpLnN1YnN0cmluZygwLCBiYXNlVXJpLmxhc3RJbmRleE9mKCcvJykpO1xyXG59XHJcblxyXG5sZXQgdGVzdEFuY2hvcjogSFRNTEFuY2hvckVsZW1lbnQ7XHJcbmV4cG9ydCBmdW5jdGlvbiB0b0Fic29sdXRlVXJpKHJlbGF0aXZlVXJpOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIHRlc3RBbmNob3IgPSB0ZXN0QW5jaG9yIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICB0ZXN0QW5jaG9yLmhyZWYgPSByZWxhdGl2ZVVyaTtcclxuICByZXR1cm4gdGVzdEFuY2hvci5ocmVmO1xyXG59XHJcblxyXG5mdW5jdGlvbiBldmVudEhhc1NwZWNpYWxLZXkoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcclxuICByZXR1cm4gZXZlbnQuY3RybEtleSB8fCBldmVudC5zaGlmdEtleSB8fCBldmVudC5hbHRLZXkgfHwgZXZlbnQubWV0YUtleTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2FuUHJvY2Vzc0FuY2hvcihhbmNob3JUYXJnZXQ6IEhUTUxBbmNob3JFbGVtZW50IHwgU1ZHQUVsZW1lbnQpIHtcclxuICBjb25zdCB0YXJnZXRBdHRyaWJ1dGVWYWx1ZSA9IGFuY2hvclRhcmdldC5nZXRBdHRyaWJ1dGUoJ3RhcmdldCcpO1xyXG4gIGNvbnN0IG9wZW5zSW5TYW1lRnJhbWUgPSAhdGFyZ2V0QXR0cmlidXRlVmFsdWUgfHwgdGFyZ2V0QXR0cmlidXRlVmFsdWUgPT09ICdfc2VsZic7XHJcbiAgcmV0dXJuIG9wZW5zSW5TYW1lRnJhbWUgJiYgYW5jaG9yVGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnaHJlZicpICYmICFhbmNob3JUYXJnZXQuaGFzQXR0cmlidXRlKCdkb3dubG9hZCcpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaW5kQW5jaG9yVGFyZ2V0KGV2ZW50OiBNb3VzZUV2ZW50KTogSFRNTEFuY2hvckVsZW1lbnQgfCBTVkdBRWxlbWVudCB8IG51bGwge1xyXG4gIGNvbnN0IHBhdGggPSBldmVudC5jb21wb3NlZFBhdGggJiYgZXZlbnQuY29tcG9zZWRQYXRoKCk7XHJcbiAgaWYgKHBhdGgpIHtcclxuICAgIC8vIFRoaXMgbG9naWMgd29ya3Mgd2l0aCBldmVudHMgdGhhdCB0YXJnZXQgZWxlbWVudHMgd2l0aGluIGEgc2hhZG93IHJvb3QsXHJcbiAgICAvLyBhcyBsb25nIGFzIHRoZSBzaGFkb3cgbW9kZSBpcyAnb3BlbicuIEZvciBjbG9zZWQgc2hhZG93cywgd2UgY2FuJ3QgcG9zc2libHlcclxuICAgIC8vIGtub3cgd2hhdCBpbnRlcm5hbCBlbGVtZW50IHdhcyBjbGlja2VkLlxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGNhbmRpZGF0ZSA9IHBhdGhbaV07XHJcbiAgICAgIGlmIChjYW5kaWRhdGUgaW5zdGFuY2VvZiBIVE1MQW5jaG9yRWxlbWVudCB8fCBjYW5kaWRhdGUgaW5zdGFuY2VvZiBTVkdBRWxlbWVudCkge1xyXG4gICAgICAgIHJldHVybiBjYW5kaWRhdGU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYXNJbnRlcmFjdGl2ZVJvdXRlcigpOiBib29sZWFuIHtcclxuICByZXR1cm4gaW50ZXJhY3RpdmVSb3V0ZXJSZW5kZXJlcklkICE9PSB1bmRlZmluZWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcmFjdGl2ZVJvdXRlclJlbmRlcmVySWQoKSA6IFdlYlJlbmRlcmVySWQgfCB1bmRlZmluZWQge1xyXG4gIHJldHVybiBpbnRlcmFjdGl2ZVJvdXRlclJlbmRlcmVySWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRIYXNJbnRlcmFjdGl2ZVJvdXRlcihyZW5kZXJlcklkOiBXZWJSZW5kZXJlcklkKSB7XHJcbiAgaWYgKGludGVyYWN0aXZlUm91dGVyUmVuZGVyZXJJZCAhPT0gdW5kZWZpbmVkICYmIGludGVyYWN0aXZlUm91dGVyUmVuZGVyZXJJZCAhPT0gcmVuZGVyZXJJZCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IG9uZSBpbnRlcmFjdGl2ZSBydW50aW1lIG1heSBlbmFibGUgbmF2aWdhdGlvbiBpbnRlcmNlcHRpb24gYXQgYSB0aW1lLicpO1xyXG4gIH1cclxuXHJcbiAgaW50ZXJhY3RpdmVSb3V0ZXJSZW5kZXJlcklkID0gcmVuZGVyZXJJZDtcclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5pbXBvcnQgJy4uL1BsYXRmb3JtL1BsYXRmb3JtJztcclxuaW1wb3J0ICcuLi9FbnZpcm9ubWVudCc7XHJcbmltcG9ydCB7IFJlbmRlckJhdGNoIH0gZnJvbSAnLi9SZW5kZXJCYXRjaC9SZW5kZXJCYXRjaCc7XHJcbmltcG9ydCB7IEJyb3dzZXJSZW5kZXJlciB9IGZyb20gJy4vQnJvd3NlclJlbmRlcmVyJztcclxuaW1wb3J0IHsgdG9Mb2dpY2FsRWxlbWVudCwgTG9naWNhbEVsZW1lbnQgfSBmcm9tICcuL0xvZ2ljYWxFbGVtZW50cyc7XHJcbmltcG9ydCB7IGdldEFuZFJlbW92ZVBlbmRpbmdSb290Q29tcG9uZW50Q29udGFpbmVyIH0gZnJvbSAnLi9KU1Jvb3RDb21wb25lbnRzJztcclxuXHJcbmludGVyZmFjZSBCcm93c2VyUmVuZGVyZXJSZWdpc3RyeSB7XHJcbiAgW2Jyb3dzZXJSZW5kZXJlcklkOiBudW1iZXJdOiBCcm93c2VyUmVuZGVyZXI7XHJcbn1cclxuY29uc3QgYnJvd3NlclJlbmRlcmVyczogQnJvd3NlclJlbmRlcmVyUmVnaXN0cnkgPSB7fTtcclxubGV0IHNob3VsZFJlc2V0U2Nyb2xsQWZ0ZXJOZXh0QmF0Y2ggPSBmYWxzZTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhdHRhY2hSb290Q29tcG9uZW50VG9Mb2dpY2FsRWxlbWVudChicm93c2VyUmVuZGVyZXJJZDogbnVtYmVyLCBsb2dpY2FsRWxlbWVudDogTG9naWNhbEVsZW1lbnQsIGNvbXBvbmVudElkOiBudW1iZXIsIGFwcGVuZENvbnRlbnQ6IGJvb2xlYW4pOiB2b2lkIHtcclxuICBsZXQgYnJvd3NlclJlbmRlcmVyID0gYnJvd3NlclJlbmRlcmVyc1ticm93c2VyUmVuZGVyZXJJZF07XHJcbiAgaWYgKCFicm93c2VyUmVuZGVyZXIpIHtcclxuICAgIGJyb3dzZXJSZW5kZXJlciA9IG5ldyBCcm93c2VyUmVuZGVyZXIoYnJvd3NlclJlbmRlcmVySWQpO1xyXG4gICAgYnJvd3NlclJlbmRlcmVyc1ticm93c2VyUmVuZGVyZXJJZF0gPSBicm93c2VyUmVuZGVyZXI7XHJcbiAgfVxyXG5cclxuICBicm93c2VyUmVuZGVyZXIuYXR0YWNoUm9vdENvbXBvbmVudFRvTG9naWNhbEVsZW1lbnQoY29tcG9uZW50SWQsIGxvZ2ljYWxFbGVtZW50LCBhcHBlbmRDb250ZW50KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGF0dGFjaFJvb3RDb21wb25lbnRUb0VsZW1lbnQoZWxlbWVudFNlbGVjdG9yOiBzdHJpbmcsIGNvbXBvbmVudElkOiBudW1iZXIsIGJyb3dzZXJSZW5kZXJlcklkOiBudW1iZXIpOiB2b2lkIHtcclxuICBjb25zdCBhZnRlckVsZW1lbnRTZWxlY3RvciA9ICc6OmFmdGVyJztcclxuICBjb25zdCBiZWZvcmVFbGVtZW50U2VsZWN0b3IgPSAnOjpiZWZvcmUnO1xyXG4gIGxldCBhcHBlbmRDb250ZW50ID0gZmFsc2U7XHJcblxyXG4gIGlmIChlbGVtZW50U2VsZWN0b3IuZW5kc1dpdGgoYWZ0ZXJFbGVtZW50U2VsZWN0b3IpKSB7XHJcbiAgICBlbGVtZW50U2VsZWN0b3IgPSBlbGVtZW50U2VsZWN0b3Iuc2xpY2UoMCwgLWFmdGVyRWxlbWVudFNlbGVjdG9yLmxlbmd0aCk7XHJcbiAgICBhcHBlbmRDb250ZW50ID0gdHJ1ZTtcclxuICB9IGVsc2UgaWYgKGVsZW1lbnRTZWxlY3Rvci5lbmRzV2l0aChiZWZvcmVFbGVtZW50U2VsZWN0b3IpKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSAnJHtiZWZvcmVFbGVtZW50U2VsZWN0b3J9JyBzZWxlY3RvciBpcyBub3Qgc3VwcG9ydGVkLmApO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZWxlbWVudCA9IGdldEFuZFJlbW92ZVBlbmRpbmdSb290Q29tcG9uZW50Q29udGFpbmVyKGVsZW1lbnRTZWxlY3RvcilcclxuICAgIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudFNlbGVjdG9yKTtcclxuICBpZiAoIWVsZW1lbnQpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgYW55IGVsZW1lbnQgbWF0Y2hpbmcgc2VsZWN0b3IgJyR7ZWxlbWVudFNlbGVjdG9yfScuYCk7XHJcbiAgfVxyXG5cclxuICAvLyAnYWxsb3dFeGlzdGluZ0NvbnRlbnRzJyB0byBrZWVwIGFueSBwcmVyZW5kZXJlZCBjb250ZW50IHVudGlsIHdlIGRvIHRoZSBmaXJzdCBjbGllbnQtc2lkZSByZW5kZXJcclxuICAvLyBPbmx5IGNsaWVudC1zaWRlIEJsYXpvciBzdXBwbGllcyBhIGJyb3dzZXIgcmVuZGVyZXIgSURcclxuICBhdHRhY2hSb290Q29tcG9uZW50VG9Mb2dpY2FsRWxlbWVudChicm93c2VyUmVuZGVyZXJJZCwgdG9Mb2dpY2FsRWxlbWVudChlbGVtZW50LCAvKiBhbGxvdyBleGlzdGluZyBjb250ZW50cyAqLyB0cnVlKSwgY29tcG9uZW50SWQsIGFwcGVuZENvbnRlbnQpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVuZGVyZXJlcihicm93c2VyUmVuZGVyZXJJZDogbnVtYmVyKTogQnJvd3NlclJlbmRlcmVyIHwgdW5kZWZpbmVkIHtcclxuICByZXR1cm4gYnJvd3NlclJlbmRlcmVyc1ticm93c2VyUmVuZGVyZXJJZF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJCYXRjaChicm93c2VyUmVuZGVyZXJJZDogbnVtYmVyLCBiYXRjaDogUmVuZGVyQmF0Y2gpOiB2b2lkIHtcclxuICBjb25zdCBicm93c2VyUmVuZGVyZXIgPSBicm93c2VyUmVuZGVyZXJzW2Jyb3dzZXJSZW5kZXJlcklkXTtcclxuICBpZiAoIWJyb3dzZXJSZW5kZXJlcikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBUaGVyZSBpcyBubyBicm93c2VyIHJlbmRlcmVyIHdpdGggSUQgJHticm93c2VyUmVuZGVyZXJJZH0uYCk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBhcnJheVJhbmdlUmVhZGVyID0gYmF0Y2guYXJyYXlSYW5nZVJlYWRlcjtcclxuICBjb25zdCB1cGRhdGVkQ29tcG9uZW50c1JhbmdlID0gYmF0Y2gudXBkYXRlZENvbXBvbmVudHMoKTtcclxuICBjb25zdCB1cGRhdGVkQ29tcG9uZW50c1ZhbHVlcyA9IGFycmF5UmFuZ2VSZWFkZXIudmFsdWVzKHVwZGF0ZWRDb21wb25lbnRzUmFuZ2UpO1xyXG4gIGNvbnN0IHVwZGF0ZWRDb21wb25lbnRzTGVuZ3RoID0gYXJyYXlSYW5nZVJlYWRlci5jb3VudCh1cGRhdGVkQ29tcG9uZW50c1JhbmdlKTtcclxuICBjb25zdCByZWZlcmVuY2VGcmFtZXMgPSBiYXRjaC5yZWZlcmVuY2VGcmFtZXMoKTtcclxuICBjb25zdCByZWZlcmVuY2VGcmFtZXNWYWx1ZXMgPSBhcnJheVJhbmdlUmVhZGVyLnZhbHVlcyhyZWZlcmVuY2VGcmFtZXMpO1xyXG4gIGNvbnN0IGRpZmZSZWFkZXIgPSBiYXRjaC5kaWZmUmVhZGVyO1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHVwZGF0ZWRDb21wb25lbnRzTGVuZ3RoOyBpKyspIHtcclxuICAgIGNvbnN0IGRpZmYgPSBiYXRjaC51cGRhdGVkQ29tcG9uZW50c0VudHJ5KHVwZGF0ZWRDb21wb25lbnRzVmFsdWVzLCBpKTtcclxuICAgIGNvbnN0IGNvbXBvbmVudElkID0gZGlmZlJlYWRlci5jb21wb25lbnRJZChkaWZmKTtcclxuICAgIGNvbnN0IGVkaXRzID0gZGlmZlJlYWRlci5lZGl0cyhkaWZmKTtcclxuICAgIGJyb3dzZXJSZW5kZXJlci51cGRhdGVDb21wb25lbnQoYmF0Y2gsIGNvbXBvbmVudElkLCBlZGl0cywgcmVmZXJlbmNlRnJhbWVzVmFsdWVzKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGRpc3Bvc2VkQ29tcG9uZW50SWRzUmFuZ2UgPSBiYXRjaC5kaXNwb3NlZENvbXBvbmVudElkcygpO1xyXG4gIGNvbnN0IGRpc3Bvc2VkQ29tcG9uZW50SWRzVmFsdWVzID0gYXJyYXlSYW5nZVJlYWRlci52YWx1ZXMoZGlzcG9zZWRDb21wb25lbnRJZHNSYW5nZSk7XHJcbiAgY29uc3QgZGlzcG9zZWRDb21wb25lbnRJZHNMZW5ndGggPSBhcnJheVJhbmdlUmVhZGVyLmNvdW50KGRpc3Bvc2VkQ29tcG9uZW50SWRzUmFuZ2UpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGlzcG9zZWRDb21wb25lbnRJZHNMZW5ndGg7IGkrKykge1xyXG4gICAgY29uc3QgY29tcG9uZW50SWQgPSBiYXRjaC5kaXNwb3NlZENvbXBvbmVudElkc0VudHJ5KGRpc3Bvc2VkQ29tcG9uZW50SWRzVmFsdWVzLCBpKTtcclxuICAgIGJyb3dzZXJSZW5kZXJlci5kaXNwb3NlQ29tcG9uZW50KGNvbXBvbmVudElkKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGRpc3Bvc2VkRXZlbnRIYW5kbGVySWRzUmFuZ2UgPSBiYXRjaC5kaXNwb3NlZEV2ZW50SGFuZGxlcklkcygpO1xyXG4gIGNvbnN0IGRpc3Bvc2VkRXZlbnRIYW5kbGVySWRzVmFsdWVzID0gYXJyYXlSYW5nZVJlYWRlci52YWx1ZXMoZGlzcG9zZWRFdmVudEhhbmRsZXJJZHNSYW5nZSk7XHJcbiAgY29uc3QgZGlzcG9zZWRFdmVudEhhbmRsZXJJZHNMZW5ndGggPSBhcnJheVJhbmdlUmVhZGVyLmNvdW50KGRpc3Bvc2VkRXZlbnRIYW5kbGVySWRzUmFuZ2UpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGlzcG9zZWRFdmVudEhhbmRsZXJJZHNMZW5ndGg7IGkrKykge1xyXG4gICAgY29uc3QgZXZlbnRIYW5kbGVySWQgPSBiYXRjaC5kaXNwb3NlZEV2ZW50SGFuZGxlcklkc0VudHJ5KGRpc3Bvc2VkRXZlbnRIYW5kbGVySWRzVmFsdWVzLCBpKTtcclxuICAgIGJyb3dzZXJSZW5kZXJlci5kaXNwb3NlRXZlbnRIYW5kbGVyKGV2ZW50SGFuZGxlcklkKTtcclxuICB9XHJcblxyXG4gIHJlc2V0U2Nyb2xsSWZOZWVkZWQoKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0U2Nyb2xsQWZ0ZXJOZXh0QmF0Y2goKTogdm9pZCB7XHJcbiAgc2hvdWxkUmVzZXRTY3JvbGxBZnRlck5leHRCYXRjaCA9IHRydWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc2V0U2Nyb2xsSWZOZWVkZWQoKSB7XHJcbiAgaWYgKHNob3VsZFJlc2V0U2Nyb2xsQWZ0ZXJOZXh0QmF0Y2gpIHtcclxuICAgIHNob3VsZFJlc2V0U2Nyb2xsQWZ0ZXJOZXh0QmF0Y2ggPSBmYWxzZTtcclxuXHJcbiAgICAvLyBUaGlzIGFzc3VtZXMgdGhlIHNjcm9sbGVyIGlzIG9uIHRoZSB3aW5kb3cgaXRzZWxmLiBUaGVyZSBpc24ndCBhIGdlbmVyYWwgd2F5IHRvIGtub3dcclxuICAgIC8vIGlmIHNvbWUgb3RoZXIgZWxlbWVudCBpcyBwbGF5aW5nIHRoZSByb2xlIG9mIHRoZSBwcmltYXJ5IHNjcm9sbCByZWdpb24uXHJcbiAgICB3aW5kb3cuc2Nyb2xsVG8gJiYgd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG4gIH1cclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5pbXBvcnQgJ0BtaWNyb3NvZnQvZG90bmV0LWpzLWludGVyb3AnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGRvbUZ1bmN0aW9ucyA9IHtcclxuICBmb2N1cyxcclxuICBmb2N1c0J5U2VsZWN0b3IsXHJcbn07XHJcblxyXG5mdW5jdGlvbiBmb2N1cyhlbGVtZW50OiBIVE1MT3JTVkdFbGVtZW50LCBwcmV2ZW50U2Nyb2xsOiBib29sZWFuKTogdm9pZCB7XHJcbiAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgZWxlbWVudC5mb2N1cyh7IHByZXZlbnRTY3JvbGwgfSk7XHJcbiAgfSBlbHNlIGlmIChlbGVtZW50IGluc3RhbmNlb2YgU1ZHRWxlbWVudCkge1xyXG4gICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCd0YWJpbmRleCcpKSB7XHJcbiAgICAgIGVsZW1lbnQuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZm9jdXMgYW4gU1ZHIGVsZW1lbnQgdGhhdCBkb2VzIG5vdCBoYXZlIGEgdGFiaW5kZXguJyk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGZvY3VzIGFuIGludmFsaWQgZWxlbWVudC4nKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvY3VzQnlTZWxlY3RvcihzZWxlY3Rvcjogc3RyaW5nKSB7XHJcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpIGFzIEhUTUxFbGVtZW50O1xyXG4gIGlmIChlbGVtZW50KSB7XHJcbiAgICAvLyBJZiBubyBleHBsaWNpdCB0YWJpbmRleCBpcyBkZWZpbmVkLCBtYXJrIGl0IGFzIHByb2dyYW1tYXRpY2FsbHktZm9jdXNhYmxlLlxyXG4gICAgLy8gVGhpcyBkb2VzIGFjdHVhbGx5IGFkZCBhIG5ldyBIVE1MIGF0dHJpYnV0ZSwgYnV0IGl0IHNob3VsZG4ndCBpbnRlcmZlcmUgd2l0aFxyXG4gICAgLy8gZGlmZmluZyBiZWNhdXNlIGRpZmZpbmcgb25seSBkZWFscyB3aXRoIHRoZSBhdHRyaWJ1dGVzIHlvdSBoYXZlIGluIHlvdXIgY29kZS5cclxuICAgIGlmICghZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ3RhYmluZGV4JykpIHtcclxuICAgICAgZWxlbWVudC50YWJJbmRleCA9IC0xO1xyXG4gICAgfVxyXG5cclxuICAgIGVsZW1lbnQuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xyXG4gIH1cclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5pbXBvcnQgeyBEb3ROZXQgfSBmcm9tICdAbWljcm9zb2Z0L2RvdG5ldC1qcy1pbnRlcm9wJztcclxuXHJcbmV4cG9ydCBjb25zdCBWaXJ0dWFsaXplID0ge1xyXG4gIGluaXQsXHJcbiAgZGlzcG9zZSxcclxufTtcclxuXHJcbmNvbnN0IGRpc3BhdGNoZXJPYnNlcnZlcnNCeURvdE5ldElkUHJvcG5hbWUgPSBTeW1ib2woKTtcclxuXHJcbmZ1bmN0aW9uIGZpbmRDbG9zZXN0U2Nyb2xsQ29udGFpbmVyKGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XHJcbiAgLy8gSWYgd2UgcmVjdXJzZSB1cCBhcyBmYXIgYXMgYm9keSBvciB0aGUgZG9jdW1lbnQgcm9vdCwgcmV0dXJuIG51bGwgc28gdGhhdCB0aGVcclxuICAvLyBJbnRlcnNlY3Rpb25PYnNlcnZlciBvYnNlcnZlcyBpbnRlcnNlY3Rpb24gd2l0aCB0aGUgdG9wLWxldmVsIHNjcm9sbCB2aWV3cG9ydFxyXG4gIC8vIGluc3RlYWQgb2YgdGhlIHdpdGggYm9keS9kb2N1bWVudEVsZW1lbnQgd2hpY2ggY2FuIGJlIGFyYml0cmFyaWx5IHRhbGwuXHJcbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9kb3RuZXQvYXNwbmV0Y29yZS9pc3N1ZXMvMzc2NTkgZm9yIG1vcmUgYWJvdXQgd2hhdCB0aGlzIGZpeGVzLlxyXG4gIGlmICghZWxlbWVudCB8fCBlbGVtZW50ID09PSBkb2N1bWVudC5ib2R5IHx8IGVsZW1lbnQgPT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XHJcblxyXG4gIGlmIChzdHlsZS5vdmVyZmxvd1kgIT09ICd2aXNpYmxlJykge1xyXG4gICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZmluZENsb3Nlc3RTY3JvbGxDb250YWluZXIoZWxlbWVudC5wYXJlbnRFbGVtZW50KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdChkb3ROZXRIZWxwZXI6IERvdE5ldC5Eb3ROZXRPYmplY3QsIHNwYWNlckJlZm9yZTogSFRNTEVsZW1lbnQsIHNwYWNlckFmdGVyOiBIVE1MRWxlbWVudCwgcm9vdE1hcmdpbiA9IDUwKTogdm9pZCB7XHJcbiAgLy8gT3ZlcmZsb3cgYW5jaG9yaW5nIGNhbiBjYXVzZSBhbiBvbmdvaW5nIHNjcm9sbCBsb29wLCBiZWNhdXNlIHdoZW4gd2UgcmVzaXplIHRoZSBzcGFjZXJzLCB0aGUgYnJvd3NlclxyXG4gIC8vIHdvdWxkIHVwZGF0ZSB0aGUgc2Nyb2xsIHBvc2l0aW9uIHRvIGNvbXBlbnNhdGUuIFRoZW4gdGhlIHNwYWNlciB3b3VsZCByZW1haW4gdmlzaWJsZSBhbmQgd2UnZCBrZWVwIG9uXHJcbiAgLy8gdHJ5aW5nIHRvIHJlc2l6ZSBpdC5cclxuICBjb25zdCBzY3JvbGxDb250YWluZXIgPSBmaW5kQ2xvc2VzdFNjcm9sbENvbnRhaW5lcihzcGFjZXJCZWZvcmUpO1xyXG4gIChzY3JvbGxDb250YWluZXIgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5zdHlsZS5vdmVyZmxvd0FuY2hvciA9ICdub25lJztcclxuXHJcbiAgY29uc3QgcmFuZ2VCZXR3ZWVuU3BhY2VycyA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XHJcblxyXG4gIGlmIChpc1ZhbGlkVGFibGVFbGVtZW50KHNwYWNlckFmdGVyLnBhcmVudEVsZW1lbnQpKSB7XHJcbiAgICBzcGFjZXJCZWZvcmUuc3R5bGUuZGlzcGxheSA9ICd0YWJsZS1yb3cnO1xyXG4gICAgc3BhY2VyQWZ0ZXIuc3R5bGUuZGlzcGxheSA9ICd0YWJsZS1yb3cnO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgaW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaW50ZXJzZWN0aW9uQ2FsbGJhY2ssIHtcclxuICAgIHJvb3Q6IHNjcm9sbENvbnRhaW5lcixcclxuICAgIHJvb3RNYXJnaW46IGAke3Jvb3RNYXJnaW59cHhgLFxyXG4gIH0pO1xyXG5cclxuICBpbnRlcnNlY3Rpb25PYnNlcnZlci5vYnNlcnZlKHNwYWNlckJlZm9yZSk7XHJcbiAgaW50ZXJzZWN0aW9uT2JzZXJ2ZXIub2JzZXJ2ZShzcGFjZXJBZnRlcik7XHJcblxyXG4gIGNvbnN0IG11dGF0aW9uT2JzZXJ2ZXJCZWZvcmUgPSBjcmVhdGVTcGFjZXJNdXRhdGlvbk9ic2VydmVyKHNwYWNlckJlZm9yZSk7XHJcbiAgY29uc3QgbXV0YXRpb25PYnNlcnZlckFmdGVyID0gY3JlYXRlU3BhY2VyTXV0YXRpb25PYnNlcnZlcihzcGFjZXJBZnRlcik7XHJcblxyXG4gIGNvbnN0IHsgb2JzZXJ2ZXJzQnlEb3ROZXRPYmplY3RJZCwgaWQgfSA9IGdldE9ic2VydmVyc01hcEVudHJ5KGRvdE5ldEhlbHBlcik7XHJcbiAgb2JzZXJ2ZXJzQnlEb3ROZXRPYmplY3RJZFtpZF0gPSB7XHJcbiAgICBpbnRlcnNlY3Rpb25PYnNlcnZlcixcclxuICAgIG11dGF0aW9uT2JzZXJ2ZXJCZWZvcmUsXHJcbiAgICBtdXRhdGlvbk9ic2VydmVyQWZ0ZXIsXHJcbiAgfTtcclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlU3BhY2VyTXV0YXRpb25PYnNlcnZlcihzcGFjZXI6IEhUTUxFbGVtZW50KTogTXV0YXRpb25PYnNlcnZlciB7XHJcbiAgICAvLyBXaXRob3V0IHRoZSB1c2Ugb2YgdGhyZXNob2xkcywgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgb25seSBkZXRlY3RzIGJpbmFyeSBjaGFuZ2VzIGluIHZpc2liaWxpdHksXHJcbiAgICAvLyBzbyBpZiBhIHNwYWNlciBnZXRzIHJlc2l6ZWQgYnV0IHJlbWFpbnMgdmlzaWJsZSwgbm8gYWRkaXRpb25hbCBjYWxsYmFja3Mgd2lsbCBvY2N1ci4gQnkgdW5vYnNlcnZpbmdcclxuICAgIC8vIGFuZCByZW9ic2VydmluZyBzcGFjZXJzIHdoZW4gdGhleSBnZXQgcmVzaXplZCwgdGhlIGludGVyc2VjdGlvbiBjYWxsYmFjayB3aWxsIHJlLXJ1biBpZiB0aGV5IHJlbWFpbiB2aXNpYmxlLlxyXG4gICAgY29uc3Qgb2JzZXJ2ZXJPcHRpb25zID0geyBhdHRyaWJ1dGVzOiB0cnVlIH07XHJcbiAgICBjb25zdCBtdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9uczogTXV0YXRpb25SZWNvcmRbXSwgb2JzZXJ2ZXI6IE11dGF0aW9uT2JzZXJ2ZXIpOiB2b2lkID0+IHtcclxuICAgICAgaWYgKGlzVmFsaWRUYWJsZUVsZW1lbnQoc3BhY2VyLnBhcmVudEVsZW1lbnQpKSB7XHJcbiAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgIHNwYWNlci5zdHlsZS5kaXNwbGF5ID0gJ3RhYmxlLXJvdyc7XHJcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShzcGFjZXIsIG9ic2VydmVyT3B0aW9ucyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGludGVyc2VjdGlvbk9ic2VydmVyLnVub2JzZXJ2ZShzcGFjZXIpO1xyXG4gICAgICBpbnRlcnNlY3Rpb25PYnNlcnZlci5vYnNlcnZlKHNwYWNlcik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBtdXRhdGlvbk9ic2VydmVyLm9ic2VydmUoc3BhY2VyLCBvYnNlcnZlck9wdGlvbnMpO1xyXG5cclxuICAgIHJldHVybiBtdXRhdGlvbk9ic2VydmVyO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaW50ZXJzZWN0aW9uQ2FsbGJhY2soZW50cmllczogSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeVtdKTogdm9pZCB7XHJcbiAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KTogdm9pZCA9PiB7XHJcbiAgICAgIGlmICghZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFRvIGNvbXB1dGUgdGhlIEl0ZW1TaXplLCB3b3JrIG91dCB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuIHRoZSB0d28gc3BhY2Vycy4gV2UgY2FuJ3QganVzdCBtZWFzdXJlIGFuIGluZGl2aWR1YWwgZWxlbWVudFxyXG4gICAgICAvLyBiZWNhdXNlIGVhY2ggY29uY2VwdHVhbCBpdGVtIGNvdWxkIGJlIG1hZGUgZnJvbSBtdWx0aXBsZSBlbGVtZW50cy4gVXNpbmcgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGFsbG93cyBmb3IgdGhlIHNpemUgdG8gYmVcclxuICAgICAgLy8gYSBmcmFjdGlvbmFsIHZhbHVlLiBJdCdzIGltcG9ydGFudCBub3QgdG8gYWRkIG9yIHN1YnRyYWN0IGFueSBzdWNoIGZyYWN0aW9uYWwgdmFsdWVzIChlLmcuLCB0byBzdWJ0cmFjdCB0aGUgJ3RvcCcgb2ZcclxuICAgICAgLy8gb25lIGl0ZW0gZnJvbSB0aGUgJ2JvdHRvbScgb2YgYW5vdGhlciB0byBnZXQgdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlbSkgYmVjYXVzZSBmbG9hdGluZyBwb2ludCBlcnJvcnMgd291bGQgY2F1c2VcclxuICAgICAgLy8gc2Nyb2xsaW5nIGdsaXRjaGVzLlxyXG4gICAgICByYW5nZUJldHdlZW5TcGFjZXJzLnNldFN0YXJ0QWZ0ZXIoc3BhY2VyQmVmb3JlKTtcclxuICAgICAgcmFuZ2VCZXR3ZWVuU3BhY2Vycy5zZXRFbmRCZWZvcmUoc3BhY2VyQWZ0ZXIpO1xyXG4gICAgICBjb25zdCBzcGFjZXJTZXBhcmF0aW9uID0gcmFuZ2VCZXR3ZWVuU3BhY2Vycy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICAgIGNvbnN0IGNvbnRhaW5lclNpemUgPSBlbnRyeS5yb290Qm91bmRzPy5oZWlnaHQ7XHJcblxyXG4gICAgICBpZiAoZW50cnkudGFyZ2V0ID09PSBzcGFjZXJCZWZvcmUpIHtcclxuICAgICAgICBkb3ROZXRIZWxwZXIuaW52b2tlTWV0aG9kQXN5bmMoJ09uU3BhY2VyQmVmb3JlVmlzaWJsZScsIGVudHJ5LmludGVyc2VjdGlvblJlY3QudG9wIC0gZW50cnkuYm91bmRpbmdDbGllbnRSZWN0LnRvcCwgc3BhY2VyU2VwYXJhdGlvbiwgY29udGFpbmVyU2l6ZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZW50cnkudGFyZ2V0ID09PSBzcGFjZXJBZnRlciAmJiBzcGFjZXJBZnRlci5vZmZzZXRIZWlnaHQgPiAwKSB7XHJcbiAgICAgICAgLy8gV2hlbiB3ZSBmaXJzdCBzdGFydCB1cCwgYm90aCB0aGUgXCJiZWZvcmVcIiBhbmQgXCJhZnRlclwiIHNwYWNlcnMgd2lsbCBiZSB2aXNpYmxlLCBidXQgaXQncyBvbmx5IHJlbGV2YW50IHRvIHJhaXNlIGFcclxuICAgICAgICAvLyBzaW5nbGUgZXZlbnQgdG8gbG9hZCB0aGUgaW5pdGlhbCBkYXRhLiBUbyBhdm9pZCByYWlzaW5nIHR3byBldmVudHMsIHNraXAgdGhlIG9uZSBmb3IgdGhlIFwiYWZ0ZXJcIiBzcGFjZXIgaWYgd2Uga25vd1xyXG4gICAgICAgIC8vIGl0J3MgbWVhbmluZ2xlc3MgdG8gdGFsayBhYm91dCBhbnkgb3ZlcmxhcCBpbnRvIGl0LlxyXG4gICAgICAgIGRvdE5ldEhlbHBlci5pbnZva2VNZXRob2RBc3luYygnT25TcGFjZXJBZnRlclZpc2libGUnLCBlbnRyeS5ib3VuZGluZ0NsaWVudFJlY3QuYm90dG9tIC0gZW50cnkuaW50ZXJzZWN0aW9uUmVjdC5ib3R0b20sIHNwYWNlclNlcGFyYXRpb24sIGNvbnRhaW5lclNpemUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGlzVmFsaWRUYWJsZUVsZW1lbnQoZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsKTogYm9vbGVhbiB7XHJcbiAgICBpZiAoZWxlbWVudCA9PT0gbnVsbCkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuICgoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxUYWJsZUVsZW1lbnQgJiYgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID09PSAnJykgfHwgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID09PSAndGFibGUnKVxyXG4gICAgICB8fCAoKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MVGFibGVTZWN0aW9uRWxlbWVudCAmJiBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPT09ICcnKSB8fCBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPT09ICd0YWJsZS1yb3ctZ3JvdXAnKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE9ic2VydmVyc01hcEVudHJ5KGRvdE5ldEhlbHBlcjogRG90TmV0LkRvdE5ldE9iamVjdCk6IHsgb2JzZXJ2ZXJzQnlEb3ROZXRPYmplY3RJZDoge1tpZDogbnVtYmVyXTogYW55IH0sIGlkOiBudW1iZXIgfSB7XHJcbiAgY29uc3QgZG90TmV0SGVscGVyRGlzcGF0Y2hlciA9IGRvdE5ldEhlbHBlclsnX2NhbGxEaXNwYXRjaGVyJ107XHJcbiAgY29uc3QgZG90TmV0SGVscGVySWQgPSBkb3ROZXRIZWxwZXJbJ19pZCddO1xyXG4gIGRvdE5ldEhlbHBlckRpc3BhdGNoZXJbZGlzcGF0Y2hlck9ic2VydmVyc0J5RG90TmV0SWRQcm9wbmFtZV0gPz89IHsgfTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIG9ic2VydmVyc0J5RG90TmV0T2JqZWN0SWQ6IGRvdE5ldEhlbHBlckRpc3BhdGNoZXJbZGlzcGF0Y2hlck9ic2VydmVyc0J5RG90TmV0SWRQcm9wbmFtZV0sXHJcbiAgICBpZDogZG90TmV0SGVscGVySWQsXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGlzcG9zZShkb3ROZXRIZWxwZXI6IERvdE5ldC5Eb3ROZXRPYmplY3QpOiB2b2lkIHtcclxuICBjb25zdCB7IG9ic2VydmVyc0J5RG90TmV0T2JqZWN0SWQsIGlkIH0gPSBnZXRPYnNlcnZlcnNNYXBFbnRyeShkb3ROZXRIZWxwZXIpO1xyXG4gIGNvbnN0IG9ic2VydmVycyA9IG9ic2VydmVyc0J5RG90TmV0T2JqZWN0SWRbaWRdO1xyXG5cclxuICBpZiAob2JzZXJ2ZXJzKSB7XHJcbiAgICBvYnNlcnZlcnMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG4gICAgb2JzZXJ2ZXJzLm11dGF0aW9uT2JzZXJ2ZXJCZWZvcmUuZGlzY29ubmVjdCgpO1xyXG4gICAgb2JzZXJ2ZXJzLm11dGF0aW9uT2JzZXJ2ZXJBZnRlci5kaXNjb25uZWN0KCk7XHJcblxyXG4gICAgZG90TmV0SGVscGVyLmRpc3Bvc2UoKTtcclxuXHJcbiAgICBkZWxldGUgb2JzZXJ2ZXJzQnlEb3ROZXRPYmplY3RJZFtpZF07XHJcbiAgfVxyXG59XHJcbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuXHJcbmltcG9ydCB7IGdldExvZ2ljYWxQYXJlbnQsIExvZ2ljYWxFbGVtZW50IH0gZnJvbSAnLi9SZW5kZXJpbmcvTG9naWNhbEVsZW1lbnRzJztcclxuXHJcbmV4cG9ydCBjb25zdCBQYWdlVGl0bGUgPSB7XHJcbiAgZ2V0QW5kUmVtb3ZlRXhpc3RpbmdUaXRsZSxcclxufTtcclxuXHJcbmZ1bmN0aW9uIGdldEFuZFJlbW92ZUV4aXN0aW5nVGl0bGUoKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgLy8gT3RoZXIgPHRpdGxlPiBlbGVtZW50cyBtYXkgZXhpc3Qgb3V0c2lkZSA8aGVhZD4gKGUuZy4sIGluc2lkZSA8c3ZnPiBlbGVtZW50cykgYnV0IHRoZXkgYXJlbid0IHBhZ2UgdGl0bGVzXHJcbiAgY29uc3QgdGl0bGVFbGVtZW50cyA9IGRvY3VtZW50LmhlYWQgPyBkb2N1bWVudC5oZWFkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0aXRsZScpIDogW107XHJcblxyXG4gIGlmICh0aXRsZUVsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBsZXQgZXhpc3RpbmdUaXRsZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gIGZvciAobGV0IGluZGV4ID0gdGl0bGVFbGVtZW50cy5sZW5ndGggLSAxOyBpbmRleCA+PSAwOyBpbmRleC0tKSB7XHJcbiAgICBjb25zdCBjdXJyZW50VGl0bGVFbGVtZW50ID0gdGl0bGVFbGVtZW50c1tpbmRleF07XHJcbiAgICBjb25zdCBwcmV2aW91c1NpYmxpbmcgPSBjdXJyZW50VGl0bGVFbGVtZW50LnByZXZpb3VzU2libGluZztcclxuICAgIGNvbnN0IGlzQmxhem9yVGl0bGUgPSBwcmV2aW91c1NpYmxpbmcgaW5zdGFuY2VvZiBDb21tZW50ICYmIGdldExvZ2ljYWxQYXJlbnQocHJldmlvdXNTaWJsaW5nIGFzIHVua25vd24gYXMgTG9naWNhbEVsZW1lbnQpICE9PSBudWxsO1xyXG5cclxuICAgIGlmIChpc0JsYXpvclRpdGxlKSB7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChleGlzdGluZ1RpdGxlID09PSBudWxsKSB7XHJcbiAgICAgIGV4aXN0aW5nVGl0bGUgPSBjdXJyZW50VGl0bGVFbGVtZW50LnRleHRDb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGN1cnJlbnRUaXRsZUVsZW1lbnQucGFyZW50Tm9kZT8ucmVtb3ZlQ2hpbGQoY3VycmVudFRpdGxlRWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZXhpc3RpbmdUaXRsZTtcclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5leHBvcnQgY29uc3QgSW5wdXRGaWxlID0ge1xyXG4gIGluaXQsXHJcbiAgdG9JbWFnZUZpbGUsXHJcbiAgcmVhZEZpbGVEYXRhLFxyXG59O1xyXG5cclxuaW50ZXJmYWNlIEJyb3dzZXJGaWxlIHtcclxuICBpZDogbnVtYmVyO1xyXG4gIGxhc3RNb2RpZmllZDogc3RyaW5nO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBzaXplOiBudW1iZXI7XHJcbiAgY29udGVudFR5cGU6IHN0cmluZztcclxuICBibG9iOiBCbG9iO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElucHV0RWxlbWVudCBleHRlbmRzIEhUTUxJbnB1dEVsZW1lbnQge1xyXG4gIF9ibGF6b3JJbnB1dEZpbGVOZXh0RmlsZUlkOiBudW1iZXI7XHJcbiAgX2JsYXpvckZpbGVzQnlJZDogeyBbaWQ6IG51bWJlcl06IEJyb3dzZXJGaWxlIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXQoY2FsbGJhY2tXcmFwcGVyOiBhbnksIGVsZW06IElucHV0RWxlbWVudCk6IHZvaWQge1xyXG4gIGVsZW0uX2JsYXpvcklucHV0RmlsZU5leHRGaWxlSWQgPSAwO1xyXG5cclxuICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKTogdm9pZCB7XHJcbiAgICAvLyBQZXJtaXRzIHJlcGxhY2luZyBhbiBleGlzdGluZyBmaWxlIHdpdGggYSBuZXcgb25lIG9mIHRoZSBzYW1lIGZpbGUgbmFtZS5cclxuICAgIGVsZW0udmFsdWUgPSAnJztcclxuICB9KTtcclxuXHJcbiAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbigpOiB2b2lkIHtcclxuICAgIC8vIFJlZHVjZSB0byBwdXJlbHkgc2VyaWFsaXphYmxlIGRhdGEsIHBsdXMgYW4gaW5kZXggYnkgSUQuXHJcbiAgICBlbGVtLl9ibGF6b3JGaWxlc0J5SWQgPSB7fTtcclxuXHJcbiAgICBjb25zdCBmaWxlTGlzdCA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChlbGVtLmZpbGVzLCBmdW5jdGlvbihmaWxlOiBGaWxlKTogQnJvd3NlckZpbGUge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSB7XHJcbiAgICAgICAgaWQ6ICsrZWxlbS5fYmxhem9ySW5wdXRGaWxlTmV4dEZpbGVJZCxcclxuICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKGZpbGUubGFzdE1vZGlmaWVkKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIG5hbWU6IGZpbGUubmFtZSxcclxuICAgICAgICBzaXplOiBmaWxlLnNpemUsXHJcbiAgICAgICAgY29udGVudFR5cGU6IGZpbGUudHlwZSxcclxuICAgICAgICByZWFkUHJvbWlzZTogdW5kZWZpbmVkLFxyXG4gICAgICAgIGFycmF5QnVmZmVyOiB1bmRlZmluZWQsXHJcbiAgICAgICAgYmxvYjogZmlsZSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGVsZW0uX2JsYXpvckZpbGVzQnlJZFtyZXN1bHQuaWRdID0gcmVzdWx0O1xyXG5cclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH0pO1xyXG5cclxuICAgIGNhbGxiYWNrV3JhcHBlci5pbnZva2VNZXRob2RBc3luYygnTm90aWZ5Q2hhbmdlJywgZmlsZUxpc3QpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiB0b0ltYWdlRmlsZShlbGVtOiBJbnB1dEVsZW1lbnQsIGZpbGVJZDogbnVtYmVyLCBmb3JtYXQ6IHN0cmluZywgbWF4V2lkdGg6IG51bWJlciwgbWF4SGVpZ2h0OiBudW1iZXIpOiBQcm9taXNlPEJyb3dzZXJGaWxlPiB7XHJcbiAgY29uc3Qgb3JpZ2luYWxGaWxlID0gZ2V0RmlsZUJ5SWQoZWxlbSwgZmlsZUlkKTtcclxuXHJcbiAgY29uc3QgbG9hZGVkSW1hZ2UgPSBhd2FpdCBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlOiAobG9hZGVkSW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgIGNvbnN0IG9yaWdpbmFsRmlsZUltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICBvcmlnaW5hbEZpbGVJbWFnZS5vbmxvYWQgPSBmdW5jdGlvbigpOiB2b2lkIHtcclxuICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChvcmlnaW5hbEZpbGVJbWFnZS5zcmMpO1xyXG4gICAgICByZXNvbHZlKG9yaWdpbmFsRmlsZUltYWdlKTtcclxuICAgIH07XHJcbiAgICBvcmlnaW5hbEZpbGVJbWFnZS5vbmVycm9yID0gZnVuY3Rpb24oKTogdm9pZCB7XHJcbiAgICAgIG9yaWdpbmFsRmlsZUltYWdlLm9uZXJyb3IgPSBudWxsO1xyXG4gICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKG9yaWdpbmFsRmlsZUltYWdlLnNyYyk7XHJcbiAgICB9O1xyXG4gICAgb3JpZ2luYWxGaWxlSW1hZ2Uuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChvcmlnaW5hbEZpbGVbJ2Jsb2InXSk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHJlc2l6ZWRJbWFnZUJsb2IgPSBhd2FpdCBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlOiBCbG9iQ2FsbGJhY2spOiB2b2lkIHtcclxuICAgIGNvbnN0IGRlc2lyZWRXaWR0aFJhdGlvID0gTWF0aC5taW4oMSwgbWF4V2lkdGggLyBsb2FkZWRJbWFnZS53aWR0aCk7XHJcbiAgICBjb25zdCBkZXNpcmVkSGVpZ2h0UmF0aW8gPSBNYXRoLm1pbigxLCBtYXhIZWlnaHQgLyBsb2FkZWRJbWFnZS5oZWlnaHQpO1xyXG4gICAgY29uc3QgY2hvc2VuU2l6ZVJhdGlvID0gTWF0aC5taW4oZGVzaXJlZFdpZHRoUmF0aW8sIGRlc2lyZWRIZWlnaHRSYXRpbyk7XHJcblxyXG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICBjYW52YXMud2lkdGggPSBNYXRoLnJvdW5kKGxvYWRlZEltYWdlLndpZHRoICogY2hvc2VuU2l6ZVJhdGlvKTtcclxuICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLnJvdW5kKGxvYWRlZEltYWdlLmhlaWdodCAqIGNob3NlblNpemVSYXRpbyk7XHJcbiAgICBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKT8uZHJhd0ltYWdlKGxvYWRlZEltYWdlLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgY2FudmFzLnRvQmxvYihyZXNvbHZlLCBmb3JtYXQpO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCByZXN1bHQ6IEJyb3dzZXJGaWxlID0ge1xyXG4gICAgaWQ6ICsrZWxlbS5fYmxhem9ySW5wdXRGaWxlTmV4dEZpbGVJZCxcclxuICAgIGxhc3RNb2RpZmllZDogb3JpZ2luYWxGaWxlLmxhc3RNb2RpZmllZCxcclxuICAgIG5hbWU6IG9yaWdpbmFsRmlsZS5uYW1lLFxyXG4gICAgc2l6ZTogcmVzaXplZEltYWdlQmxvYj8uc2l6ZSB8fCAwLFxyXG4gICAgY29udGVudFR5cGU6IGZvcm1hdCxcclxuICAgIGJsb2I6IHJlc2l6ZWRJbWFnZUJsb2IgPyByZXNpemVkSW1hZ2VCbG9iIDogb3JpZ2luYWxGaWxlLmJsb2IsXHJcbiAgfTtcclxuXHJcbiAgZWxlbS5fYmxhem9yRmlsZXNCeUlkW3Jlc3VsdC5pZF0gPSByZXN1bHQ7XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHJlYWRGaWxlRGF0YShlbGVtOiBJbnB1dEVsZW1lbnQsIGZpbGVJZDogbnVtYmVyKTogUHJvbWlzZTxCbG9iPiB7XHJcbiAgY29uc3QgZmlsZSA9IGdldEZpbGVCeUlkKGVsZW0sIGZpbGVJZCk7XHJcbiAgcmV0dXJuIGZpbGUuYmxvYjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGVCeUlkKGVsZW06IElucHV0RWxlbWVudCwgZmlsZUlkOiBudW1iZXIpOiBCcm93c2VyRmlsZSB7XHJcbiAgY29uc3QgZmlsZSA9IGVsZW0uX2JsYXpvckZpbGVzQnlJZFtmaWxlSWRdO1xyXG5cclxuICBpZiAoIWZpbGUpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgVGhlcmUgaXMgbm8gZmlsZSB3aXRoIElEICR7ZmlsZUlkfS4gVGhlIGZpbGUgbGlzdCBtYXkgaGF2ZSBjaGFuZ2VkLiBTZWUgaHR0cHM6Ly9ha2EubXMvYXNwbmV0L2JsYXpvci1pbnB1dC1maWxlLW11bHRpcGxlLXNlbGVjdGlvbnMuYCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZmlsZTtcclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5jb25zdCByZWdpc3RlcmVkTG9ja3MgPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuXHJcbmV4cG9ydCBjb25zdCBOYXZpZ2F0aW9uTG9jayA9IHtcclxuICBlbmFibGVOYXZpZ2F0aW9uUHJvbXB0LFxyXG4gIGRpc2FibGVOYXZpZ2F0aW9uUHJvbXB0LFxyXG59O1xyXG5cclxuZnVuY3Rpb24gb25CZWZvcmVVbmxvYWQoZXZlbnQ6IEJlZm9yZVVubG9hZEV2ZW50KSB7XHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAvLyBNb2Rlcm4gYnJvd3NlcnMgZGlzcGxheSBhIGNvbmZpcm1hdGlvbiBwcm9tcHQgd2hlbiByZXR1cm5WYWx1ZSBpcyBzb21lIHZhbHVlIG90aGVyIHRoYW5cclxuICAvLyBudWxsIG9yIHVuZGVmaW5lZC5cclxuICAvLyBTZWU6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaW5kb3cvYmVmb3JldW5sb2FkX2V2ZW50I2NvbXBhdGliaWxpdHlfbm90ZXNcclxuICBldmVudC5yZXR1cm5WYWx1ZSA9IHRydWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVuYWJsZU5hdmlnYXRpb25Qcm9tcHQoaWQ6IHN0cmluZykge1xyXG4gIGlmIChyZWdpc3RlcmVkTG9ja3Muc2l6ZSA9PT0gMCkge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIG9uQmVmb3JlVW5sb2FkKTtcclxuICB9XHJcblxyXG4gIHJlZ2lzdGVyZWRMb2Nrcy5hZGQoaWQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkaXNhYmxlTmF2aWdhdGlvblByb21wdChpZDogc3RyaW5nKSB7XHJcbiAgcmVnaXN0ZXJlZExvY2tzLmRlbGV0ZShpZCk7XHJcblxyXG4gIGlmIChyZWdpc3RlcmVkTG9ja3Muc2l6ZSA9PT0gMCkge1xyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIG9uQmVmb3JlVW5sb2FkKTtcclxuICB9XHJcbn1cclxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cclxuaW1wb3J0IHsgRG90TmV0IH0gZnJvbSAnQG1pY3Jvc29mdC9kb3RuZXQtanMtaW50ZXJvcCc7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TmV4dENodW5rKGRhdGE6IEFycmF5QnVmZmVyVmlldyB8IEJsb2IsIHBvc2l0aW9uOiBudW1iZXIsIG5leHRDaHVua1NpemU6IG51bWJlcik6IFByb21pc2U8VWludDhBcnJheT4ge1xyXG4gIGlmIChkYXRhIGluc3RhbmNlb2YgQmxvYikge1xyXG4gICAgcmV0dXJuIGF3YWl0IGdldENodW5rRnJvbUJsb2IoZGF0YSwgcG9zaXRpb24sIG5leHRDaHVua1NpemUpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gZ2V0Q2h1bmtGcm9tQXJyYXlCdWZmZXJWaWV3KGRhdGEsIHBvc2l0aW9uLCBuZXh0Q2h1bmtTaXplKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldENodW5rRnJvbUJsb2IoZGF0YTogQmxvYiwgcG9zaXRpb246IG51bWJlciwgbmV4dENodW5rU2l6ZTogbnVtYmVyKTogUHJvbWlzZTxVaW50OEFycmF5PiB7XHJcbiAgY29uc3QgY2h1bmtCbG9iID0gZGF0YS5zbGljZShwb3NpdGlvbiwgcG9zaXRpb24gKyBuZXh0Q2h1bmtTaXplKTtcclxuICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IGNodW5rQmxvYi5hcnJheUJ1ZmZlcigpO1xyXG4gIGNvbnN0IG5leHRDaHVua0RhdGEgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcik7XHJcbiAgcmV0dXJuIG5leHRDaHVua0RhdGE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENodW5rRnJvbUFycmF5QnVmZmVyVmlldyhkYXRhOiBBcnJheUJ1ZmZlclZpZXcsIHBvc2l0aW9uOiBudW1iZXIsIG5leHRDaHVua1NpemU6IG51bWJlcik6IFVpbnQ4QXJyYXkge1xyXG4gIGNvbnN0IG5leHRDaHVua0RhdGEgPSBuZXcgVWludDhBcnJheShkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0ICsgcG9zaXRpb24sIG5leHRDaHVua1NpemUpO1xyXG4gIHJldHVybiBuZXh0Q2h1bmtEYXRhO1xyXG59XHJcblxyXG5jb25zdCB0cmFuc21pdHRpbmdEb3ROZXRUb0pTU3RyZWFtcyA9IG5ldyBNYXA8bnVtYmVyLCBSZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXI8YW55Pj4oKTtcclxuZXhwb3J0IGZ1bmN0aW9uIHJlY2VpdmVEb3ROZXREYXRhU3RyZWFtKGRpc3BhdGNoZXI6IERvdE5ldC5JQ2FsbERpc3BhdGNoZXIsIHN0cmVhbUlkOiBudW1iZXIsIGRhdGE6IFVpbnQ4QXJyYXksIGJ5dGVzUmVhZDogbnVtYmVyLCBlcnJvck1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xyXG4gIGxldCBzdHJlYW1Db250cm9sbGVyID0gdHJhbnNtaXR0aW5nRG90TmV0VG9KU1N0cmVhbXMuZ2V0KHN0cmVhbUlkKTtcclxuICBpZiAoIXN0cmVhbUNvbnRyb2xsZXIpIHtcclxuICAgIGNvbnN0IHJlYWRhYmxlU3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHtcclxuICAgICAgc3RhcnQoY29udHJvbGxlcikge1xyXG4gICAgICAgIHRyYW5zbWl0dGluZ0RvdE5ldFRvSlNTdHJlYW1zLnNldChzdHJlYW1JZCwgY29udHJvbGxlcik7XHJcbiAgICAgICAgc3RyZWFtQ29udHJvbGxlciA9IGNvbnRyb2xsZXI7XHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBkaXNwYXRjaGVyLnN1cHBseURvdE5ldFN0cmVhbShzdHJlYW1JZCwgcmVhZGFibGVTdHJlYW0pO1xyXG4gIH1cclxuXHJcbiAgaWYgKGVycm9yTWVzc2FnZSkge1xyXG4gICAgc3RyZWFtQ29udHJvbGxlciEuZXJyb3IoZXJyb3JNZXNzYWdlKTtcclxuICAgIHRyYW5zbWl0dGluZ0RvdE5ldFRvSlNTdHJlYW1zLmRlbGV0ZShzdHJlYW1JZCk7XHJcbiAgfSBlbHNlIGlmIChieXRlc1JlYWQgPT09IDApIHtcclxuICAgIHN0cmVhbUNvbnRyb2xsZXIhLmNsb3NlKCk7XHJcbiAgICB0cmFuc21pdHRpbmdEb3ROZXRUb0pTU3RyZWFtcy5kZWxldGUoc3RyZWFtSWQpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzdHJlYW1Db250cm9sbGVyIS5lbnF1ZXVlKGRhdGEubGVuZ3RoID09PSBieXRlc1JlYWQgPyBkYXRhIDogZGF0YS5zdWJhcnJheSgwLCBieXRlc1JlYWQpKTtcclxuICB9XHJcbn1cclxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cclxuaW1wb3J0IHsgbmF2aWdhdGVUbywgaW50ZXJuYWxGdW5jdGlvbnMgYXMgbmF2aWdhdGlvbk1hbmFnZXJJbnRlcm5hbEZ1bmN0aW9ucywgTmF2aWdhdGlvbk9wdGlvbnMgfSBmcm9tICcuL1NlcnZpY2VzL05hdmlnYXRpb25NYW5hZ2VyJztcclxuaW1wb3J0IHsgZG9tRnVuY3Rpb25zIH0gZnJvbSAnLi9Eb21XcmFwcGVyJztcclxuaW1wb3J0IHsgVmlydHVhbGl6ZSB9IGZyb20gJy4vVmlydHVhbGl6ZSc7XHJcbmltcG9ydCB7IFBhZ2VUaXRsZSB9IGZyb20gJy4vUGFnZVRpdGxlJztcclxuaW1wb3J0IHsgcmVnaXN0ZXJDdXN0b21FdmVudFR5cGUsIEV2ZW50VHlwZU9wdGlvbnMgfSBmcm9tICcuL1JlbmRlcmluZy9FdmVudHMvRXZlbnRUeXBlcyc7XHJcbmltcG9ydCB7IEh1YkNvbm5lY3Rpb24gfSBmcm9tICdAbWljcm9zb2Z0L3NpZ25hbHInO1xyXG5pbXBvcnQgeyBJbnB1dEZpbGUgfSBmcm9tICcuL0lucHV0RmlsZSc7XHJcbmltcG9ydCB7IE5hdmlnYXRpb25Mb2NrIH0gZnJvbSAnLi9OYXZpZ2F0aW9uTG9jayc7XHJcbmltcG9ydCB7IERlZmF1bHRSZWNvbm5lY3Rpb25IYW5kbGVyIH0gZnJvbSAnLi9QbGF0Zm9ybS9DaXJjdWl0cy9EZWZhdWx0UmVjb25uZWN0aW9uSGFuZGxlcic7XHJcbmltcG9ydCB7IENpcmN1aXRTdGFydE9wdGlvbnMgfSBmcm9tICcuL1BsYXRmb3JtL0NpcmN1aXRzL0NpcmN1aXRTdGFydE9wdGlvbnMnO1xyXG5pbXBvcnQgeyBXZWJBc3NlbWJseVN0YXJ0T3B0aW9ucyB9IGZyb20gJy4vUGxhdGZvcm0vV2ViQXNzZW1ibHlTdGFydE9wdGlvbnMnO1xyXG5pbXBvcnQgeyBQbGF0Zm9ybSwgUG9pbnRlciB9IGZyb20gJy4vUGxhdGZvcm0vUGxhdGZvcm0nO1xyXG5pbXBvcnQgeyBnZXROZXh0Q2h1bmsgfSBmcm9tICcuL1N0cmVhbWluZ0ludGVyb3AnO1xyXG5pbXBvcnQgeyBSb290Q29tcG9uZW50c0Z1bmN0aW9ucyB9IGZyb20gJy4vUmVuZGVyaW5nL0pTUm9vdENvbXBvbmVudHMnO1xyXG5pbXBvcnQgeyBhdHRhY2hXZWJSZW5kZXJlckludGVyb3AgfSBmcm9tICcuL1JlbmRlcmluZy9XZWJSZW5kZXJlckludGVyb3BNZXRob2RzJztcclxuaW1wb3J0IHsgV2ViU3RhcnRPcHRpb25zIH0gZnJvbSAnLi9QbGF0Zm9ybS9XZWJTdGFydE9wdGlvbnMnO1xyXG5pbXBvcnQgeyBSdW50aW1lQVBJIH0gZnJvbSAnQG1pY3Jvc29mdC9kb3RuZXQtcnVudGltZSc7XHJcbmltcG9ydCB7IEpTRXZlbnRSZWdpc3RyeSB9IGZyb20gJy4vU2VydmljZXMvSlNFdmVudFJlZ2lzdHJ5JztcclxuXHJcbi8vIFRPRE86IEl0J3Mga2luZCBvZiBoYXJkIHRvIHRlbGwgd2hpY2ggLk5FVCBwbGF0Zm9ybShzKSBzb21lIG9mIHRoZXNlIEFQSXMgYXJlIHJlbGV2YW50IHRvLlxyXG4vLyBJdCdzIGltcG9ydGFudCB0byBrbm93IHRoaXMgaW5mb3JtYXRpb24gd2hlbiBkZWFsaW5nIHdpdGggdGhlIHBvc3NpYmlsaXR5IG9mIG11bGl0cGxlIC5ORVQgcGxhdGZvcm1zIGJlaW5nIGF2YWlsYWJsZS5cclxuLy8gZS5nLiwgd2hpY2ggb2YgdGhlc2UgQVBJcyBuZWVkIHRvIGFjY291bnQgZm9yIHRoZXJlIGJlaW5nIG11bHRpcGxlIC5ORVQgcnVudGltZXMsIGFuZCB3aGljaCBkb24ndD9cclxuXHJcbi8vIFdlIHNob3VsZCBjb25zaWRlciBzZXBhcmF0aW5nIGl0IGFsbCBvdXQgc28gdGhhdCB3ZSBjYW4gZWFzaWx5IGlkZW50aWZ5IHRoZSBwbGF0Zm9ybSByZXF1aXJlbWVudHMgb2YgZWFjaCBBUEkuXHJcbi8vIEZvciBleGFtcGxlOlxyXG4vLyAqIEJsYXpvci57Zm9vfTogcHVibGljIEJsYXpvciBBUElzXHJcbi8vICogQmxhem9yLl9pbnRlcm5hbC57Zm9vfTogaW50ZXJuYWwsIHBsYXRmb3JtLWFnbm9zdGljIEJsYXpvciBBUElzXHJcbi8vICogQmxhem9yLnBsYXRmb3JtLntzb21lUGxhdGZvcm1OYW1lfS57Zm9vfTogcHVibGljLCBwbGF0Zm9ybS1zcGVjaWZpYyBCbGF6b3IgQVBJcyAod291bGQgYmUgZW1wdHkgYXQgZmlyc3QsIHNvIG5vIGluaXRpYWwgYnJlYWtpbmcgY2hhbmdlcylcclxuLy8gKiBCbGF6b3IucGxhdGZvcm0ue3NvbWVQbGF0Zm9ybU5hbWV9LntfaW50ZXJuYWx9Lntmb299OiBpbnRlcm5hbCwgcGxhdGZvcm0tc3BlY2lmaWMgQmxhem9yIEFQSXNcclxuZXhwb3J0IGludGVyZmFjZSBJQmxhem9yIHtcclxuICBuYXZpZ2F0ZVRvOiAodXJpOiBzdHJpbmcsIG9wdGlvbnM6IE5hdmlnYXRpb25PcHRpb25zKSA9PiB2b2lkO1xyXG4gIHJlZ2lzdGVyQ3VzdG9tRXZlbnRUeXBlOiAoZXZlbnROYW1lOiBzdHJpbmcsIG9wdGlvbnM6IEV2ZW50VHlwZU9wdGlvbnMpID0+IHZvaWQ7XHJcblxyXG4gIGFkZEV2ZW50TGlzdGVuZXI/OiB0eXBlb2YgSlNFdmVudFJlZ2lzdHJ5LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyO1xyXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXI/OiB0eXBlb2YgSlNFdmVudFJlZ2lzdHJ5LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyO1xyXG4gIGRpc2Nvbm5lY3Q/OiAoKSA9PiB2b2lkO1xyXG4gIHJlY29ubmVjdD86IChleGlzdGluZ0Nvbm5lY3Rpb24/OiBIdWJDb25uZWN0aW9uKSA9PiBQcm9taXNlPGJvb2xlYW4+O1xyXG4gIGRlZmF1bHRSZWNvbm5lY3Rpb25IYW5kbGVyPzogRGVmYXVsdFJlY29ubmVjdGlvbkhhbmRsZXI7XHJcbiAgc3RhcnQ/OiAoKHVzZXJPcHRpb25zPzogUGFydGlhbDxDaXJjdWl0U3RhcnRPcHRpb25zPikgPT4gUHJvbWlzZTx2b2lkPikgfCAoKG9wdGlvbnM/OiBQYXJ0aWFsPFdlYkFzc2VtYmx5U3RhcnRPcHRpb25zPikgPT4gUHJvbWlzZTx2b2lkPikgfCAoKG9wdGlvbnM/OiBQYXJ0aWFsPFdlYlN0YXJ0T3B0aW9ucz4pID0+IFByb21pc2U8dm9pZD4pO1xyXG4gIHBsYXRmb3JtPzogUGxhdGZvcm07XHJcbiAgcm9vdENvbXBvbmVudHM6IHR5cGVvZiBSb290Q29tcG9uZW50c0Z1bmN0aW9ucztcclxuICBydW50aW1lOiBSdW50aW1lQVBJLFxyXG5cclxuICBfaW50ZXJuYWw6IHtcclxuICAgIG5hdmlnYXRpb25NYW5hZ2VyOiB0eXBlb2YgbmF2aWdhdGlvbk1hbmFnZXJJbnRlcm5hbEZ1bmN0aW9ucyB8IGFueTtcclxuICAgIGRvbVdyYXBwZXI6IHR5cGVvZiBkb21GdW5jdGlvbnM7XHJcbiAgICBWaXJ0dWFsaXplOiB0eXBlb2YgVmlydHVhbGl6ZTtcclxuICAgIFBhZ2VUaXRsZTogdHlwZW9mIFBhZ2VUaXRsZTtcclxuICAgIGZvcmNlQ2xvc2VDb25uZWN0aW9uPzogKCkgPT4gUHJvbWlzZTx2b2lkPjtcclxuICAgIElucHV0RmlsZT86IHR5cGVvZiBJbnB1dEZpbGU7XHJcbiAgICBOYXZpZ2F0aW9uTG9jazogdHlwZW9mIE5hdmlnYXRpb25Mb2NrO1xyXG4gICAgaW52b2tlSlNKc29uPzogKGlkZW50aWZpZXI6IHN0cmluZywgdGFyZ2V0SW5zdGFuY2VJZDogbnVtYmVyLCByZXN1bHRUeXBlOiBudW1iZXIsIGFyZ3NKc29uOiBzdHJpbmcsIGFzeW5jSGFuZGxlOiBudW1iZXIpID0+IHN0cmluZyB8IG51bGw7XHJcbiAgICBlbmRJbnZva2VEb3ROZXRGcm9tSlM/OiAoY2FsbElkOiBzdHJpbmcsIHN1Y2Nlc3M6IGJvb2xlYW4sIHJlc3VsdEpzb25PckVycm9yTWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkO1xyXG4gICAgcmVjZWl2ZUJ5dGVBcnJheT86IChpZDogbnVtYmVyLCBkYXRhOiBVaW50OEFycmF5KSA9PiB2b2lkO1xyXG4gICAgZ2V0UGVyc2lzdGVkU3RhdGU/OiAoKSA9PiBzdHJpbmc7XHJcbiAgICBnZXRJbml0aWFsQ29tcG9uZW50c1VwZGF0ZT86ICgpID0+IFByb21pc2U8c3RyaW5nPjtcclxuICAgIHVwZGF0ZVJvb3RDb21wb25lbnRzPzogKG9wZXJhdGlvbnM6IHN0cmluZykgPT4gdm9pZDtcclxuICAgIGVuZFVwZGF0ZVJvb3RDb21wb25lbnRzPzogKGJhdGNoSWQ6IG51bWJlcikgPT4gdm9pZDtcclxuICAgIGF0dGFjaFJvb3RDb21wb25lbnRUb0VsZW1lbnQ/OiAoYXJnMDogYW55LCBhcmcxOiBhbnksIGFyZzI6IGFueSwgYXJnMzogYW55KSA9PiB2b2lkO1xyXG4gICAgcmVnaXN0ZXJlZENvbXBvbmVudHM/OiB7XHJcbiAgICAgIGdldFJlZ2lzdGVyZWRDb21wb25lbnRzQ291bnQ6ICgpID0+IG51bWJlcjtcclxuICAgICAgZ2V0QXNzZW1ibHk6IChpZCkgPT4gc3RyaW5nO1xyXG4gICAgICBnZXRUeXBlTmFtZTogKGlkKSA9PiBzdHJpbmc7XHJcbiAgICAgIGdldFBhcmFtZXRlckRlZmluaXRpb25zOiAoaWQpID0+IHN0cmluZztcclxuICAgICAgZ2V0UGFyYW1ldGVyVmFsdWVzOiAoaWQpID0+IGFueTtcclxuICAgIH07XHJcbiAgICByZW5kZXJCYXRjaD86IChicm93c2VyUmVuZGVyZXJJZDogbnVtYmVyLCBiYXRjaEFkZHJlc3M6IFBvaW50ZXIpID0+IHZvaWQ7XHJcbiAgICBnZXRDb25maWc/OiAoZmlsZU5hbWU6IHN0cmluZykgPT4gVWludDhBcnJheSB8IHVuZGVmaW5lZDtcclxuICAgIGdldEFwcGxpY2F0aW9uRW52aXJvbm1lbnQ/OiAoKSA9PiBzdHJpbmc7XHJcbiAgICBkb3ROZXRDcml0aWNhbEVycm9yPzogYW55O1xyXG4gICAgbG9hZExhenlBc3NlbWJseT86IGFueTtcclxuICAgIGxvYWRTYXRlbGxpdGVBc3NlbWJsaWVzPzogYW55O1xyXG4gICAgc2VuZEpTRGF0YVN0cmVhbT86IChkYXRhOiBhbnksIHN0cmVhbUlkOiBudW1iZXIsIGNodW5rU2l6ZTogbnVtYmVyKSA9PiB2b2lkO1xyXG4gICAgZ2V0SlNEYXRhU3RyZWFtQ2h1bms/OiAoZGF0YTogYW55LCBwb3NpdGlvbjogbnVtYmVyLCBjaHVua1NpemU6IG51bWJlcikgPT4gUHJvbWlzZTxVaW50OEFycmF5PjtcclxuICAgIHJlY2VpdmVXZWJBc3NlbWJseURvdE5ldERhdGFTdHJlYW0/OiAoc3RyZWFtSWQ6IG51bWJlciwgZGF0YTogYW55LCBieXRlc1JlYWQ6IG51bWJlciwgZXJyb3JNZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgICByZWNlaXZlV2ViVmlld0RvdE5ldERhdGFTdHJlYW0/OiAoc3RyZWFtSWQ6IG51bWJlciwgZGF0YTogYW55LCBieXRlc1JlYWQ6IG51bWJlciwgZXJyb3JNZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgICBhdHRhY2hXZWJSZW5kZXJlckludGVyb3A/OiB0eXBlb2YgYXR0YWNoV2ViUmVuZGVyZXJJbnRlcm9wO1xyXG5cclxuICAgIC8vIEpTRXhwb3J0IEFQSXNcclxuICAgIGRvdE5ldEV4cG9ydHM/OiB7XHJcbiAgICAgIEludm9rZURvdE5ldDogKGFzc2VtYmx5TmFtZTogc3RyaW5nIHwgbnVsbCwgbWV0aG9kSWRlbnRpZmllcjogc3RyaW5nLCBkb3ROZXRPYmplY3RJZDogbnVtYmVyLCBhcmdzSnNvbjogc3RyaW5nKSA9PiBzdHJpbmcgfCBudWxsO1xyXG4gICAgICBFbmRJbnZva2VKUzogKGFyZ3NKc29uOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgICAgIEJlZ2luSW52b2tlRG90TmV0OiAoY2FsbElkOiBzdHJpbmcgfCBudWxsLCBhc3NlbWJseU5hbWVPckRvdE5ldE9iamVjdElkOiBzdHJpbmcsIG1ldGhvZElkZW50aWZpZXI6IHN0cmluZywgYXJnc0pzb246IHN0cmluZykgPT4gdm9pZDtcclxuICAgICAgUmVjZWl2ZUJ5dGVBcnJheUZyb21KUzogKGlkOiBudW1iZXIsIGRhdGE6IFVpbnQ4QXJyYXkpID0+IHZvaWQ7XHJcbiAgICAgIFVwZGF0ZVJvb3RDb21wb25lbnRzQ29yZTogKG9wZXJhdGlvbnNKc29uOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQVBJcyBpbnZva2VkIGJ5IGhvdCByZWxvYWRcclxuICAgIGFwcGx5SG90UmVsb2FkPzogKGlkOiBzdHJpbmcsIG1ldGFkYXRhRGVsdGE6IHN0cmluZywgaWxEZWx0YTogc3RyaW5nLCBwZGJEZWx0YTogc3RyaW5nIHwgdW5kZWZpbmVkLCB1cGRhdGVkVHlwZXM/OiBudW1iZXJbXSkgPT4gdm9pZDtcclxuICAgIGdldEFwcGx5VXBkYXRlQ2FwYWJpbGl0aWVzPzogKCkgPT4gc3RyaW5nO1xyXG4gICAgaG90UmVsb2FkQXBwbGllZD86ICgpID0+IHZvaWQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQmxhem9yOiBJQmxhem9yID0ge1xyXG4gIG5hdmlnYXRlVG8sXHJcbiAgcmVnaXN0ZXJDdXN0b21FdmVudFR5cGUsXHJcbiAgcm9vdENvbXBvbmVudHM6IFJvb3RDb21wb25lbnRzRnVuY3Rpb25zLFxyXG4gIHJ1bnRpbWU6IHt9IGFzIFJ1bnRpbWVBUEksXHJcblxyXG4gIF9pbnRlcm5hbDoge1xyXG4gICAgbmF2aWdhdGlvbk1hbmFnZXI6IG5hdmlnYXRpb25NYW5hZ2VySW50ZXJuYWxGdW5jdGlvbnMsXHJcbiAgICBkb21XcmFwcGVyOiBkb21GdW5jdGlvbnMsXHJcbiAgICBWaXJ0dWFsaXplLFxyXG4gICAgUGFnZVRpdGxlLFxyXG4gICAgSW5wdXRGaWxlLFxyXG4gICAgTmF2aWdhdGlvbkxvY2ssXHJcbiAgICBnZXRKU0RhdGFTdHJlYW1DaHVuazogZ2V0TmV4dENodW5rLFxyXG4gICAgYXR0YWNoV2ViUmVuZGVyZXJJbnRlcm9wLFxyXG4gIH0sXHJcbn07XHJcblxyXG4vLyBNYWtlIHRoZSBmb2xsb3dpbmcgQVBJcyBhdmFpbGFibGUgaW4gZ2xvYmFsIHNjb3BlIGZvciBpbnZvY2F0aW9uIGZyb20gSlNcclxud2luZG93WydCbGF6b3InXSA9IEJsYXpvcjtcclxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cclxubGV0IGhhc0ZhaWxlZCA9IGZhbHNlO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNob3dFcnJvck5vdGlmaWNhdGlvbigpOiB2b2lkIHtcclxuICBjb25zdCBlcnJvclVpID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2JsYXpvci1lcnJvci11aScpIGFzIEhUTUxFbGVtZW50O1xyXG4gIGlmIChlcnJvclVpKSB7XHJcbiAgICBlcnJvclVpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFoYXNGYWlsZWQpIHtcclxuICAgIGhhc0ZhaWxlZCA9IHRydWU7XHJcbiAgICBjb25zdCBlcnJvclVpUmVsb2FkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8SFRNTEVsZW1lbnQ+KCcjYmxhem9yLWVycm9yLXVpIC5yZWxvYWQnKTtcclxuICAgIGVycm9yVWlSZWxvYWRzLmZvckVhY2gocmVsb2FkID0+IHtcclxuICAgICAgcmVsb2FkLm9uY2xpY2sgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgZXJyb3JVaURpc21pc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPEhUTUxFbGVtZW50PignI2JsYXpvci1lcnJvci11aSAuZGlzbWlzcycpO1xyXG4gICAgZXJyb3JVaURpc21pc3MuZm9yRWFjaChkaXNtaXNzID0+IHtcclxuICAgICAgZGlzbWlzcy5vbmNsaWNrID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGNvbnN0IGVycm9yVWkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxFbGVtZW50PignI2JsYXpvci1lcnJvci11aScpO1xyXG4gICAgICAgIGlmIChlcnJvclVpKSB7XHJcbiAgICAgICAgICBlcnJvclVpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5jb25zdCBuYXRpdmVEZWNvZGVyID0gdHlwZW9mIFRleHREZWNvZGVyID09PSAnZnVuY3Rpb24nXHJcbiAgPyBuZXcgVGV4dERlY29kZXIoJ3V0Zi04JylcclxuICA6IG51bGw7XHJcblxyXG5leHBvcnQgY29uc3QgZGVjb2RlVXRmODogKGJ5dGVzOiBVaW50OEFycmF5KSA9PiBzdHJpbmdcclxuICA9IG5hdGl2ZURlY29kZXIgPyBuYXRpdmVEZWNvZGVyLmRlY29kZS5iaW5kKG5hdGl2ZURlY29kZXIpIDogZGVjb2RlSW1wbDtcclxuXHJcbi8qICFcclxuTG9naWMgaW4gZGVjb2RlSW1wbCBpcyBkZXJpdmVkIGZyb20gZmFzdC10ZXh0LWVuY29kaW5nXHJcbmh0dHBzOi8vZ2l0aHViLmNvbS9zYW10aG9yL2Zhc3QtdGV4dC1lbmNvZGluZ1xyXG5cclxuTGljZW5zZSBmb3IgZmFzdC10ZXh0LWVuY29kaW5nOiBBcGFjaGUgMi4wXHJcbmh0dHBzOi8vZ2l0aHViLmNvbS9zYW10aG9yL2Zhc3QtdGV4dC1lbmNvZGluZy9ibG9iL21hc3Rlci9MSUNFTlNFXHJcbiovXHJcblxyXG5mdW5jdGlvbiBkZWNvZGVJbXBsKGJ5dGVzOiBVaW50OEFycmF5KTogc3RyaW5nIHtcclxuICBsZXQgcG9zID0gMDtcclxuICBjb25zdCBsZW4gPSBieXRlcy5sZW5ndGg7XHJcbiAgY29uc3Qgb3V0OiBudW1iZXJbXSA9IFtdO1xyXG4gIGNvbnN0IHN1YnN0cmluZ3M6IHN0cmluZ1tdID0gW107XHJcblxyXG4gIHdoaWxlIChwb3MgPCBsZW4pIHtcclxuICAgIGNvbnN0IGJ5dGUxID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgaWYgKGJ5dGUxID09PSAwKSB7XHJcbiAgICAgIGJyZWFrOyAvLyBOVUxMXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKChieXRlMSAmIDB4ODApID09PSAwKSB7IC8vIDEtYnl0ZVxyXG4gICAgICBvdXQucHVzaChieXRlMSk7XHJcbiAgICB9IGVsc2UgaWYgKChieXRlMSAmIDB4ZTApID09PSAweGMwKSB7IC8vIDItYnl0ZVxyXG4gICAgICBjb25zdCBieXRlMiA9IGJ5dGVzW3BvcysrXSAmIDB4M2Y7XHJcbiAgICAgIG91dC5wdXNoKCgoYnl0ZTEgJiAweDFmKSA8PCA2KSB8IGJ5dGUyKTtcclxuICAgIH0gZWxzZSBpZiAoKGJ5dGUxICYgMHhmMCkgPT09IDB4ZTApIHtcclxuICAgICAgY29uc3QgYnl0ZTIgPSBieXRlc1twb3MrK10gJiAweDNmO1xyXG4gICAgICBjb25zdCBieXRlMyA9IGJ5dGVzW3BvcysrXSAmIDB4M2Y7XHJcbiAgICAgIG91dC5wdXNoKCgoYnl0ZTEgJiAweDFmKSA8PCAxMikgfCAoYnl0ZTIgPDwgNikgfCBieXRlMyk7XHJcbiAgICB9IGVsc2UgaWYgKChieXRlMSAmIDB4ZjgpID09PSAweGYwKSB7XHJcbiAgICAgIGNvbnN0IGJ5dGUyID0gYnl0ZXNbcG9zKytdICYgMHgzZjtcclxuICAgICAgY29uc3QgYnl0ZTMgPSBieXRlc1twb3MrK10gJiAweDNmO1xyXG4gICAgICBjb25zdCBieXRlNCA9IGJ5dGVzW3BvcysrXSAmIDB4M2Y7XHJcblxyXG4gICAgICAvLyB0aGlzIGNhbiBiZSA+IDB4ZmZmZiwgc28gcG9zc2libHkgZ2VuZXJhdGUgc3Vycm9nYXRlc1xyXG4gICAgICBsZXQgY29kZXBvaW50ID0gKChieXRlMSAmIDB4MDcpIDw8IDB4MTIpIHwgKGJ5dGUyIDw8IDB4MGMpIHwgKGJ5dGUzIDw8IDB4MDYpIHwgYnl0ZTQ7XHJcbiAgICAgIGlmIChjb2RlcG9pbnQgPiAweGZmZmYpIHtcclxuICAgICAgICAvLyBjb2RlcG9pbnQgJj0gfjB4MTAwMDA7XHJcbiAgICAgICAgY29kZXBvaW50IC09IDB4MTAwMDA7XHJcbiAgICAgICAgb3V0LnB1c2goKGNvZGVwb2ludCA+Pj4gMTApICYgMHgzZmYgfCAweGQ4MDApO1xyXG4gICAgICAgIGNvZGVwb2ludCA9IDB4ZGMwMCB8IGNvZGVwb2ludCAmIDB4M2ZmO1xyXG4gICAgICB9XHJcbiAgICAgIG91dC5wdXNoKGNvZGVwb2ludCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBGSVhNRTogd2UncmUgaWdub3JpbmcgdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFzIGEgd29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL3NhbXRob3IvZmFzdC10ZXh0LWVuY29kaW5nL2lzc3Vlcy8xLFxyXG4gICAgLy8gbWFrZSBzdXJlIHRoZSAnb3V0JyBhcnJheSBuZXZlciBnZXRzIHRvbyBsb25nLiBXaGVuIGl0IHJlYWNoZXMgYSBsaW1pdCwgd2VcclxuICAgIC8vIHN0cmluZ2lmeSB3aGF0IHdlIGhhdmUgc28gZmFyIGFuZCBhcHBlbmQgdG8gYSBsaXN0IG9mIG91dHB1dHMuXHJcbiAgICBpZiAob3V0Lmxlbmd0aCA+IDEwMjQpIHtcclxuICAgICAgc3Vic3RyaW5ncy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgb3V0KSk7XHJcbiAgICAgIG91dC5sZW5ndGggPSAwO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3Vic3RyaW5ncy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgb3V0KSk7XHJcbiAgcmV0dXJuIHN1YnN0cmluZ3Muam9pbignJyk7XHJcbn1cclxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cclxuY29uc3QgdWludDY0SGlnaFBhcnRTaGlmdCA9IE1hdGgucG93KDIsIDMyKTtcclxuY29uc3QgbWF4U2FmZU51bWJlckhpZ2hQYXJ0ID0gTWF0aC5wb3coMiwgMjEpIC0gMTsgLy8gVGhlIGhpZ2gtb3JkZXIgaW50MzIgZnJvbSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUlxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRJbnQzMkxFKGJ1ZmZlcjogVWludDhBcnJheSwgcG9zaXRpb246IG51bWJlcik6IGFueSB7XHJcbiAgcmV0dXJuIChidWZmZXJbcG9zaXRpb25dKVxyXG4gICAgICAgIHwgKGJ1ZmZlcltwb3NpdGlvbiArIDFdIDw8IDgpXHJcbiAgICAgICAgfCAoYnVmZmVyW3Bvc2l0aW9uICsgMl0gPDwgMTYpXHJcbiAgICAgICAgfCAoYnVmZmVyW3Bvc2l0aW9uICsgM10gPDwgMjQpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVhZFVpbnQzMkxFKGJ1ZmZlcjogVWludDhBcnJheSwgcG9zaXRpb246IG51bWJlcik6IGFueSB7XHJcbiAgcmV0dXJuIChidWZmZXJbcG9zaXRpb25dKVxyXG4gICAgICAgICsgKGJ1ZmZlcltwb3NpdGlvbiArIDFdIDw8IDgpXHJcbiAgICAgICAgKyAoYnVmZmVyW3Bvc2l0aW9uICsgMl0gPDwgMTYpXHJcbiAgICAgICAgKyAoKGJ1ZmZlcltwb3NpdGlvbiArIDNdIDw8IDI0KSA+Pj4gMCk7IC8vIFRoZSA+Pj4gMCBjb2VyY2VzIHRoZSB2YWx1ZSB0byB1bnNpZ25lZFxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVhZFVpbnQ2NExFKGJ1ZmZlcjogVWludDhBcnJheSwgcG9zaXRpb246IG51bWJlcik6IGFueSB7XHJcbiAgLy8gVGhpcyBjYW5ub3QgYmUgZG9uZSB1c2luZyBiaXQtc2hpZnQgb3BlcmF0b3JzIGluIEphdmFTY3JpcHQsIGJlY2F1c2VcclxuICAvLyB0aG9zZSBhbGwgaW1wbGljaXRseSBjb252ZXJ0IHRvIGludDMyXHJcbiAgY29uc3QgaGlnaFBhcnQgPSByZWFkVWludDMyTEUoYnVmZmVyLCBwb3NpdGlvbiArIDQpO1xyXG4gIGlmIChoaWdoUGFydCA+IG1heFNhZmVOdW1iZXJIaWdoUGFydCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgcmVhZCB1aW50NjQgd2l0aCBoaWdoIG9yZGVyIHBhcnQgJHtoaWdoUGFydH0sIGJlY2F1c2UgdGhlIHJlc3VsdCB3b3VsZCBleGNlZWQgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIuYCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKGhpZ2hQYXJ0ICogdWludDY0SGlnaFBhcnRTaGlmdCkgKyByZWFkVWludDMyTEUoYnVmZmVyLCBwb3NpdGlvbik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWFkTEVCMTI4KGJ1ZmZlcjogVWludDhBcnJheSwgcG9zaXRpb246IG51bWJlcik6IG51bWJlciB7XHJcbiAgbGV0IHJlc3VsdCA9IDA7XHJcbiAgbGV0IHNoaWZ0ID0gMDtcclxuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgNDsgaW5kZXgrKykge1xyXG4gICAgY29uc3QgYnl0ZSA9IGJ1ZmZlcltwb3NpdGlvbiArIGluZGV4XTtcclxuICAgIHJlc3VsdCB8PSAoYnl0ZSAmIDEyNykgPDwgc2hpZnQ7XHJcbiAgICBpZiAoYnl0ZSA8IDEyOCkge1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICAgIHNoaWZ0ICs9IDc7XHJcbiAgfVxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBudW1MRUIxMjhCeXRlcyh2YWx1ZTogbnVtYmVyKTogMSB8IDIgfCAzIHwgNCB7XHJcbiAgcmV0dXJuIHZhbHVlIDwgMTI4ID8gMVxyXG4gICAgOiB2YWx1ZSA8IDE2Mzg0ID8gMlxyXG4gICAgICA6IHZhbHVlIDwgMjA5NzE1MiA/IDMgOiA0O1xyXG59XHJcbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuXHJcbmltcG9ydCB7IFJlbmRlckJhdGNoLCBBcnJheVJhbmdlLCBSZW5kZXJUcmVlRGlmZiwgQXJyYXlWYWx1ZXMsIFJlbmRlclRyZWVFZGl0LCBSZW5kZXJUcmVlRnJhbWUsIFJlbmRlclRyZWVEaWZmUmVhZGVyLCBSZW5kZXJUcmVlRnJhbWVSZWFkZXIsIFJlbmRlclRyZWVFZGl0UmVhZGVyLCBBcnJheVJhbmdlUmVhZGVyLCBBcnJheUJ1aWxkZXJTZWdtZW50UmVhZGVyLCBBcnJheUJ1aWxkZXJTZWdtZW50IH0gZnJvbSAnLi9SZW5kZXJCYXRjaCc7XHJcbmltcG9ydCB7IGRlY29kZVV0ZjggfSBmcm9tICcuLi8uLi9VdGY4RGVjb2Rlcic7XHJcbmltcG9ydCB7IHJlYWRJbnQzMkxFLCByZWFkVWludDY0TEUsIHJlYWRMRUIxMjgsIG51bUxFQjEyOEJ5dGVzIH0gZnJvbSAnLi4vLi4vQmluYXJ5RGVjb2Rlcic7XHJcblxyXG5jb25zdCB1cGRhdGVkQ29tcG9uZW50c0VudHJ5TGVuZ3RoID0gNDsgLy8gRWFjaCBpcyBhIHNpbmdsZSBpbnQzMiBnaXZpbmcgdGhlIGxvY2F0aW9uIG9mIHRoZSBkYXRhXHJcbmNvbnN0IHJlZmVyZW5jZUZyYW1lc0VudHJ5TGVuZ3RoID0gMjA7IC8vIDEgaW50IGZvciBmcmFtZSB0eXBlLCB0aGVuIDE2IGJ5dGVzIGZvciB0eXBlLXNwZWNpZmljIGRhdGFcclxuY29uc3QgZGlzcG9zZWRDb21wb25lbnRJZHNFbnRyeUxlbmd0aCA9IDQ7IC8vIEVhY2ggaXMgYW4gaW50MzIgZ2l2aW5nIHRoZSBJRFxyXG5jb25zdCBkaXNwb3NlZEV2ZW50SGFuZGxlcklkc0VudHJ5TGVuZ3RoID0gODsgLy8gRWFjaCBpcyBhbiBpbnQ2NCBnaXZpbmcgdGhlIElEXHJcbmNvbnN0IGVkaXRzRW50cnlMZW5ndGggPSAxNjsgLy8gNCBpbnRzXHJcbmNvbnN0IHN0cmluZ1RhYmxlRW50cnlMZW5ndGggPSA0OyAvLyBFYWNoIGlzIGFuIGludDMyIGdpdmluZyB0aGUgc3RyaW5nIGRhdGEgbG9jYXRpb24sIG9yIC0xIGZvciBudWxsXHJcblxyXG5leHBvcnQgY2xhc3MgT3V0T2ZQcm9jZXNzUmVuZGVyQmF0Y2ggaW1wbGVtZW50cyBSZW5kZXJCYXRjaCB7XHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBiYXRjaERhdGE6IFVpbnQ4QXJyYXkpIHtcclxuICAgIGNvbnN0IHN0cmluZ1JlYWRlciA9IG5ldyBPdXRPZlByb2Nlc3NTdHJpbmdSZWFkZXIoYmF0Y2hEYXRhKTtcclxuXHJcbiAgICB0aGlzLmFycmF5UmFuZ2VSZWFkZXIgPSBuZXcgT3V0T2ZQcm9jZXNzQXJyYXlSYW5nZVJlYWRlcihiYXRjaERhdGEpO1xyXG4gICAgdGhpcy5hcnJheUJ1aWxkZXJTZWdtZW50UmVhZGVyID0gbmV3IE91dE9mUHJvY2Vzc0FycmF5QnVpbGRlclNlZ21lbnRSZWFkZXIoYmF0Y2hEYXRhKTtcclxuICAgIHRoaXMuZGlmZlJlYWRlciA9IG5ldyBPdXRPZlByb2Nlc3NSZW5kZXJUcmVlRGlmZlJlYWRlcihiYXRjaERhdGEpO1xyXG4gICAgdGhpcy5lZGl0UmVhZGVyID0gbmV3IE91dE9mUHJvY2Vzc1JlbmRlclRyZWVFZGl0UmVhZGVyKGJhdGNoRGF0YSwgc3RyaW5nUmVhZGVyKTtcclxuICAgIHRoaXMuZnJhbWVSZWFkZXIgPSBuZXcgT3V0T2ZQcm9jZXNzUmVuZGVyVHJlZUZyYW1lUmVhZGVyKGJhdGNoRGF0YSwgc3RyaW5nUmVhZGVyKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZWRDb21wb25lbnRzKCk6IEFycmF5UmFuZ2U8UmVuZGVyVHJlZURpZmY+IHtcclxuICAgIHJldHVybiByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YSwgdGhpcy5iYXRjaERhdGEubGVuZ3RoIC0gMjApOyAvLyA1dGgtZnJvbS1sYXN0IGludDMyXHJcbiAgfVxyXG5cclxuICByZWZlcmVuY2VGcmFtZXMoKTogQXJyYXlSYW5nZTxSZW5kZXJUcmVlRnJhbWU+IHtcclxuICAgIHJldHVybiByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YSwgdGhpcy5iYXRjaERhdGEubGVuZ3RoIC0gMTYpOyAvLyA0dGgtZnJvbS1sYXN0IGludDMyXHJcbiAgfVxyXG5cclxuICBkaXNwb3NlZENvbXBvbmVudElkcygpOiBBcnJheVJhbmdlPG51bWJlcj4ge1xyXG4gICAgcmV0dXJuIHJlYWRJbnQzMkxFKHRoaXMuYmF0Y2hEYXRhLCB0aGlzLmJhdGNoRGF0YS5sZW5ndGggLSAxMik7IC8vIDNyZC1mcm9tLWxhc3QgaW50MzJcclxuICB9XHJcblxyXG4gIGRpc3Bvc2VkRXZlbnRIYW5kbGVySWRzKCk6IEFycmF5UmFuZ2U8bnVtYmVyPiB7XHJcbiAgICByZXR1cm4gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGEsIHRoaXMuYmF0Y2hEYXRhLmxlbmd0aCAtIDgpOyAvLyAydGgtZnJvbS1sYXN0IGludDMyXHJcbiAgfVxyXG5cclxuICB1cGRhdGVkQ29tcG9uZW50c0VudHJ5KHZhbHVlczogQXJyYXlWYWx1ZXM8UmVuZGVyVHJlZURpZmY+LCBpbmRleDogbnVtYmVyKTogUmVuZGVyVHJlZURpZmYge1xyXG4gICAgY29uc3QgdGFibGVFbnRyeVBvcyA9ICh2YWx1ZXMgYXMgYW55KSArIGluZGV4ICogdXBkYXRlZENvbXBvbmVudHNFbnRyeUxlbmd0aDtcclxuICAgIHJldHVybiByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YSwgdGFibGVFbnRyeVBvcyk7XHJcbiAgfVxyXG5cclxuICByZWZlcmVuY2VGcmFtZXNFbnRyeSh2YWx1ZXM6IEFycmF5VmFsdWVzPFJlbmRlclRyZWVGcmFtZT4sIGluZGV4OiBudW1iZXIpOiBSZW5kZXJUcmVlRnJhbWUge1xyXG4gICAgcmV0dXJuICh2YWx1ZXMgYXMgYW55KSArIGluZGV4ICogcmVmZXJlbmNlRnJhbWVzRW50cnlMZW5ndGggYXMgYW55O1xyXG4gIH1cclxuXHJcbiAgZGlzcG9zZWRDb21wb25lbnRJZHNFbnRyeSh2YWx1ZXM6IEFycmF5VmFsdWVzPG51bWJlcj4sIGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgY29uc3QgZW50cnlQb3MgPSAodmFsdWVzIGFzIGFueSkgKyBpbmRleCAqIGRpc3Bvc2VkQ29tcG9uZW50SWRzRW50cnlMZW5ndGg7XHJcbiAgICByZXR1cm4gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGEsIGVudHJ5UG9zKTtcclxuICB9XHJcblxyXG4gIGRpc3Bvc2VkRXZlbnRIYW5kbGVySWRzRW50cnkodmFsdWVzOiBBcnJheVZhbHVlczxudW1iZXI+LCBpbmRleDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IGVudHJ5UG9zID0gKHZhbHVlcyBhcyBhbnkpICsgaW5kZXggKiBkaXNwb3NlZEV2ZW50SGFuZGxlcklkc0VudHJ5TGVuZ3RoO1xyXG4gICAgcmV0dXJuIHJlYWRVaW50NjRMRSh0aGlzLmJhdGNoRGF0YSwgZW50cnlQb3MpO1xyXG4gIH1cclxuXHJcbiAgZGlmZlJlYWRlcjogUmVuZGVyVHJlZURpZmZSZWFkZXI7XHJcblxyXG4gIGVkaXRSZWFkZXI6IFJlbmRlclRyZWVFZGl0UmVhZGVyO1xyXG5cclxuICBmcmFtZVJlYWRlcjogUmVuZGVyVHJlZUZyYW1lUmVhZGVyO1xyXG5cclxuICBhcnJheVJhbmdlUmVhZGVyOiBBcnJheVJhbmdlUmVhZGVyO1xyXG5cclxuICBhcnJheUJ1aWxkZXJTZWdtZW50UmVhZGVyOiBBcnJheUJ1aWxkZXJTZWdtZW50UmVhZGVyO1xyXG59XHJcblxyXG5jbGFzcyBPdXRPZlByb2Nlc3NSZW5kZXJUcmVlRGlmZlJlYWRlciBpbXBsZW1lbnRzIFJlbmRlclRyZWVEaWZmUmVhZGVyIHtcclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGJhdGNoRGF0YVVpbnQ4OiBVaW50OEFycmF5KSB7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRJZChkaWZmOiBSZW5kZXJUcmVlRGlmZikge1xyXG4gICAgLy8gRmlyc3QgaW50MzIgaXMgY29tcG9uZW50SWRcclxuICAgIHJldHVybiByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YVVpbnQ4LCBkaWZmIGFzIGFueSk7XHJcbiAgfVxyXG5cclxuICBlZGl0cyhkaWZmOiBSZW5kZXJUcmVlRGlmZikge1xyXG4gICAgLy8gRW50cmllcyBkYXRhIHN0YXJ0cyBhZnRlciB0aGUgY29tcG9uZW50SWQgKHdoaWNoIGlzIGEgNC1ieXRlIGludClcclxuICAgIHJldHVybiAoZGlmZiBhcyBhbnkgKyA0KTtcclxuICB9XHJcblxyXG4gIGVkaXRzRW50cnkodmFsdWVzOiBBcnJheVZhbHVlczxSZW5kZXJUcmVlRWRpdD4sIGluZGV4OiBudW1iZXIpIHtcclxuICAgIHJldHVybiAodmFsdWVzIGFzIGFueSkgKyBpbmRleCAqIGVkaXRzRW50cnlMZW5ndGg7XHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBPdXRPZlByb2Nlc3NSZW5kZXJUcmVlRWRpdFJlYWRlciBpbXBsZW1lbnRzIFJlbmRlclRyZWVFZGl0UmVhZGVyIHtcclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGJhdGNoRGF0YVVpbnQ4OiBVaW50OEFycmF5LCBwcml2YXRlIHN0cmluZ1JlYWRlcjogT3V0T2ZQcm9jZXNzU3RyaW5nUmVhZGVyKSB7XHJcbiAgfVxyXG5cclxuICBlZGl0VHlwZShlZGl0OiBSZW5kZXJUcmVlRWRpdCkge1xyXG4gICAgcmV0dXJuIHJlYWRJbnQzMkxFKHRoaXMuYmF0Y2hEYXRhVWludDgsIGVkaXQgYXMgYW55KTsgLy8gMXN0IGludFxyXG4gIH1cclxuXHJcbiAgc2libGluZ0luZGV4KGVkaXQ6IFJlbmRlclRyZWVFZGl0KSB7XHJcbiAgICByZXR1cm4gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZWRpdCBhcyBhbnkgKyA0KTsgLy8gMm5kIGludFxyXG4gIH1cclxuXHJcbiAgbmV3VHJlZUluZGV4KGVkaXQ6IFJlbmRlclRyZWVFZGl0KSB7XHJcbiAgICByZXR1cm4gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZWRpdCBhcyBhbnkgKyA4KTsgLy8gM3JkIGludFxyXG4gIH1cclxuXHJcbiAgbW92ZVRvU2libGluZ0luZGV4KGVkaXQ6IFJlbmRlclRyZWVFZGl0KSB7XHJcbiAgICByZXR1cm4gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZWRpdCBhcyBhbnkgKyA4KTsgLy8gM3JkIGludFxyXG4gIH1cclxuXHJcbiAgcmVtb3ZlZEF0dHJpYnV0ZU5hbWUoZWRpdDogUmVuZGVyVHJlZUVkaXQpIHtcclxuICAgIGNvbnN0IHN0cmluZ0luZGV4ID0gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZWRpdCBhcyBhbnkgKyAxMik7IC8vIDR0aCBpbnRcclxuICAgIHJldHVybiB0aGlzLnN0cmluZ1JlYWRlci5yZWFkU3RyaW5nKHN0cmluZ0luZGV4KTtcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIE91dE9mUHJvY2Vzc1JlbmRlclRyZWVGcmFtZVJlYWRlciBpbXBsZW1lbnRzIFJlbmRlclRyZWVGcmFtZVJlYWRlciB7XHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBiYXRjaERhdGFVaW50ODogVWludDhBcnJheSwgcHJpdmF0ZSBzdHJpbmdSZWFkZXI6IE91dE9mUHJvY2Vzc1N0cmluZ1JlYWRlcikge1xyXG4gIH1cclxuXHJcbiAgLy8gRm9yIHJlbmRlciBmcmFtZXMsIHRoZSAybmQtNHRoIGludHMgaGF2ZSBkaWZmZXJlbnQgbWVhbmluZ3MgZGVwZW5kaW5nIG9uIGZyYW1lVHlwZS5cclxuICAvLyBJdCdzIHRoZSBjYWxsZXIncyByZXNwb25zaWJpbGl0eSBub3QgdG8gZXZhbHVhdGUgcHJvcGVydGllcyB0aGF0IGFyZW4ndCBhcHBsaWNhYmxlIHRvIHRoZSBmcmFtZVR5cGUuXHJcblxyXG4gIGZyYW1lVHlwZShmcmFtZTogUmVuZGVyVHJlZUZyYW1lKSB7XHJcbiAgICByZXR1cm4gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZnJhbWUgYXMgYW55KTsgLy8gMXN0IGludFxyXG4gIH1cclxuXHJcbiAgc3VidHJlZUxlbmd0aChmcmFtZTogUmVuZGVyVHJlZUZyYW1lKSB7XHJcbiAgICByZXR1cm4gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZnJhbWUgYXMgYW55ICsgNCk7IC8vIDJuZCBpbnRcclxuICB9XHJcblxyXG4gIGVsZW1lbnRSZWZlcmVuY2VDYXB0dXJlSWQoZnJhbWU6IFJlbmRlclRyZWVGcmFtZSkge1xyXG4gICAgY29uc3Qgc3RyaW5nSW5kZXggPSByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YVVpbnQ4LCBmcmFtZSBhcyBhbnkgKyA0KTsgLy8gMm5kIGludFxyXG4gICAgcmV0dXJuIHRoaXMuc3RyaW5nUmVhZGVyLnJlYWRTdHJpbmcoc3RyaW5nSW5kZXgpO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50SWQoZnJhbWU6IFJlbmRlclRyZWVGcmFtZSkge1xyXG4gICAgcmV0dXJuIHJlYWRJbnQzMkxFKHRoaXMuYmF0Y2hEYXRhVWludDgsIGZyYW1lIGFzIGFueSArIDgpOyAvLyAzcmQgaW50XHJcbiAgfVxyXG5cclxuICBlbGVtZW50TmFtZShmcmFtZTogUmVuZGVyVHJlZUZyYW1lKSB7XHJcbiAgICBjb25zdCBzdHJpbmdJbmRleCA9IHJlYWRJbnQzMkxFKHRoaXMuYmF0Y2hEYXRhVWludDgsIGZyYW1lIGFzIGFueSArIDgpOyAvLyAzcmQgaW50XHJcbiAgICByZXR1cm4gdGhpcy5zdHJpbmdSZWFkZXIucmVhZFN0cmluZyhzdHJpbmdJbmRleCk7XHJcbiAgfVxyXG5cclxuICB0ZXh0Q29udGVudChmcmFtZTogUmVuZGVyVHJlZUZyYW1lKSB7XHJcbiAgICBjb25zdCBzdHJpbmdJbmRleCA9IHJlYWRJbnQzMkxFKHRoaXMuYmF0Y2hEYXRhVWludDgsIGZyYW1lIGFzIGFueSArIDQpOyAvLyAybmQgaW50XHJcbiAgICByZXR1cm4gdGhpcy5zdHJpbmdSZWFkZXIucmVhZFN0cmluZyhzdHJpbmdJbmRleCk7XHJcbiAgfVxyXG5cclxuICBtYXJrdXBDb250ZW50KGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpIHtcclxuICAgIGNvbnN0IHN0cmluZ0luZGV4ID0gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZnJhbWUgYXMgYW55ICsgNCk7IC8vIDJuZCBpbnRcclxuICAgIHJldHVybiB0aGlzLnN0cmluZ1JlYWRlci5yZWFkU3RyaW5nKHN0cmluZ0luZGV4KSE7XHJcbiAgfVxyXG5cclxuICBhdHRyaWJ1dGVOYW1lKGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpIHtcclxuICAgIGNvbnN0IHN0cmluZ0luZGV4ID0gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZnJhbWUgYXMgYW55ICsgNCk7IC8vIDJuZCBpbnRcclxuICAgIHJldHVybiB0aGlzLnN0cmluZ1JlYWRlci5yZWFkU3RyaW5nKHN0cmluZ0luZGV4KTtcclxuICB9XHJcblxyXG4gIGF0dHJpYnV0ZVZhbHVlKGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpIHtcclxuICAgIGNvbnN0IHN0cmluZ0luZGV4ID0gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZnJhbWUgYXMgYW55ICsgOCk7IC8vIDNyZCBpbnRcclxuICAgIHJldHVybiB0aGlzLnN0cmluZ1JlYWRlci5yZWFkU3RyaW5nKHN0cmluZ0luZGV4KTtcclxuICB9XHJcblxyXG4gIGF0dHJpYnV0ZUV2ZW50SGFuZGxlcklkKGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpIHtcclxuICAgIHJldHVybiByZWFkVWludDY0TEUodGhpcy5iYXRjaERhdGFVaW50OCwgZnJhbWUgYXMgYW55ICsgMTIpOyAvLyBCeXRlcyAxMi0xOVxyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgT3V0T2ZQcm9jZXNzU3RyaW5nUmVhZGVyIHtcclxuICBwcml2YXRlIHN0cmluZ1RhYmxlU3RhcnRJbmRleDogbnVtYmVyO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGJhdGNoRGF0YVVpbnQ4OiBVaW50OEFycmF5KSB7XHJcbiAgICAvLyBGaW5hbCBpbnQgZ2l2ZXMgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHN0cmluZyB0YWJsZVxyXG4gICAgdGhpcy5zdHJpbmdUYWJsZVN0YXJ0SW5kZXggPSByZWFkSW50MzJMRShiYXRjaERhdGFVaW50OCwgYmF0Y2hEYXRhVWludDgubGVuZ3RoIC0gNCk7XHJcbiAgfVxyXG5cclxuICByZWFkU3RyaW5nKGluZGV4OiBudW1iZXIpOiBzdHJpbmcgfCBudWxsIHtcclxuICAgIGlmIChpbmRleCA9PT0gLTEpIHsgLy8gU3BlY2lhbCB2YWx1ZSBlbmNvZGVzICdudWxsJ1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHN0cmluZ1RhYmxlRW50cnlQb3MgPSByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YVVpbnQ4LCB0aGlzLnN0cmluZ1RhYmxlU3RhcnRJbmRleCArIGluZGV4ICogc3RyaW5nVGFibGVFbnRyeUxlbmd0aCk7XHJcblxyXG4gICAgICAvLyBCeSBkZWZhdWx0LCAuTkVUJ3MgQmluYXJ5V3JpdGVyIGdpdmVzIExFQjEyOC1sZW5ndGgtcHJlZml4ZWQgVVRGLTggZGF0YS5cclxuICAgICAgLy8gVGhpcyBpcyBjb252ZW5pZW50IGVub3VnaCB0byBkZWNvZGUgaW4gSmF2YVNjcmlwdC5cclxuICAgICAgY29uc3QgbnVtVXRmOEJ5dGVzID0gcmVhZExFQjEyOCh0aGlzLmJhdGNoRGF0YVVpbnQ4LCBzdHJpbmdUYWJsZUVudHJ5UG9zKTtcclxuICAgICAgY29uc3QgY2hhcnNTdGFydCA9IHN0cmluZ1RhYmxlRW50cnlQb3MgKyBudW1MRUIxMjhCeXRlcyhudW1VdGY4Qnl0ZXMpO1xyXG4gICAgICBjb25zdCB1dGY4RGF0YSA9IG5ldyBVaW50OEFycmF5KFxyXG4gICAgICAgIHRoaXMuYmF0Y2hEYXRhVWludDguYnVmZmVyLFxyXG4gICAgICAgIHRoaXMuYmF0Y2hEYXRhVWludDguYnl0ZU9mZnNldCArIGNoYXJzU3RhcnQsXHJcbiAgICAgICAgbnVtVXRmOEJ5dGVzXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiBkZWNvZGVVdGY4KHV0ZjhEYXRhKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIE91dE9mUHJvY2Vzc0FycmF5UmFuZ2VSZWFkZXIgaW1wbGVtZW50cyBBcnJheVJhbmdlUmVhZGVyIHtcclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGJhdGNoRGF0YVVpbnQ4OiBVaW50OEFycmF5KSB7XHJcbiAgfVxyXG5cclxuICBjb3VudDxUPihhcnJheVJhbmdlOiBBcnJheVJhbmdlPFQ+KSB7XHJcbiAgICAvLyBGaXJzdCBpbnQgaXMgY291bnRcclxuICAgIHJldHVybiByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YVVpbnQ4LCBhcnJheVJhbmdlIGFzIGFueSk7XHJcbiAgfVxyXG5cclxuICB2YWx1ZXM8VD4oYXJyYXlSYW5nZTogQXJyYXlSYW5nZTxUPikge1xyXG4gICAgLy8gRW50cmllcyBkYXRhIHN0YXJ0cyBhZnRlciB0aGUgJ2NvdW50JyBpbnQgKGkuZS4sIGFmdGVyIDQgYnl0ZXMpXHJcbiAgICByZXR1cm4gYXJyYXlSYW5nZSBhcyBhbnkgKyA0O1xyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgT3V0T2ZQcm9jZXNzQXJyYXlCdWlsZGVyU2VnbWVudFJlYWRlciBpbXBsZW1lbnRzIEFycmF5QnVpbGRlclNlZ21lbnRSZWFkZXIge1xyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgYmF0Y2hEYXRhVWludDg6IFVpbnQ4QXJyYXkpIHtcclxuICB9XHJcblxyXG4gIG9mZnNldDxUPihfYXJyYXlCdWlsZGVyU2VnbWVudDogQXJyYXlCdWlsZGVyU2VnbWVudDxUPik6IG51bWJlciB7XHJcbiAgICAvLyBOb3QgdXNlZCBieSB0aGUgb3V0LW9mLXByb2Nlc3MgcmVwcmVzZW50YXRpb24gb2YgUmVuZGVyQmF0Y2ggZGF0YS5cclxuICAgIC8vIFRoaXMgb25seSBleGlzdHMgb24gdGhlIEFycmF5QnVpbGRlclNlZ21lbnRSZWFkZXIgZm9yIHRoZSBzaGFyZWQtbWVtb3J5IHJlcHJlc2VudGF0aW9uLlxyXG4gICAgcmV0dXJuIDA7XHJcbiAgfVxyXG5cclxuICBjb3VudDxUPihhcnJheUJ1aWxkZXJTZWdtZW50OiBBcnJheUJ1aWxkZXJTZWdtZW50PFQ+KSB7XHJcbiAgICAvLyBGaXJzdCBpbnQgaXMgY291bnRcclxuICAgIHJldHVybiByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YVVpbnQ4LCBhcnJheUJ1aWxkZXJTZWdtZW50IGFzIGFueSk7XHJcbiAgfVxyXG5cclxuICB2YWx1ZXM8VD4oYXJyYXlCdWlsZGVyU2VnbWVudDogQXJyYXlCdWlsZGVyU2VnbWVudDxUPik6IEFycmF5VmFsdWVzPFQ+IHtcclxuICAgIC8vIEVudHJpZXMgZGF0YSBzdGFydHMgYWZ0ZXIgdGhlICdjb3VudCcgaW50IChpLmUuLCBhZnRlciA0IGJ5dGVzKVxyXG4gICAgcmV0dXJuIGFycmF5QnVpbGRlclNlZ21lbnQgYXMgYW55ICsgNDtcclxuICB9XHJcbn1cclxuXHJcblxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5jb25zdCBpcGNNZXNzYWdlUHJlZml4ID0gJ19fYnd2Oic7XHJcbmxldCBhcHBsaWNhdGlvbklzVGVybWluYXRlZCA9IGZhbHNlO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyeVNlcmlhbGl6ZU1lc3NhZ2UobWVzc2FnZVR5cGU6IHN0cmluZywgYXJnczogYW55W10pOiBzdHJpbmcgfCBudWxsIHtcclxuICByZXR1cm4gYXBwbGljYXRpb25Jc1Rlcm1pbmF0ZWRcclxuICAgID8gbnVsbFxyXG4gICAgOiBgJHtpcGNNZXNzYWdlUHJlZml4fSR7SlNPTi5zdHJpbmdpZnkoW21lc3NhZ2VUeXBlLCAuLi5hcmdzXSl9YDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyeURlc2VyaWFsaXplTWVzc2FnZShtZXNzYWdlOiBzdHJpbmcpOiBJcGNNZXNzYWdlIHwgbnVsbCB7XHJcbiAgaWYgKGFwcGxpY2F0aW9uSXNUZXJtaW5hdGVkIHx8ICFtZXNzYWdlIHx8ICFtZXNzYWdlLnN0YXJ0c1dpdGgoaXBjTWVzc2FnZVByZWZpeCkpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbWVzc2FnZUFmdGVyUHJlZml4ID0gbWVzc2FnZS5zdWJzdHJpbmcoaXBjTWVzc2FnZVByZWZpeC5sZW5ndGgpO1xyXG4gIGNvbnN0IFttZXNzYWdlVHlwZSwgLi4uYXJnc10gPSBKU09OLnBhcnNlKG1lc3NhZ2VBZnRlclByZWZpeCk7XHJcbiAgcmV0dXJuIHsgbWVzc2FnZVR5cGUsIGFyZ3MgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEFwcGxpY2F0aW9uSXNUZXJtaW5hdGVkKCk6IHZvaWQge1xyXG4gIC8vIElmIHRoZXJlJ3MgYW4gdW5oYW5kbGVkIGV4Y2VwdGlvbiwgd2UnbGwgcHJldmVudCB0aGUgd2VidmlldyBmcm9tIGRvaW5nIGFueXRoaW5nIGVsc2UgdW50aWxcclxuICAvLyBpdCByZWxvYWRzIHRoZSBwYWdlLiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gd2hhdCBoYXBwZW5zIGluIEJsYXpvciBTZXJ2ZXIsIGFuZCBhdm9pZHMgYW55b25lXHJcbiAgLy8gdGFraW5nIGEgZGVwZW5kZW5jeSBvbiBiZWluZyBhYmxlIHRvIGNvbnRpbnVlIGludGVyYWN0aW5nIGFmdGVyIGEgZmF0YWwgZXJyb3IuXHJcbiAgYXBwbGljYXRpb25Jc1Rlcm1pbmF0ZWQgPSB0cnVlO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSXBjTWVzc2FnZSB7XHJcbiAgbWVzc2FnZVR5cGU6IHN0cmluZztcclxuICBhcmdzOiB1bmtub3duW107XHJcbn1cclxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cclxuaW1wb3J0IHsgdHJ5U2VyaWFsaXplTWVzc2FnZSB9IGZyb20gJy4vV2ViVmlld0lwY0NvbW1vbic7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2VuZEF0dGFjaFBhZ2UoYmFzZVVybDogc3RyaW5nLCBzdGFydFVybDogc3RyaW5nKTogdm9pZCB7XHJcbiAgc2VuZCgnQXR0YWNoUGFnZScsIGJhc2VVcmwsIHN0YXJ0VXJsKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRSZW5kZXJDb21wbGV0ZWQoYmF0Y2hJZDogbnVtYmVyLCBlcnJvck9yTnVsbDogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xyXG4gIHNlbmQoJ09uUmVuZGVyQ29tcGxldGVkJywgYmF0Y2hJZCwgZXJyb3JPck51bGwpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2VuZEJlZ2luSW52b2tlRG90TmV0RnJvbUpTKGNhbGxJZDogbnVtYmVyLCBhc3NlbWJseU5hbWU6IHN0cmluZyB8IG51bGwsIG1ldGhvZElkZW50aWZpZXI6IHN0cmluZywgZG90TmV0T2JqZWN0SWQ6IG51bWJlciB8IG51bGwsIGFyZ3NKc29uOiBzdHJpbmcpOiB2b2lkIHtcclxuICBzZW5kKCdCZWdpbkludm9rZURvdE5ldCcsIGNhbGxJZCA/IGNhbGxJZC50b1N0cmluZygpIDogbnVsbCwgYXNzZW1ibHlOYW1lLCBtZXRob2RJZGVudGlmaWVyLCBkb3ROZXRPYmplY3RJZCB8fCAwLCBhcmdzSnNvbik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZW5kRW5kSW52b2tlSlNGcm9tRG90TmV0KGFzeW5jSGFuZGxlOiBudW1iZXIsIHN1Y2NlZWRlZDogYm9vbGVhbiwgYXJnc0pzb246IGFueSk6IHZvaWQge1xyXG4gIHNlbmQoJ0VuZEludm9rZUpTJywgYXN5bmNIYW5kbGUsIHN1Y2NlZWRlZCwgYXJnc0pzb24pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2VuZEJ5dGVBcnJheShpZDogbnVtYmVyLCBkYXRhOiBVaW50OEFycmF5KTogdm9pZCB7XHJcbiAgY29uc3QgZGF0YUJhc2U2NEVuY29kZWQgPSBiYXNlNjRFbmNvZGVCeXRlQXJyYXkoZGF0YSk7XHJcbiAgc2VuZCgnUmVjZWl2ZUJ5dGVBcnJheUZyb21KUycsIGlkLCBkYXRhQmFzZTY0RW5jb2RlZCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJhc2U2NEVuY29kZUJ5dGVBcnJheShkYXRhOiBVaW50OEFycmF5KSB7XHJcbiAgLy8gQmFzZTY0IGVuY29kZSBhIChsYXJnZSkgYnl0ZSBhcnJheVxyXG4gIC8vIE5vdGUgYGJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBkYXRhIGFzIHVua25vd24gYXMgbnVtYmVyW10pKTtgXHJcbiAgLy8gaXNuJ3Qgc3VmZmljaWVudCBhcyB0aGUgYGFwcGx5YCBvdmVyIGEgbGFyZ2UgYXJyYXkgb3ZlcmZsb3dzIHRoZSBzdGFjay5cclxuICBjb25zdCBjaGFyQnl0ZXMgPSBuZXcgQXJyYXkoZGF0YS5sZW5ndGgpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgY2hhckJ5dGVzW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZShkYXRhW2ldKTtcclxuICB9XHJcbiAgY29uc3QgZGF0YUJhc2U2NEVuY29kZWQgPSBidG9hKGNoYXJCeXRlcy5qb2luKCcnKSk7XHJcbiAgcmV0dXJuIGRhdGFCYXNlNjRFbmNvZGVkO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2VuZExvY2F0aW9uQ2hhbmdlZCh1cmk6IHN0cmluZywgc3RhdGU6IHN0cmluZyB8IHVuZGVmaW5lZCwgaW50ZXJjZXB0ZWQ6IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+IHtcclxuICBzZW5kKCdPbkxvY2F0aW9uQ2hhbmdlZCcsIHVyaSwgc3RhdGUsIGludGVyY2VwdGVkKTtcclxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7IC8vIExpa2UgaW4gQmxhem9yIFNlcnZlciwgd2Ugb25seSBpc3N1ZSB0aGUgbm90aWZpY2F0aW9uIGhlcmUgLSB0aGVyZSdzIG5vIG5lZWQgdG8gd2FpdCBmb3IgYSByZXNwb25zZVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2VuZExvY2F0aW9uQ2hhbmdpbmcoY2FsbElkOiBudW1iZXIsIHVyaTogc3RyaW5nLCBzdGF0ZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBpbnRlcmNlcHRlZDogYm9vbGVhbik6IFByb21pc2U8dm9pZD4ge1xyXG4gIHNlbmQoJ09uTG9jYXRpb25DaGFuZ2luZycsIGNhbGxJZCwgdXJpLCBzdGF0ZSwgaW50ZXJjZXB0ZWQpO1xyXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTsgLy8gTGlrZSBpbiBCbGF6b3IgU2VydmVyLCB3ZSBvbmx5IGlzc3VlIHRoZSBub3RpZmljYXRpb24gaGVyZSAtIHRoZXJlJ3Mgbm8gbmVlZCB0byB3YWl0IGZvciBhIHJlc3BvbnNlXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNlbmQobWVzc2FnZVR5cGU6IHN0cmluZywgLi4uYXJnczogdW5rbm93bltdKSB7XHJcbiAgY29uc3Qgc2VyaWFsaXplZE1lc3NhZ2UgPSB0cnlTZXJpYWxpemVNZXNzYWdlKG1lc3NhZ2VUeXBlLCBhcmdzKTtcclxuICBpZiAoc2VyaWFsaXplZE1lc3NhZ2UpIHtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAod2luZG93LmV4dGVybmFsIGFzIGFueSkuc2VuZE1lc3NhZ2Uoc2VyaWFsaXplZE1lc3NhZ2UpO1xyXG4gIH1cclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG4vLyBUaGVzZSBJRHMgbmVlZCB0byBiZSBrZXB0IGluIHN5bmMgd2l0aCBSZW5kZXJlcklkLmNzXHJcbmV4cG9ydCBlbnVtIFdlYlJlbmRlcmVySWQge1xyXG4gIERlZmF1bHQgPSAwLFxyXG4gIFNlcnZlciA9IDEsXHJcbiAgV2ViQXNzZW1ibHkgPSAyLFxyXG4gIFdlYlZpZXcgPSAzLFxyXG59XHJcbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuXHJcbi8vIFRoZXNlIHZhbHVlcyBhcmUgZGVzaWduZWQgdG8gbWF0Y2ggdGhlIEFTUC5ORVQgTG9nIExldmVscyBzaW5jZSB0aGF0J3MgdGhlIHBhdHRlcm4gd2UncmUgZW11bGF0aW5nIGhlcmUuXHJcbi8qKiBJbmRpY2F0ZXMgdGhlIHNldmVyaXR5IG9mIGEgbG9nIG1lc3NhZ2UuXHJcbiAqXHJcbiAqIExvZyBMZXZlbHMgYXJlIG9yZGVyZWQgaW4gaW5jcmVhc2luZyBzZXZlcml0eS4gU28gYERlYnVnYCBpcyBtb3JlIHNldmVyZSB0aGFuIGBUcmFjZWAsIGV0Yy5cclxuICovXHJcbmV4cG9ydCBlbnVtIExvZ0xldmVsIHtcclxuICAvKiogTG9nIGxldmVsIGZvciB2ZXJ5IGxvdyBzZXZlcml0eSBkaWFnbm9zdGljIG1lc3NhZ2VzLiAqL1xyXG4gIFRyYWNlID0gMCxcclxuICAvKiogTG9nIGxldmVsIGZvciBsb3cgc2V2ZXJpdHkgZGlhZ25vc3RpYyBtZXNzYWdlcy4gKi9cclxuICBEZWJ1ZyA9IDEsXHJcbiAgLyoqIExvZyBsZXZlbCBmb3IgaW5mb3JtYXRpb25hbCBkaWFnbm9zdGljIG1lc3NhZ2VzLiAqL1xyXG4gIEluZm9ybWF0aW9uID0gMixcclxuICAvKiogTG9nIGxldmVsIGZvciBkaWFnbm9zdGljIG1lc3NhZ2VzIHRoYXQgaW5kaWNhdGUgYSBub24tZmF0YWwgcHJvYmxlbS4gKi9cclxuICBXYXJuaW5nID0gMyxcclxuICAvKiogTG9nIGxldmVsIGZvciBkaWFnbm9zdGljIG1lc3NhZ2VzIHRoYXQgaW5kaWNhdGUgYSBmYWlsdXJlIGluIHRoZSBjdXJyZW50IG9wZXJhdGlvbi4gKi9cclxuICBFcnJvciA9IDQsXHJcbiAgLyoqIExvZyBsZXZlbCBmb3IgZGlhZ25vc3RpYyBtZXNzYWdlcyB0aGF0IGluZGljYXRlIGEgZmFpbHVyZSB0aGF0IHdpbGwgdGVybWluYXRlIHRoZSBlbnRpcmUgYXBwbGljYXRpb24uICovXHJcbiAgQ3JpdGljYWwgPSA1LFxyXG4gIC8qKiBUaGUgaGlnaGVzdCBwb3NzaWJsZSBsb2cgbGV2ZWwuIFVzZWQgd2hlbiBjb25maWd1cmluZyBsb2dnaW5nIHRvIGluZGljYXRlIHRoYXQgbm8gbG9nIG1lc3NhZ2VzIHNob3VsZCBiZSBlbWl0dGVkLiAqL1xyXG4gIE5vbmUgPSA2LFxyXG59XHJcblxyXG4vKiogQW4gYWJzdHJhY3Rpb24gdGhhdCBwcm92aWRlcyBhIHNpbmsgZm9yIGRpYWdub3N0aWMgbWVzc2FnZXMuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTG9nZ2VyIHtcclxuICAvKiogQ2FsbGVkIGJ5IHRoZSBmcmFtZXdvcmsgdG8gZW1pdCBhIGRpYWdub3N0aWMgbWVzc2FnZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TG9nTGV2ZWx9IGxvZ0xldmVsIFRoZSBzZXZlcml0eSBsZXZlbCBvZiB0aGUgbWVzc2FnZS5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgbWVzc2FnZS5cclxuICAgKi9cclxuICBsb2cobG9nTGV2ZWw6IExvZ0xldmVsLCBtZXNzYWdlOiBzdHJpbmcgfCBFcnJvcik6IHZvaWQ7XHJcbn1cclxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cclxuaW1wb3J0IHsgc2hvd0Vycm9yTm90aWZpY2F0aW9uIH0gZnJvbSAnLi4vLi4vQm9vdEVycm9ycyc7XHJcbmltcG9ydCB7IE91dE9mUHJvY2Vzc1JlbmRlckJhdGNoIH0gZnJvbSAnLi4vLi4vUmVuZGVyaW5nL1JlbmRlckJhdGNoL091dE9mUHJvY2Vzc1JlbmRlckJhdGNoJztcclxuaW1wb3J0IHsgYXR0YWNoUm9vdENvbXBvbmVudFRvRWxlbWVudCwgcmVuZGVyQmF0Y2ggfSBmcm9tICcuLi8uLi9SZW5kZXJpbmcvUmVuZGVyZXInO1xyXG5pbXBvcnQgeyBzZXRBcHBsaWNhdGlvbklzVGVybWluYXRlZCwgdHJ5RGVzZXJpYWxpemVNZXNzYWdlIH0gZnJvbSAnLi9XZWJWaWV3SXBjQ29tbW9uJztcclxuaW1wb3J0IHsgc2VuZFJlbmRlckNvbXBsZXRlZCB9IGZyb20gJy4vV2ViVmlld0lwY1NlbmRlcic7XHJcbmltcG9ydCB7IGludGVybmFsRnVuY3Rpb25zIGFzIG5hdmlnYXRpb25NYW5hZ2VyRnVuY3Rpb25zIH0gZnJvbSAnLi4vLi4vU2VydmljZXMvTmF2aWdhdGlvbk1hbmFnZXInO1xyXG5pbXBvcnQgeyBkaXNwYXRjaGVyIH0gZnJvbSAnLi4vLi4vQm9vdC5XZWJWaWV3JztcclxuaW1wb3J0IHsgV2ViUmVuZGVyZXJJZCB9IGZyb20gJy4uLy4uL1JlbmRlcmluZy9XZWJSZW5kZXJlcklkJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdGFydElwY1JlY2VpdmVyKCk6IHZvaWQge1xyXG4gIGNvbnN0IG1lc3NhZ2VIYW5kbGVycyA9IHtcclxuXHJcbiAgICAnQXR0YWNoVG9Eb2N1bWVudCc6IChjb21wb25lbnRJZDogbnVtYmVyLCBlbGVtZW50U2VsZWN0b3I6IHN0cmluZykgPT4ge1xyXG4gICAgICBhdHRhY2hSb290Q29tcG9uZW50VG9FbGVtZW50KGVsZW1lbnRTZWxlY3RvciwgY29tcG9uZW50SWQsIFdlYlJlbmRlcmVySWQuV2ViVmlldyk7XHJcbiAgICB9LFxyXG5cclxuICAgICdSZW5kZXJCYXRjaCc6IChiYXRjaElkOiBudW1iZXIsIGJhdGNoRGF0YUJhc2U2NDogc3RyaW5nKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgYmF0Y2hEYXRhID0gYmFzZTY0VG9BcnJheUJ1ZmZlcihiYXRjaERhdGFCYXNlNjQpO1xyXG4gICAgICAgIHJlbmRlckJhdGNoKFdlYlJlbmRlcmVySWQuV2ViVmlldywgbmV3IE91dE9mUHJvY2Vzc1JlbmRlckJhdGNoKGJhdGNoRGF0YSkpO1xyXG4gICAgICAgIHNlbmRSZW5kZXJDb21wbGV0ZWQoYmF0Y2hJZCwgbnVsbCk7XHJcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgc2VuZFJlbmRlckNvbXBsZXRlZChiYXRjaElkLCAoZXggYXMgRXJyb3IpLnRvU3RyaW5nKCkpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgICdOb3RpZnlVbmhhbmRsZWRFeGNlcHRpb24nOiAobWVzc2FnZTogc3RyaW5nLCBzdGFja1RyYWNlOiBzdHJpbmcpID0+IHtcclxuICAgICAgc2V0QXBwbGljYXRpb25Jc1Rlcm1pbmF0ZWQoKTtcclxuICAgICAgY29uc29sZS5lcnJvcihgJHttZXNzYWdlfVxcbiR7c3RhY2tUcmFjZX1gKTtcclxuICAgICAgc2hvd0Vycm9yTm90aWZpY2F0aW9uKCk7XHJcbiAgICB9LFxyXG5cclxuICAgICdCZWdpbkludm9rZUpTJzogZGlzcGF0Y2hlci5iZWdpbkludm9rZUpTRnJvbURvdE5ldC5iaW5kKGRpc3BhdGNoZXIpLFxyXG5cclxuICAgICdFbmRJbnZva2VEb3ROZXQnOiBkaXNwYXRjaGVyLmVuZEludm9rZURvdE5ldEZyb21KUy5iaW5kKGRpc3BhdGNoZXIpLFxyXG5cclxuICAgICdTZW5kQnl0ZUFycmF5VG9KUyc6IHJlY2VpdmVCYXNlNjRCeXRlQXJyYXksXHJcblxyXG4gICAgJ05hdmlnYXRlJzogbmF2aWdhdGlvbk1hbmFnZXJGdW5jdGlvbnMubmF2aWdhdGVUbyxcclxuXHJcbiAgICAnUmVmcmVzaCc6IG5hdmlnYXRpb25NYW5hZ2VyRnVuY3Rpb25zLnJlZnJlc2gsXHJcblxyXG4gICAgJ1NldEhhc0xvY2F0aW9uQ2hhbmdpbmdMaXN0ZW5lcnMnOiAoaGFzTGlzdGVuZXJzOiBib29sZWFuKSA9PiB7XHJcbiAgICAgIG5hdmlnYXRpb25NYW5hZ2VyRnVuY3Rpb25zLnNldEhhc0xvY2F0aW9uQ2hhbmdpbmdMaXN0ZW5lcnMoV2ViUmVuZGVyZXJJZC5XZWJWaWV3LCBoYXNMaXN0ZW5lcnMpO1xyXG4gICAgfSxcclxuXHJcbiAgICAnRW5kTG9jYXRpb25DaGFuZ2luZyc6IG5hdmlnYXRpb25NYW5hZ2VyRnVuY3Rpb25zLmVuZExvY2F0aW9uQ2hhbmdpbmcsXHJcbiAgfTtcclxuXHJcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAod2luZG93LmV4dGVybmFsIGFzIGFueSkucmVjZWl2ZU1lc3NhZ2UoKG1lc3NhZ2U6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3QgcGFyc2VkTWVzc2FnZSA9IHRyeURlc2VyaWFsaXplTWVzc2FnZShtZXNzYWdlKTtcclxuICAgIGlmIChwYXJzZWRNZXNzYWdlKSB7XHJcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobWVzc2FnZUhhbmRsZXJzLCBwYXJzZWRNZXNzYWdlLm1lc3NhZ2VUeXBlKSkge1xyXG4gICAgICAgIG1lc3NhZ2VIYW5kbGVyc1twYXJzZWRNZXNzYWdlLm1lc3NhZ2VUeXBlXS5hcHBseShudWxsLCBwYXJzZWRNZXNzYWdlLmFyZ3MpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgSVBDIG1lc3NhZ2UgdHlwZSAnJHtwYXJzZWRNZXNzYWdlLm1lc3NhZ2VUeXBlfSdgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWNlaXZlQmFzZTY0Qnl0ZUFycmF5KGlkOiBudW1iZXIsIGJhc2U2NERhdGE6IHN0cmluZykge1xyXG4gIGNvbnN0IGRhdGEgPSBiYXNlNjRUb0FycmF5QnVmZmVyKGJhc2U2NERhdGEpO1xyXG4gIGRpc3BhdGNoZXIucmVjZWl2ZUJ5dGVBcnJheShpZCwgZGF0YSk7XHJcbn1cclxuXHJcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTc5NzM4MVxyXG4vLyBUT0RPOiBJZiB0aGUgZGF0YSBpcyBsYXJnZSwgY29uc2lkZXIgc3dpdGNoaW5nIG92ZXIgdG8gdGhlIG5hdGl2ZSBkZWNvZGVyIGFzIGluIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS81NDEyMzI3NVxyXG4vLyBCdXQgZG9uJ3QgZm9yY2UgaXQgdG8gYmUgYXN5bmMgYWxsIHRoZSB0aW1lLiBZaWVsZGluZyBleGVjdXRpb24gbGVhZHMgdG8gcGVyY2VwdGlibGUgbGFnLlxyXG5mdW5jdGlvbiBiYXNlNjRUb0FycmF5QnVmZmVyKGJhc2U2NDogc3RyaW5nKTogVWludDhBcnJheSB7XHJcbiAgY29uc3QgYmluYXJ5U3RyaW5nID0gYXRvYihiYXNlNjQpO1xyXG4gIGNvbnN0IGxlbmd0aCA9IGJpbmFyeVN0cmluZy5sZW5ndGg7XHJcbiAgY29uc3QgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICByZXN1bHRbaV0gPSBiaW5hcnlTdHJpbmcuY2hhckNvZGVBdChpKTtcclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5pbXBvcnQgeyBCbGF6b3IsIElCbGF6b3IgfSBmcm9tICcuLi9HbG9iYWxFeHBvcnRzJztcclxuaW1wb3J0IHsgQWZ0ZXJCbGF6b3JTZXJ2ZXJTdGFydGVkQ2FsbGJhY2ssIEJlZm9yZUJsYXpvclNlcnZlclN0YXJ0ZWRDYWxsYmFjaywgQ2lyY3VpdFN0YXJ0T3B0aW9ucywgU2VydmVySW5pdGlhbGl6ZXJzIH0gZnJvbSAnLi4vUGxhdGZvcm0vQ2lyY3VpdHMvQ2lyY3VpdFN0YXJ0T3B0aW9ucyc7XHJcbmltcG9ydCB7IExvZ0xldmVsLCBMb2dnZXIgfSBmcm9tICcuLi9QbGF0Zm9ybS9Mb2dnaW5nL0xvZ2dlcic7XHJcbmltcG9ydCB7IEFmdGVyQmxhem9yV2ViQXNzZW1ibHlTdGFydGVkQ2FsbGJhY2ssIEJlZm9yZUJsYXpvcldlYkFzc2VtYmx5U3RhcnRlZENhbGxiYWNrLCBXZWJBc3NlbWJseUluaXRpYWxpemVycywgV2ViQXNzZW1ibHlTdGFydE9wdGlvbnMgfSBmcm9tICcuLi9QbGF0Zm9ybS9XZWJBc3NlbWJseVN0YXJ0T3B0aW9ucyc7XHJcbmltcG9ydCB7IFdlYlN0YXJ0T3B0aW9ucyB9IGZyb20gJy4uL1BsYXRmb3JtL1dlYlN0YXJ0T3B0aW9ucyc7XHJcbmltcG9ydCB7IFdlYlJlbmRlcmVySWQgfSBmcm9tICcuLi9SZW5kZXJpbmcvV2ViUmVuZGVyZXJJZCc7XHJcbmltcG9ydCB7IGdldFJlbmRlcmVyQXR0YWNoZWRQcm9taXNlIH0gZnJvbSAnLi4vUmVuZGVyaW5nL1dlYlJlbmRlcmVySW50ZXJvcE1ldGhvZHMnO1xyXG5cclxudHlwZSBCZWZvcmVCbGF6b3JTdGFydGVkQ2FsbGJhY2sgPSAoLi4uYXJnczogdW5rbm93bltdKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG5leHBvcnQgdHlwZSBBZnRlckJsYXpvclN0YXJ0ZWRDYWxsYmFjayA9IChibGF6b3I6IHR5cGVvZiBCbGF6b3IpID0+IFByb21pc2U8dm9pZD47XHJcbnR5cGUgQmVmb3JlQmxhem9yV2ViU3RhcnRlZENhbGxiYWNrID0gKG9wdGlvbnM6IFdlYlN0YXJ0T3B0aW9ucykgPT4gUHJvbWlzZTx2b2lkPjtcclxudHlwZSBBZnRlckJsYXpvcldlYlN0YXJ0ZWRDYWxsYmFjayA9IChibGF6b3I6IElCbGF6b3IpID0+IFByb21pc2U8dm9pZD47XHJcbmV4cG9ydCB0eXBlIEJsYXpvckluaXRpYWxpemVyID0ge1xyXG4gIGJlZm9yZVN0YXJ0OiBCZWZvcmVCbGF6b3JTdGFydGVkQ2FsbGJhY2ssXHJcbiAgYWZ0ZXJTdGFydGVkOiBBZnRlckJsYXpvclN0YXJ0ZWRDYWxsYmFjayxcclxuICBiZWZvcmVXZWJTdGFydDogQmVmb3JlQmxhem9yV2ViU3RhcnRlZENhbGxiYWNrLFxyXG4gIGFmdGVyV2ViU3RhcnRlZDogQWZ0ZXJCbGF6b3JXZWJTdGFydGVkQ2FsbGJhY2ssXHJcbiAgYmVmb3JlV2ViQXNzZW1ibHlTdGFydDogQmVmb3JlQmxhem9yV2ViQXNzZW1ibHlTdGFydGVkQ2FsbGJhY2ssXHJcbiAgYWZ0ZXJXZWJBc3NlbWJseVN0YXJ0ZWQ6IEFmdGVyQmxhem9yV2ViQXNzZW1ibHlTdGFydGVkQ2FsbGJhY2ssXHJcbiAgYmVmb3JlU2VydmVyU3RhcnQ6IEJlZm9yZUJsYXpvclNlcnZlclN0YXJ0ZWRDYWxsYmFjayxcclxuICBhZnRlclNlcnZlclN0YXJ0ZWQ6IEFmdGVyQmxhem9yU2VydmVyU3RhcnRlZENhbGxiYWNrLFxyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIEpTSW5pdGlhbGl6ZXIge1xyXG4gIHByaXZhdGUgYWZ0ZXJTdGFydGVkQ2FsbGJhY2tzOiBBZnRlckJsYXpvclN0YXJ0ZWRDYWxsYmFja1tdID0gW107XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBzaW5nbGVSdW50aW1lID0gdHJ1ZSxcclxuICAgIHByaXZhdGUgbG9nZ2VyPzogTG9nZ2VyLFxyXG4gICAgYWZ0ZXJzdGFydGVkQ2FsbGJhY2tzPzogQWZ0ZXJCbGF6b3JTdGFydGVkQ2FsbGJhY2tbXSxcclxuICAgIHByaXZhdGUgd2ViUmVuZGVyZXJJZDogbnVtYmVyID0gMFxyXG4gICkge1xyXG4gICAgaWYgKGFmdGVyc3RhcnRlZENhbGxiYWNrcykge1xyXG4gICAgICB0aGlzLmFmdGVyU3RhcnRlZENhbGxiYWNrcy5wdXNoKC4uLmFmdGVyc3RhcnRlZENhbGxiYWNrcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBpbXBvcnRJbml0aWFsaXplcnNBc3luYyhpbml0aWFsaXplckZpbGVzOiBzdHJpbmdbXSwgaW5pdGlhbGl6ZXJBcmd1bWVudHM6IHVua25vd25bXSk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgLy8gVGhpcyBjb2RlIGlzIG5vdCBjYWxsZWQgb24gV0FTTSwgYmVjYXVzZSBsaWJyYXJ5IGludGlhbGl6ZXJzIGFyZSBpbXBvcnRlZCBieSBydW50aW1lLlxyXG5cclxuICAgIGF3YWl0IFByb21pc2UuYWxsKGluaXRpYWxpemVyRmlsZXMubWFwKGYgPT4gaW1wb3J0QW5kSW52b2tlSW5pdGlhbGl6ZXIodGhpcywgZikpKTtcclxuXHJcbiAgICBmdW5jdGlvbiBhZGp1c3RQYXRoKHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgIC8vIFRoaXMgaXMgdGhlIHNhbWUgd2UgZG8gaW4gSlMgaW50ZXJvcCB3aXRoIHRoZSBpbXBvcnQgY2FsbGJhY2tcclxuICAgICAgY29uc3QgYmFzZSA9IGRvY3VtZW50LmJhc2VVUkk7XHJcbiAgICAgIHBhdGggPSBiYXNlLmVuZHNXaXRoKCcvJykgPyBgJHtiYXNlfSR7cGF0aH1gIDogYCR7YmFzZX0vJHtwYXRofWA7XHJcbiAgICAgIHJldHVybiBwYXRoO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGZ1bmN0aW9uIGltcG9ydEFuZEludm9rZUluaXRpYWxpemVyKGpzSW5pdGlhbGl6ZXI6IEpTSW5pdGlhbGl6ZXIsIHBhdGg6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICBjb25zdCBhZGp1c3RlZFBhdGggPSBhZGp1c3RQYXRoKHBhdGgpO1xyXG4gICAgICBjb25zdCBpbml0aWFsaXplciA9IGF3YWl0IGltcG9ydCgvKiB3ZWJwYWNrSWdub3JlOiB0cnVlICovIGFkanVzdGVkUGF0aCkgYXMgUGFydGlhbDxCbGF6b3JJbml0aWFsaXplcj47XHJcbiAgICAgIGlmIChpbml0aWFsaXplciA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIWpzSW5pdGlhbGl6ZXIuc2luZ2xlUnVudGltZSkge1xyXG4gICAgICAgIHJldHVybiBydW5NdWx0aVJ1bnRpbWVJbml0aWFsaXplcnMoanNJbml0aWFsaXplciwgaW5pdGlhbGl6ZXIsIGluaXRpYWxpemVyQXJndW1lbnRzKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCB7IGJlZm9yZVN0YXJ0LCBhZnRlclN0YXJ0ZWQsIGJlZm9yZVdlYkFzc2VtYmx5U3RhcnQsIGFmdGVyV2ViQXNzZW1ibHlTdGFydGVkLCBiZWZvcmVTZXJ2ZXJTdGFydCwgYWZ0ZXJTZXJ2ZXJTdGFydGVkIH0gPSBpbml0aWFsaXplcjtcclxuICAgICAgICBsZXQgZmluYWxCZWZvcmVTdGFydCA9IGJlZm9yZVN0YXJ0O1xyXG4gICAgICAgIGlmIChqc0luaXRpYWxpemVyLndlYlJlbmRlcmVySWQgPT09IFdlYlJlbmRlcmVySWQuU2VydmVyICYmIGJlZm9yZVNlcnZlclN0YXJ0KSB7XHJcbiAgICAgICAgICBmaW5hbEJlZm9yZVN0YXJ0ID0gYmVmb3JlU2VydmVyU3RhcnQgYXMgdW5rbm93biBhcyBCZWZvcmVCbGF6b3JTdGFydGVkQ2FsbGJhY2s7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChqc0luaXRpYWxpemVyLndlYlJlbmRlcmVySWQgPT09IFdlYlJlbmRlcmVySWQuV2ViQXNzZW1ibHkgJiYgYmVmb3JlV2ViQXNzZW1ibHlTdGFydCkge1xyXG4gICAgICAgICAgZmluYWxCZWZvcmVTdGFydCA9IGJlZm9yZVdlYkFzc2VtYmx5U3RhcnQgYXMgdW5rbm93biBhcyBCZWZvcmVCbGF6b3JTdGFydGVkQ2FsbGJhY2s7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBmaW5hbEFmdGVyU3RhcnRlZCA9IGFmdGVyU3RhcnRlZDtcclxuICAgICAgICBpZiAoanNJbml0aWFsaXplci53ZWJSZW5kZXJlcklkID09PSBXZWJSZW5kZXJlcklkLlNlcnZlciAmJiBhZnRlclNlcnZlclN0YXJ0ZWQpIHtcclxuICAgICAgICAgIGZpbmFsQWZ0ZXJTdGFydGVkID0gYWZ0ZXJTZXJ2ZXJTdGFydGVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoanNJbml0aWFsaXplci53ZWJSZW5kZXJlcklkID09PSBXZWJSZW5kZXJlcklkLldlYkFzc2VtYmx5ICYmIGFmdGVyV2ViQXNzZW1ibHlTdGFydGVkKSB7XHJcbiAgICAgICAgICBmaW5hbEFmdGVyU3RhcnRlZCA9IGFmdGVyV2ViQXNzZW1ibHlTdGFydGVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJ1bkNsYXNzaWNJbml0aWFsaXplcnMoanNJbml0aWFsaXplciwgZmluYWxCZWZvcmVTdGFydCwgZmluYWxBZnRlclN0YXJ0ZWQsIGluaXRpYWxpemVyQXJndW1lbnRzKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gcnVuTXVsdGlSdW50aW1lSW5pdGlhbGl6ZXJzKFxyXG4gICAgICAgIGpzSW5pdGlhbGl6ZXI6IEpTSW5pdGlhbGl6ZXIsXHJcbiAgICAgICAgaW5pdGlhbGl6ZXJNb2R1bGU6IFBhcnRpYWw8Qmxhem9ySW5pdGlhbGl6ZXI+LCBpbml0aWFsaXplckFyZ3VtZW50czogdW5rbm93bltdKTogdm9pZCB8IFByb21pc2VMaWtlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBvcHRpb25zID0gaW5pdGlhbGl6ZXJBcmd1bWVudHNbMF0gYXMgV2ViU3RhcnRPcHRpb25zO1xyXG4gICAgICAgIGNvbnN0IHsgYmVmb3JlU3RhcnQsIGFmdGVyU3RhcnRlZCwgYmVmb3JlV2ViU3RhcnQsIGFmdGVyV2ViU3RhcnRlZCwgYmVmb3JlV2ViQXNzZW1ibHlTdGFydCwgYWZ0ZXJXZWJBc3NlbWJseVN0YXJ0ZWQsIGJlZm9yZVNlcnZlclN0YXJ0LCBhZnRlclNlcnZlclN0YXJ0ZWQgfSA9IGluaXRpYWxpemVyTW9kdWxlO1xyXG4gICAgICAgIGNvbnN0IHJ1bnRpbWVTcGVjaWZpY0V4cG9ydHMgPSAhIShiZWZvcmVXZWJTdGFydCB8fCBhZnRlcldlYlN0YXJ0ZWQgfHwgYmVmb3JlV2ViQXNzZW1ibHlTdGFydCB8fCBhZnRlcldlYkFzc2VtYmx5U3RhcnRlZCB8fCBiZWZvcmVTZXJ2ZXJTdGFydCB8fCBhZnRlclNlcnZlclN0YXJ0ZWQpO1xyXG4gICAgICAgIGNvbnN0IGhhc09ubHlDbGFzc2ljSW5pdGlhbGl6ZXJzID0gISEoIXJ1bnRpbWVTcGVjaWZpY0V4cG9ydHMgJiYgKGJlZm9yZVN0YXJ0IHx8IGFmdGVyU3RhcnRlZCkpO1xyXG4gICAgICAgIGNvbnN0IHJ1bkxlZ2FjeUluaXRpYWxpemVycyA9IGhhc09ubHlDbGFzc2ljSW5pdGlhbGl6ZXJzICYmIG9wdGlvbnMuZW5hYmxlQ2xhc3NpY0luaXRpYWxpemVycztcclxuICAgICAgICBpZiAoaGFzT25seUNsYXNzaWNJbml0aWFsaXplcnMgJiYgIW9wdGlvbnMuZW5hYmxlQ2xhc3NpY0luaXRpYWxpemVycykge1xyXG4gICAgICAgICAgLy8gbG9nIHdhcm5pbmcgXCJjbGFzc2ljIGluaXRpYWxpemVycyB3aWxsIGJlIGlnbm9yZWQgd2hlbiBtdWx0aXBsZSBydW50aW1lcyBhcmUgdXNlZFwiLlxyXG4gICAgICAgICAgLy8gU2tpcHBpbmcgXCJhZGp1c3RlZFBhdGhcIiBpbml0aWFsaXplci5cclxuICAgICAgICAgIGpzSW5pdGlhbGl6ZXIubG9nZ2VyPy5sb2coXHJcbiAgICAgICAgICAgIExvZ0xldmVsLldhcm5pbmcsXHJcbiAgICAgICAgICAgIGBJbml0aWFsaXplciAnJHthZGp1c3RlZFBhdGh9JyB3aWxsIGJlIGlnbm9yZWQgYmVjYXVzZSBtdWx0aXBsZSBydW50aW1lcyBhcmUgYXZhaWxhYmxlLiBVc2UgJ2JlZm9yZShXZWJ8V2ViQXNzZW1ibHl8U2VydmVyKVN0YXJ0JyBhbmQgJ2FmdGVyKFdlYnxXZWJBc3NlbWJseXxTZXJ2ZXIpU3RhcnRlZCcgaW5zdGVhZC5gXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocnVuTGVnYWN5SW5pdGlhbGl6ZXJzKSB7XHJcbiAgICAgICAgICByZXR1cm4gcnVuQ2xhc3NpY0luaXRpYWxpemVycyhqc0luaXRpYWxpemVyLCBiZWZvcmVTdGFydCwgYWZ0ZXJTdGFydGVkLCBpbml0aWFsaXplckFyZ3VtZW50cyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbnN1cmVJbml0aWFsaXplcnMob3B0aW9ucyk7XHJcblxyXG4gICAgICAgIGlmIChiZWZvcmVXZWJBc3NlbWJseVN0YXJ0KSB7XHJcbiAgICAgICAgICBvcHRpb25zLndlYkFzc2VtYmx5LmluaXRpYWxpemVycy5iZWZvcmVTdGFydC5wdXNoKGJlZm9yZVdlYkFzc2VtYmx5U3RhcnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGFmdGVyV2ViQXNzZW1ibHlTdGFydGVkKSB7XHJcbiAgICAgICAgICBvcHRpb25zLndlYkFzc2VtYmx5LmluaXRpYWxpemVycy5hZnRlclN0YXJ0ZWQucHVzaChhZnRlcldlYkFzc2VtYmx5U3RhcnRlZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYmVmb3JlU2VydmVyU3RhcnQpIHtcclxuICAgICAgICAgIG9wdGlvbnMuY2lyY3VpdC5pbml0aWFsaXplcnMuYmVmb3JlU3RhcnQucHVzaChiZWZvcmVTZXJ2ZXJTdGFydCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYWZ0ZXJTZXJ2ZXJTdGFydGVkKSB7XHJcbiAgICAgICAgICBvcHRpb25zLmNpcmN1aXQuaW5pdGlhbGl6ZXJzLmFmdGVyU3RhcnRlZC5wdXNoKGFmdGVyU2VydmVyU3RhcnRlZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYWZ0ZXJXZWJTdGFydGVkKSB7XHJcbiAgICAgICAgICBqc0luaXRpYWxpemVyLmFmdGVyU3RhcnRlZENhbGxiYWNrcy5wdXNoKGFmdGVyV2ViU3RhcnRlZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYmVmb3JlV2ViU3RhcnQpIHtcclxuICAgICAgICAgIHJldHVybiBiZWZvcmVXZWJTdGFydChvcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHJ1bkNsYXNzaWNJbml0aWFsaXplcnMoanNJbml0aWFsaXplcjogSlNJbml0aWFsaXplciwgYmVmb3JlU3RhcnQ6IEJlZm9yZUJsYXpvclN0YXJ0ZWRDYWxsYmFjayB8IHVuZGVmaW5lZCwgYWZ0ZXJTdGFydGVkOiBBZnRlckJsYXpvclN0YXJ0ZWRDYWxsYmFjayB8IHVuZGVmaW5lZCwgaW5pdGlhbGl6ZXJBcmd1bWVudHM6IHVua25vd25bXSk6IHZvaWQgfCBQcm9taXNlTGlrZTx2b2lkPiB7XHJcbiAgICAgICAgaWYgKGFmdGVyU3RhcnRlZCkge1xyXG4gICAgICAgICAganNJbml0aWFsaXplci5hZnRlclN0YXJ0ZWRDYWxsYmFja3MucHVzaChhZnRlclN0YXJ0ZWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGJlZm9yZVN0YXJ0KSB7XHJcbiAgICAgICAgICByZXR1cm4gYmVmb3JlU3RhcnQoLi4uaW5pdGlhbGl6ZXJBcmd1bWVudHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gZW5zdXJlSW5pdGlhbGl6ZXJzKG9wdGlvbnM6IFBhcnRpYWw8V2ViU3RhcnRPcHRpb25zPik6XHJcbiAgICAgICAgYXNzZXJ0cyBvcHRpb25zIGlzIE9wdGlvbnNXaXRoSW5pdGlhbGl6ZXJzIHtcclxuICAgICAgICBpZiAoIW9wdGlvbnNbJ3dlYkFzc2VtYmx5J10pIHtcclxuICAgICAgICAgIG9wdGlvbnNbJ3dlYkFzc2VtYmx5J10gPSAoeyBpbml0aWFsaXplcnM6IHsgYmVmb3JlU3RhcnQ6IFtdLCBhZnRlclN0YXJ0ZWQ6IFtdIH0gfSkgYXMgdW5rbm93biBhcyBXZWJBc3NlbWJseVN0YXJ0T3B0aW9ucztcclxuICAgICAgICB9IGVsc2UgaWYgKCFvcHRpb25zWyd3ZWJBc3NlbWJseSddLmluaXRpYWxpemVycykge1xyXG4gICAgICAgICAgb3B0aW9uc1snd2ViQXNzZW1ibHknXS5pbml0aWFsaXplcnMgPSB7IGJlZm9yZVN0YXJ0OiBbXSwgYWZ0ZXJTdGFydGVkOiBbXSB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFvcHRpb25zWydjaXJjdWl0J10pIHtcclxuICAgICAgICAgIG9wdGlvbnNbJ2NpcmN1aXQnXSA9ICh7IGluaXRpYWxpemVyczogeyBiZWZvcmVTdGFydDogW10sIGFmdGVyU3RhcnRlZDogW10gfSB9KSBhcyB1bmtub3duIGFzIENpcmN1aXRTdGFydE9wdGlvbnM7XHJcbiAgICAgICAgfSBlbHNlIGlmICghb3B0aW9uc1snY2lyY3VpdCddLmluaXRpYWxpemVycykge1xyXG4gICAgICAgICAgb3B0aW9uc1snY2lyY3VpdCddLmluaXRpYWxpemVycyA9IHsgYmVmb3JlU3RhcnQ6IFtdLCBhZnRlclN0YXJ0ZWQ6IFtdIH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBpbnZva2VBZnRlclN0YXJ0ZWRDYWxsYmFja3MoYmxhem9yOiB0eXBlb2YgQmxhem9yKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBjb25zdCBhdHRhY2hlZCA9IGdldFJlbmRlcmVyQXR0YWNoZWRQcm9taXNlKHRoaXMud2ViUmVuZGVyZXJJZCk7XHJcbiAgICBpZiAoYXR0YWNoZWQpIHtcclxuICAgICAgYXdhaXQgYXR0YWNoZWQ7XHJcbiAgICB9XHJcbiAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmFmdGVyU3RhcnRlZENhbGxiYWNrcy5tYXAoY2FsbGJhY2sgPT4gY2FsbGJhY2soYmxhem9yKSkpO1xyXG4gIH1cclxufVxyXG5cclxudHlwZSBPcHRpb25zV2l0aEluaXRpYWxpemVycyA9IHtcclxuICB3ZWJBc3NlbWJseTogV2ViQXNzZW1ibHlTdGFydE9wdGlvbnMgJiB7IGluaXRpYWxpemVyczogV2ViQXNzZW1ibHlJbml0aWFsaXplcnMgfSxcclxuICBjaXJjdWl0OiBDaXJjdWl0U3RhcnRPcHRpb25zICYgeyBpbml0aWFsaXplcnM6IFNlcnZlckluaXRpYWxpemVycyB9XHJcbn1cclxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cclxuaW1wb3J0IHsgRG90TmV0IH0gZnJvbSAnQG1pY3Jvc29mdC9kb3RuZXQtanMtaW50ZXJvcCc7XHJcbmltcG9ydCB7IEJsYXpvciB9IGZyb20gJy4vR2xvYmFsRXhwb3J0cyc7XHJcbmltcG9ydCB7IHNob3VsZEF1dG9TdGFydCB9IGZyb20gJy4vQm9vdENvbW1vbic7XHJcbmltcG9ydCB7IGludGVybmFsRnVuY3Rpb25zIGFzIG5hdmlnYXRpb25NYW5hZ2VyRnVuY3Rpb25zIH0gZnJvbSAnLi9TZXJ2aWNlcy9OYXZpZ2F0aW9uTWFuYWdlcic7XHJcbmltcG9ydCB7IHN0YXJ0SXBjUmVjZWl2ZXIgfSBmcm9tICcuL1BsYXRmb3JtL1dlYlZpZXcvV2ViVmlld0lwY1JlY2VpdmVyJztcclxuaW1wb3J0IHsgc2VuZEF0dGFjaFBhZ2UsIHNlbmRCZWdpbkludm9rZURvdE5ldEZyb21KUywgc2VuZEVuZEludm9rZUpTRnJvbURvdE5ldCwgc2VuZEJ5dGVBcnJheSwgc2VuZExvY2F0aW9uQ2hhbmdlZCwgc2VuZExvY2F0aW9uQ2hhbmdpbmcgfSBmcm9tICcuL1BsYXRmb3JtL1dlYlZpZXcvV2ViVmlld0lwY1NlbmRlcic7XHJcbmltcG9ydCB7IGZldGNoQW5kSW52b2tlSW5pdGlhbGl6ZXJzIH0gZnJvbSAnLi9KU0luaXRpYWxpemVycy9KU0luaXRpYWxpemVycy5XZWJWaWV3JztcclxuaW1wb3J0IHsgcmVjZWl2ZURvdE5ldERhdGFTdHJlYW0gfSBmcm9tICcuL1N0cmVhbWluZ0ludGVyb3AnO1xyXG5pbXBvcnQgeyBXZWJSZW5kZXJlcklkIH0gZnJvbSAnLi9SZW5kZXJpbmcvV2ViUmVuZGVyZXJJZCc7XHJcblxyXG5sZXQgc3RhcnRlZCA9IGZhbHNlO1xyXG5cclxuZXhwb3J0IGxldCBkaXNwYXRjaGVyOiBEb3ROZXQuSUNhbGxEaXNwYXRjaGVyO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gYm9vdCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICBpZiAoc3RhcnRlZCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdCbGF6b3IgaGFzIGFscmVhZHkgc3RhcnRlZC4nKTtcclxuICB9XHJcbiAgc3RhcnRlZCA9IHRydWU7XHJcblxyXG4gIGRpc3BhdGNoZXIgPSBEb3ROZXQuYXR0YWNoRGlzcGF0Y2hlcih7XHJcbiAgICBiZWdpbkludm9rZURvdE5ldEZyb21KUzogc2VuZEJlZ2luSW52b2tlRG90TmV0RnJvbUpTLFxyXG4gICAgZW5kSW52b2tlSlNGcm9tRG90TmV0OiBzZW5kRW5kSW52b2tlSlNGcm9tRG90TmV0LFxyXG4gICAgc2VuZEJ5dGVBcnJheTogc2VuZEJ5dGVBcnJheSxcclxuICB9KTtcclxuXHJcbiAgY29uc3QganNJbml0aWFsaXplciA9IGF3YWl0IGZldGNoQW5kSW52b2tlSW5pdGlhbGl6ZXJzKCk7XHJcblxyXG4gIHN0YXJ0SXBjUmVjZWl2ZXIoKTtcclxuXHJcbiAgQmxhem9yLl9pbnRlcm5hbC5yZWNlaXZlV2ViVmlld0RvdE5ldERhdGFTdHJlYW0gPSByZWNlaXZlV2ViVmlld0RvdE5ldERhdGFTdHJlYW07XHJcblxyXG4gIG5hdmlnYXRpb25NYW5hZ2VyRnVuY3Rpb25zLmVuYWJsZU5hdmlnYXRpb25JbnRlcmNlcHRpb24oV2ViUmVuZGVyZXJJZC5XZWJWaWV3KTtcclxuICBuYXZpZ2F0aW9uTWFuYWdlckZ1bmN0aW9ucy5saXN0ZW5Gb3JOYXZpZ2F0aW9uRXZlbnRzKFdlYlJlbmRlcmVySWQuV2ViVmlldywgc2VuZExvY2F0aW9uQ2hhbmdlZCwgc2VuZExvY2F0aW9uQ2hhbmdpbmcpO1xyXG5cclxuICBzZW5kQXR0YWNoUGFnZShuYXZpZ2F0aW9uTWFuYWdlckZ1bmN0aW9ucy5nZXRCYXNlVVJJKCksIG5hdmlnYXRpb25NYW5hZ2VyRnVuY3Rpb25zLmdldExvY2F0aW9uSHJlZigpKTtcclxuICBhd2FpdCBqc0luaXRpYWxpemVyLmludm9rZUFmdGVyU3RhcnRlZENhbGxiYWNrcyhCbGF6b3IpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWNlaXZlV2ViVmlld0RvdE5ldERhdGFTdHJlYW0oc3RyZWFtSWQ6IG51bWJlciwgZGF0YTogYW55LCBieXRlc1JlYWQ6IG51bWJlciwgZXJyb3JNZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcclxuICByZWNlaXZlRG90TmV0RGF0YVN0cmVhbShkaXNwYXRjaGVyLCBzdHJlYW1JZCwgZGF0YSwgYnl0ZXNSZWFkLCBlcnJvck1lc3NhZ2UpO1xyXG59XHJcblxyXG5CbGF6b3Iuc3RhcnQgPSBib290O1xyXG53aW5kb3dbJ0RvdE5ldCddID0gRG90TmV0O1xyXG5cclxuaWYgKHNob3VsZEF1dG9TdGFydCgpKSB7XHJcbiAgYm9vdCgpO1xyXG59XHJcbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuXHJcbmltcG9ydCB7IEpTSW5pdGlhbGl6ZXIgfSBmcm9tICcuL0pTSW5pdGlhbGl6ZXJzJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaEFuZEludm9rZUluaXRpYWxpemVycygpIDogUHJvbWlzZTxKU0luaXRpYWxpemVyPiB7XHJcbiAgY29uc3QganNJbml0aWFsaXplcnNSZXNwb25zZSA9IGF3YWl0IGZldGNoKCdfZnJhbWV3b3JrL2JsYXpvci5tb2R1bGVzLmpzb24nLCB7XHJcbiAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcclxuICAgIGNhY2hlOiAnbm8tY2FjaGUnLFxyXG4gIH0pO1xyXG5cclxuICBjb25zdCBpbml0aWFsaXplcnM6IHN0cmluZ1tdID0gYXdhaXQganNJbml0aWFsaXplcnNSZXNwb25zZS5qc29uKCk7XHJcbiAgY29uc3QganNJbml0aWFsaXplciA9IG5ldyBKU0luaXRpYWxpemVyKCk7XHJcbiAgYXdhaXQganNJbml0aWFsaXplci5pbXBvcnRJbml0aWFsaXplcnNBc3luYyhpbml0aWFsaXplcnMsIFtdKTtcclxuICByZXR1cm4ganNJbml0aWFsaXplcjtcclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG4vLyBUZWxscyB5b3UgaWYgdGhlIHNjcmlwdCB3YXMgYWRkZWQgd2l0aG91dCA8c2NyaXB0IHNyYz1cIi4uLlwiIGF1dG9zdGFydD1cImZhbHNlXCI+PC9zY3JpcHQ+XHJcbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRBdXRvU3RhcnQoKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuICEhKGRvY3VtZW50ICYmXHJcbiAgICBkb2N1bWVudC5jdXJyZW50U2NyaXB0ICYmXHJcbiAgICBkb2N1bWVudC5jdXJyZW50U2NyaXB0LmdldEF0dHJpYnV0ZSgnYXV0b3N0YXJ0JykgIT09ICdmYWxzZScpO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJEb3ROZXQiLCJFZGl0VHlwZSIsIkZyYW1lVHlwZSIsImpzb25SZXZpdmVycyIsImpzT2JqZWN0SWRLZXkiLCJkb3ROZXRPYmplY3RSZWZLZXkiLCJieXRlQXJyYXlSZWZLZXkiLCJkb3ROZXRTdHJlYW1SZWZLZXkiLCJqc1N0cmVhbVJlZmVyZW5jZUxlbmd0aEtleSIsImRlZmF1bHRDYWxsRGlzcGF0Y2hlciIsImN1cnJlbnRDYWxsRGlzcGF0Y2hlciIsIkpTT2JqZWN0IiwiY29uc3RydWN0b3IiLCJfanNPYmplY3QiLCJ0aGlzIiwiX2NhY2hlZEZ1bmN0aW9ucyIsIk1hcCIsImZpbmRGdW5jdGlvbiIsImlkZW50aWZpZXIiLCJjYWNoZWRGdW5jdGlvbiIsImdldCIsImxhc3RTZWdtZW50VmFsdWUiLCJyZXN1bHQiLCJzcGxpdCIsImZvckVhY2giLCJzZWdtZW50IiwiRXJyb3IiLCJGdW5jdGlvbiIsImJpbmQiLCJzZXQiLCJnZXRXcmFwcGVkT2JqZWN0Iiwid2luZG93SlNPYmplY3RJZCIsImNhY2hlZEpTT2JqZWN0c0J5SWQiLCJ3aW5kb3ciLCJ1cmwiLCJzdGFydHNXaXRoIiwiVVJMIiwic3Vic3RyaW5nIiwiZG9jdW1lbnQiLCJiYXNlVVJJIiwidG9TdHJpbmciLCJpbXBvcnQiLCJKU0NhbGxSZXN1bHRUeXBlIiwibmV4dEpzT2JqZWN0SWQiLCJhdHRhY2hSZXZpdmVyIiwicmV2aXZlciIsInB1c2giLCJjcmVhdGVKU09iamVjdFJlZmVyZW5jZSIsImpzT2JqZWN0IiwiY3JlYXRlSlNTdHJlYW1SZWZlcmVuY2UiLCJzdHJlYW1SZWZlcmVuY2UiLCJsZW5ndGgiLCJBcnJheUJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJCbG9iIiwic2l6ZSIsImJ1ZmZlciIsInVuZGVmaW5lZCIsImJ5dGVMZW5ndGgiLCJqc09iamVjdFJlZmVyZW5jZSIsImVycm9yIiwicGFyc2VKc29uV2l0aFJldml2ZXJzIiwiY2FsbERpc3BhdGNoZXIiLCJqc29uIiwiSlNPTiIsInBhcnNlIiwia2V5IiwiaW5pdGlhbFZhbHVlIiwicmVkdWNlIiwibGF0ZXN0VmFsdWUiLCJnZXREZWZhdWx0Q2FsbERpc3BhdGNoZXIiLCJhdHRhY2hEaXNwYXRjaGVyIiwiZG90TmV0Q2FsbERpc3BhdGNoZXIiLCJDYWxsRGlzcGF0Y2hlciIsImludm9rZU1ldGhvZCIsImFzc2VtYmx5TmFtZSIsIm1ldGhvZElkZW50aWZpZXIiLCJhcmdzIiwiaW52b2tlRG90TmV0U3RhdGljTWV0aG9kIiwiaW52b2tlTWV0aG9kQXN5bmMiLCJpbnZva2VEb3ROZXRTdGF0aWNNZXRob2RBc3luYyIsImRpc3Bvc2VKU09iamVjdFJlZmVyZW5jZSIsImlkIiwiZGlzcG9zZUpTT2JqZWN0UmVmZXJlbmNlQnlJZCIsIl9kb3ROZXRDYWxsRGlzcGF0Y2hlciIsIl9ieXRlQXJyYXlzVG9CZVJldml2ZWQiLCJfcGVuZGluZ0RvdE5ldFRvSlNTdHJlYW1zIiwiX3BlbmRpbmdBc3luY0NhbGxzIiwiX25leHRBc3luY0NhbGxJZCIsImdldERvdE5ldENhbGxEaXNwYXRjaGVyIiwiaW52b2tlSlNGcm9tRG90TmV0IiwiYXJnc0pzb24iLCJyZXN1bHRUeXBlIiwidGFyZ2V0SW5zdGFuY2VJZCIsImNyZWF0ZUpTQ2FsbFJlc3VsdCIsImZpbmRKU0Z1bmN0aW9uIiwianNGdW5jdGlvbiIsInN0cmluZ2lmeUFyZ3MiLCJiZWdpbkludm9rZUpTRnJvbURvdE5ldCIsImFzeW5jSGFuZGxlIiwicHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsImVuZEludm9rZUpTRnJvbURvdE5ldCIsInN0cmluZ2lmeSIsImZvcm1hdEVycm9yIiwiZW5kSW52b2tlRG90TmV0RnJvbUpTIiwiYXN5bmNDYWxsSWQiLCJzdWNjZXNzIiwicmVzdWx0SnNvbk9yRXhjZXB0aW9uTWVzc2FnZSIsInJlc3VsdE9yRXJyb3IiLCJjb21wbGV0ZVBlbmRpbmdDYWxsIiwicGFyc2VJbnQiLCJpbnZva2VEb3ROZXRNZXRob2QiLCJpbnZva2VEb3ROZXRNZXRob2RBc3luYyIsImRvdE5ldE9iamVjdElkIiwiaW52b2tlRG90TmV0RnJvbUpTIiwicmVzdWx0SnNvbiIsInJlc3VsdFByb21pc2UiLCJyZWplY3QiLCJiZWdpbkludm9rZURvdE5ldEZyb21KUyIsImV4IiwicmVjZWl2ZUJ5dGVBcnJheSIsImRhdGEiLCJwcm9jZXNzQnl0ZUFycmF5IiwiZGVsZXRlIiwic3VwcGx5RG90TmV0U3RyZWFtIiwic3RyZWFtSWQiLCJzdHJlYW0iLCJoYXMiLCJwZW5kaW5nU3RyZWFtIiwiUGVuZGluZ1N0cmVhbSIsImdldERvdE5ldFN0cmVhbVByb21pc2UiLCJzdHJlYW1Qcm9taXNlIiwiaGFzT3duUHJvcGVydHkiLCJhc3luY0NhbGwiLCJtZXNzYWdlIiwic3RhY2siLCJ0YXJnZXRJbnN0YW5jZSIsIkRvdE5ldE9iamVjdCIsIl9pZCIsIl9jYWxsRGlzcGF0Y2hlciIsImRpc3Bvc2UiLCJjYXRjaCIsImNvbnNvbGUiLCJzZXJpYWxpemVBc0FyZyIsInZhbHVlIiwiaW5kZXgiLCJieXRlQXJyYXkiLCJEb3ROZXRTdHJlYW0iLCJfc3RyZWFtUHJvbWlzZSIsImFycmF5QnVmZmVyIiwiUmVzcG9uc2UiLCJyZXR1cm5WYWx1ZSIsIkRlZmF1bHQiLCJKU09iamVjdFJlZmVyZW5jZSIsIkpTU3RyZWFtUmVmZXJlbmNlIiwiSlNWb2lkUmVzdWx0IiwibmV4dEJ5dGVBcnJheUluZGV4IiwiYXJnUmVwbGFjZXIiLCJzZW5kQnl0ZUFycmF5IiwianNvblZhbHVlIiwiRXZlbnRGaWVsZEluZm8iLCJjb21wb25lbnRJZCIsImZpZWxkVmFsdWUiLCJmcm9tRXZlbnQiLCJldmVudCIsImVsZW0iLCJ0YXJnZXQiLCJFbGVtZW50IiwiZmllbGREYXRhIiwiSFRNTElucHV0RWxlbWVudCIsInR5cGUiLCJ0b0xvd2VyQ2FzZSIsImNoZWNrZWQiLCJIVE1MU2VsZWN0RWxlbWVudCIsIkhUTUxUZXh0QXJlYUVsZW1lbnQiLCJnZXRGb3JtRmllbGREYXRhIiwiZXZlbnRUeXBlUmVnaXN0cnkiLCJicm93c2VyRXZlbnROYW1lc1RvQWxpYXNlcyIsImV2ZW50TmFtZUFsaWFzUmVnaXN0ZXJlZENhbGxiYWNrcyIsImdldEV2ZW50VHlwZU9wdGlvbnMiLCJldmVudE5hbWUiLCJnZXRCcm93c2VyRXZlbnROYW1lIiwicG9zc2libGVBbGlhc0V2ZW50TmFtZSIsImV2ZW50T3B0aW9ucyIsImJyb3dzZXJFdmVudE5hbWUiLCJyZWdpc3RlckJ1aWx0SW5FdmVudFR5cGUiLCJldmVudE5hbWVzIiwib3B0aW9ucyIsInBhcnNlVG91Y2giLCJ0b3VjaExpc3QiLCJ0b3VjaGVzIiwiaSIsInRvdWNoIiwiY2xpZW50WCIsImNsaWVudFkiLCJzY3JlZW5YIiwic2NyZWVuWSIsInBhZ2VYIiwicGFnZVkiLCJwYXJzZU1vdXNlRXZlbnQiLCJkZXRhaWwiLCJvZmZzZXRYIiwib2Zmc2V0WSIsIm1vdmVtZW50WCIsIm1vdmVtZW50WSIsImJ1dHRvbiIsImJ1dHRvbnMiLCJjdHJsS2V5Iiwic2hpZnRLZXkiLCJhbHRLZXkiLCJtZXRhS2V5IiwiY3JlYXRlRXZlbnRBcmdzIiwiZWxlbWVudCIsInRpbWVCYXNlZElucHV0cyIsImluZGV4T2YiLCJnZXRBdHRyaWJ1dGUiLCJpc1RpbWVCYXNlZElucHV0Iiwibm9ybWFsaXplZFZhbHVlIiwibm9ybWFsaXplVGltZUJhc2VkVmFsdWUiLCJpc011bHRpcGxlU2VsZWN0SW5wdXQiLCJzZWxlY3RFbGVtZW50IiwiQXJyYXkiLCJmcm9tIiwiZmlsdGVyIiwib3B0aW9uIiwic2VsZWN0ZWQiLCJtYXAiLCJ0YXJnZXRJc0NoZWNrYm94IiwidGFnTmFtZSIsImlzQ2hlY2tib3giLCJlIiwicGFyc2VEcmFnRXZlbnQiLCJkYXRhVHJhbnNmZXIiLCJkcm9wRWZmZWN0IiwiZWZmZWN0QWxsb3dlZCIsImZpbGVzIiwiZiIsIm5hbWUiLCJpdGVtcyIsImtpbmQiLCJ0eXBlcyIsInBhcnNlS2V5Ym9hcmRFdmVudCIsImNvZGUiLCJsb2NhdGlvbiIsInJlcGVhdCIsImlzQ29tcG9zaW5nIiwicGFyc2VFcnJvckV2ZW50IiwiZmlsZW5hbWUiLCJsaW5lbm8iLCJjb2xubyIsInBhcnNlUHJvZ3Jlc3NFdmVudCIsImxlbmd0aENvbXB1dGFibGUiLCJsb2FkZWQiLCJ0b3RhbCIsInBhcnNlVG91Y2hFdmVudCIsInRhcmdldFRvdWNoZXMiLCJjaGFuZ2VkVG91Y2hlcyIsInBhcnNlUG9pbnRlckV2ZW50IiwicG9pbnRlcklkIiwid2lkdGgiLCJoZWlnaHQiLCJwcmVzc3VyZSIsInRpbHRYIiwidGlsdFkiLCJwb2ludGVyVHlwZSIsImlzUHJpbWFyeSIsInBhcnNlV2hlZWxFdmVudCIsImRlbHRhWCIsImRlbHRhWSIsImRlbHRhWiIsImRlbHRhTW9kZSIsInBlbmRpbmdSb290Q29tcG9uZW50Q29udGFpbmVycyIsIm1hbmFnZXIiLCJqc0NvbXBvbmVudFBhcmFtZXRlcnNCeUlkZW50aWZpZXIiLCJuZXh0UGVuZGluZ0R5bmFtaWNSb290Q29tcG9uZW50SWRlbnRpZmllciIsIlJvb3RDb21wb25lbnRzRnVuY3Rpb25zIiwiYWRkIiwidG9FbGVtZW50IiwiY29tcG9uZW50SWRlbnRpZmllciIsImluaXRpYWxQYXJhbWV0ZXJzIiwiY29udGFpbmVySWRlbnRpZmllciIsImdldFJlcXVpcmVkTWFuYWdlciIsImNvbXBvbmVudCIsIkR5bmFtaWNSb290Q29tcG9uZW50Iiwic2V0UGFyYW1ldGVycyIsIkV2ZW50Q2FsbGJhY2tXcmFwcGVyIiwiaW52b2tlIiwiYXJnIiwiX2NhbGxiYWNrIiwic2V0Q2FsbGJhY2siLCJjYWxsYmFjayIsIl9zZWxmSlNPYmplY3RSZWZlcmVuY2UiLCJnZXRKU09iamVjdFJlZmVyZW5jZSIsInBhcmFtZXRlcnMiLCJfanNFdmVudENhbGxiYWNrV3JhcHBlcnMiLCJfY29tcG9uZW50SWQiLCJwYXJhbWV0ZXIiLCJtYXBwZWRQYXJhbWV0ZXJzIiwiZW50cmllcyIsIk9iamVjdCIsInBhcmFtZXRlckNvdW50IiwiY2FsbGJhY2tXcmFwcGVyIiwianNFdmVudENhbGxiYWNrV3JhcHBlciIsInZhbHVlcyIsImludGVyb3BNZXRob2RzQnlSZW5kZXJlciIsInJlbmRlcmVyQXR0YWNoZWRMaXN0ZW5lcnMiLCJyZW5kZXJlckJ5SWRSZXNvbHZlck1hcCIsImRpc3BhdGNoRXZlbnQiLCJicm93c2VyUmVuZGVyZXJJZCIsImV2ZW50RGVzY3JpcHRvciIsImV2ZW50QXJncyIsImRpc3BhdGNoRXZlbnRNaWRkbGV3YXJlIiwiZXZlbnRIYW5kbGVySWQiLCJnZXRJbnRlcm9wTWV0aG9kcyIsInJlbmRlcmVySWQiLCJpbnRlcm9wTWV0aG9kcyIsImNvbnRpbnVhdGlvbiIsIm5vbkJ1YmJsaW5nRXZlbnRzIiwidG9Mb29rdXAiLCJhbHdheXNQcmV2ZW50RGVmYXVsdEV2ZW50cyIsInN1Ym1pdCIsImRpc2FibGVhYmxlRXZlbnROYW1lcyIsIkV2ZW50RGVsZWdhdG9yIiwibmV4dEV2ZW50RGVsZWdhdG9ySWQiLCJhZnRlckNsaWNrQ2FsbGJhY2tzIiwiZXZlbnREZWxlZ2F0b3JJZCIsImV2ZW50c0NvbGxlY3Rpb25LZXkiLCJldmVudEluZm9TdG9yZSIsIkV2ZW50SW5mb1N0b3JlIiwib25HbG9iYWxFdmVudCIsInNldExpc3RlbmVyIiwicmVuZGVyaW5nQ29tcG9uZW50SWQiLCJpbmZvRm9yRWxlbWVudCIsImdldEV2ZW50SGFuZGxlckluZm9zRm9yRWxlbWVudCIsImV4aXN0aW5nSGFuZGxlciIsImdldEhhbmRsZXIiLCJ1cGRhdGUiLCJuZXdJbmZvIiwic2V0SGFuZGxlciIsInJlbW92ZUxpc3RlbmVyIiwiaW5mbyIsInJlbW92ZSIsImVsZW1lbnRFdmVudEluZm9zIiwicmVtb3ZlSGFuZGxlciIsIm5vdGlmeUFmdGVyQ2xpY2siLCJhZGRHbG9iYWxMaXN0ZW5lciIsInNldFN0b3BQcm9wYWdhdGlvbiIsInN0b3BQcm9wYWdhdGlvbiIsInNldFByZXZlbnREZWZhdWx0IiwicHJldmVudERlZmF1bHQiLCJldnQiLCJkaXNwYXRjaEdsb2JhbEV2ZW50VG9BbGxFbGVtZW50cyIsImV2ZW50TmFtZUFsaWFzZXMiLCJhbGlhcyIsImJyb3dzZXJFdmVudCIsInBhdGgiLCJjb21wb3NlZFBhdGgiLCJjYW5kaWRhdGVFdmVudFRhcmdldCIsInNoaWZ0IiwiZXZlbnRBcmdzSXNQb3B1bGF0ZWQiLCJldmVudElzTm9uQnViYmxpbmciLCJwcm90b3R5cGUiLCJjYWxsIiwic3RvcFByb3BhZ2F0aW9uV2FzUmVxdWVzdGVkIiwiY2FuZGlkYXRlRWxlbWVudCIsImhhbmRsZXJJbmZvcyIsImhhbmRsZXJJbmZvIiwicmF3QnJvd3NlckV2ZW50TmFtZSIsIkhUTUxCdXR0b25FbGVtZW50IiwiZGlzYWJsZWQiLCJldmVudE9wdGlvbnNJZlJlZ2lzdGVyZWQiLCJldmVudEZpZWxkSW5mbyIsImNyZWF0ZUlmTmVlZGVkIiwiRXZlbnRIYW5kbGVySW5mb3NGb3JFbGVtZW50IiwiZ2xvYmFsTGlzdGVuZXIiLCJpbmZvc0J5RXZlbnRIYW5kbGVySWQiLCJjb3VudEJ5RXZlbnROYW1lIiwiaGFuZGxlRXZlbnROYW1lQWxpYXNBZGRlZCIsInVzZUNhcHR1cmUiLCJhZGRFdmVudExpc3RlbmVyIiwib2xkRXZlbnRIYW5kbGVySWQiLCJuZXdFdmVudEhhbmRsZXJJZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhbGlhc0V2ZW50TmFtZSIsImNvdW50QnlBbGlhc0V2ZW50TmFtZSIsImhhbmRsZXJzIiwicHJldmVudERlZmF1bHRGbGFncyIsInN0b3BQcm9wYWdhdGlvbkZsYWdzIiwiaGFuZGxlciIsInNldFZhbHVlIiwibG9naWNhbENoaWxkcmVuUHJvcG5hbWUiLCJTeW1ib2wiLCJsb2dpY2FsUGFyZW50UHJvcG5hbWUiLCJ0b0xvZ2ljYWxFbGVtZW50IiwiYWxsb3dFeGlzdGluZ0NvbnRlbnRzIiwiY2hpbGRyZW5BcnJheSIsImNoaWxkTm9kZXMiLCJjaGlsZCIsImNoaWxkTG9naWNhbEVsZW1lbnQiLCJlbXB0eUxvZ2ljYWxFbGVtZW50IiwiZ2V0TG9naWNhbENoaWxkcmVuQXJyYXkiLCJyZW1vdmVMb2dpY2FsQ2hpbGQiLCJjcmVhdGVBbmRJbnNlcnRMb2dpY2FsQ29udGFpbmVyIiwicGFyZW50IiwiY2hpbGRJbmRleCIsImNvbnRhaW5lckVsZW1lbnQiLCJjcmVhdGVDb21tZW50IiwiaW5zZXJ0TG9naWNhbENoaWxkIiwiY2hpbGRBc0xvZ2ljYWxFbGVtZW50Iiwibm9kZVRvSW5zZXJ0IiwiQ29tbWVudCIsImV4aXN0aW5nR3JhbmNoaWxkcmVuIiwibGFzdE5vZGVUb0luc2VydCIsImZpbmRMYXN0RG9tTm9kZUluUmFuZ2UiLCJyYW5nZSIsIlJhbmdlIiwic2V0U3RhcnRCZWZvcmUiLCJzZXRFbmRBZnRlciIsImV4dHJhY3RDb250ZW50cyIsImV4aXN0aW5nTG9naWNhbFBhcmVudCIsImdldExvZ2ljYWxQYXJlbnQiLCJleGlzdGluZ1NpYmxpbmdBcnJheSIsImV4aXN0aW5nQ2hpbGRJbmRleCIsInNwbGljZSIsIm5ld1NpYmxpbmdzIiwibmV4dFNpYmxpbmciLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kRG9tTm9kZSIsImNoaWxkVG9SZW1vdmUiLCJncmFuZGNoaWxkcmVuQXJyYXkiLCJkb21Ob2RlVG9SZW1vdmUiLCJyZW1vdmVDaGlsZCIsImdldExvZ2ljYWxDaGlsZCIsImlzU3ZnRWxlbWVudCIsImNsb3Nlc3RFbGVtZW50IiwiZ2V0Q2xvc2VzdERvbUVsZW1lbnQiLCJuYW1lc3BhY2VVUkkiLCJnZXRMb2dpY2FsTmV4dFNpYmxpbmciLCJzaWJsaW5ncyIsInBlcm11dGVMb2dpY2FsQ2hpbGRyZW4iLCJwZXJtdXRhdGlvbkxpc3QiLCJsaXN0RW50cnkiLCJtb3ZlUmFuZ2VTdGFydCIsImZyb21TaWJsaW5nSW5kZXgiLCJtb3ZlUmFuZ2VFbmQiLCJtYXJrZXIiLCJtb3ZlVG9CZWZvcmVNYXJrZXIiLCJpbnNlcnRCZWZvcmVOb2RlIiwidG9TaWJsaW5nSW5kZXgiLCJwYXJlbnREb21Ob2RlIiwiZWxlbWVudFRvTW92ZSIsIm1vdmVFbmROb2RlIiwibmV4dFRvTW92ZSIsIm5leHROZXh0IiwibG9naWNhbEVsZW1lbnQiLCJEb2N1bWVudEZyYWdtZW50IiwiYXBwZW5kQ2hpbGQiLCJwYXJlbnRMb2dpY2FsTmV4dFNpYmxpbmciLCJwcmV2aW91c1NpYmxpbmciLCJsb2dpY2FsUGFyZW50IiwibGFzdENoaWxkIiwiZ2V0Q2FwdHVyZUlkQXR0cmlidXRlTmFtZSIsInJlZmVyZW5jZUNhcHR1cmVJZCIsImVsZW1lbnRSZWZLZXkiLCJzZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRFbGVtZW50QnlDYXB0dXJlSWQiLCJkZWZlcnJlZFZhbHVlUHJvcG5hbWUiLCJpc011bHRpcGxlU2VsZWN0RWxlbWVudCIsInNldFNpbmdsZVNlbGVjdEVsZW1lbnRWYWx1ZSIsInNldERlZmVycmVkRWxlbWVudFZhbHVlIiwic2V0TXVsdGlwbGVTZWxlY3RFbGVtZW50VmFsdWUiLCJ0cnlTZXRTZWxlY3RWYWx1ZUZyb21PcHRpb25FbGVtZW50Iiwib3B0aW9uRWxlbWVudCIsInNlbGVjdEVsZW0iLCJwYXJlbnRFbGVtZW50IiwiZmluZENsb3Nlc3RBbmNlc3RvclNlbGVjdEVsZW1lbnQiLCJpc0JsYXpvclNlbGVjdEVsZW1lbnQiLCJfYmxhem9yRGVmZXJyZWRWYWx1ZSIsInNoYXJlZFRlbXBsYXRlRWxlbUZvclBhcnNpbmciLCJjcmVhdGVFbGVtZW50Iiwic2hhcmVkU3ZnRWxlbUZvclBhcnNpbmciLCJjcmVhdGVFbGVtZW50TlMiLCJlbGVtZW50c1RvQ2xlYXJPblJvb3RDb21wb25lbnRSZW5kZXIiLCJTZXQiLCJpbnRlcmFjdGl2ZVJvb3RDb21wb25lbnRQcm9wbmFtZSIsInByZXNlcnZlQ29udGVudE9uRGlzcG9zYWxQcm9wbmFtZSIsIkJyb3dzZXJSZW5kZXJlciIsInJvb3RDb21wb25lbnRJZHMiLCJjaGlsZENvbXBvbmVudExvY2F0aW9ucyIsImV2ZW50RGVsZWdhdG9yIiwiaGFzSW50ZXJhY3RpdmVSb3V0ZXIiLCJldmVudEhhc1NwZWNpYWxLZXkiLCJkZWZhdWx0UHJldmVudGVkIiwiYW5jaG9yVGFyZ2V0IiwiY2FuZGlkYXRlIiwiSFRNTEFuY2hvckVsZW1lbnQiLCJTVkdBRWxlbWVudCIsImZpbmRBbmNob3JUYXJnZXQiLCJ0YXJnZXRBdHRyaWJ1dGVWYWx1ZSIsImhhc0F0dHJpYnV0ZSIsImNhblByb2Nlc3NBbmNob3IiLCJhYnNvbHV0ZUhyZWYiLCJ0b0Fic29sdXRlVXJpIiwiaXNXaXRoaW5CYXNlVXJpU3BhY2UiLCJwZXJmb3JtSW50ZXJuYWxOYXZpZ2F0aW9uIiwiaGFuZGxlQ2xpY2tGb3JOYXZpZ2F0aW9uSW50ZXJjZXB0aW9uIiwiZ2V0Um9vdENvbXBvbmVudENvdW50IiwiYXR0YWNoUm9vdENvbXBvbmVudFRvTG9naWNhbEVsZW1lbnQiLCJhcHBlbmRDb250ZW50IiwiaXNJbnRlcmFjdGl2ZVJvb3RDb21wb25lbnRFbGVtZW50IiwibWFya0FzSW50ZXJhY3RpdmVSb290Q29tcG9uZW50RWxlbWVudCIsImF0dGFjaENvbXBvbmVudFRvRWxlbWVudCIsInVwZGF0ZUNvbXBvbmVudCIsImJhdGNoIiwiZWRpdHMiLCJyZWZlcmVuY2VGcmFtZXMiLCJ0ZXh0Q29udGVudCIsIm93bmVyRG9jdW1lbnQiLCJnZXRSb290Tm9kZSIsImFjdGl2ZUVsZW1lbnRCZWZvcmUiLCJhY3RpdmVFbGVtZW50IiwiYXBwbHlFZGl0cyIsIkhUTUxFbGVtZW50IiwiZm9jdXMiLCJkaXNwb3NlQ29tcG9uZW50IiwiZGlzcG9zZUV2ZW50SGFuZGxlciIsImN1cnJlbnREZXB0aCIsImNoaWxkSW5kZXhBdEN1cnJlbnREZXB0aCIsImFycmF5QnVpbGRlclNlZ21lbnRSZWFkZXIiLCJlZGl0UmVhZGVyIiwiZnJhbWVSZWFkZXIiLCJlZGl0c1ZhbHVlcyIsImVkaXRzT2Zmc2V0Iiwib2Zmc2V0IiwibWF4RWRpdEluZGV4RXhjbCIsImNvdW50IiwiZWRpdEluZGV4IiwiZWRpdCIsImRpZmZSZWFkZXIiLCJlZGl0c0VudHJ5IiwiZWRpdFR5cGUiLCJwcmVwZW5kRnJhbWUiLCJmcmFtZUluZGV4IiwibmV3VHJlZUluZGV4IiwiZnJhbWUiLCJyZWZlcmVuY2VGcmFtZXNFbnRyeSIsInNpYmxpbmdJbmRleCIsImluc2VydEZyYW1lIiwicmVtb3ZlRnJhbWUiLCJzZXRBdHRyaWJ1dGUiLCJhcHBseUF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImF0dHJpYnV0ZU5hbWUiLCJyZW1vdmVkQXR0cmlidXRlTmFtZSIsInNldE9yUmVtb3ZlQXR0cmlidXRlT3JQcm9wZXJ0eSIsInVwZGF0ZVRleHQiLCJ0ZXh0Tm9kZSIsIlRleHQiLCJ1cGRhdGVNYXJrdXAiLCJpbnNlcnRNYXJrdXAiLCJzdGVwSW4iLCJzdGVwT3V0IiwicGVybXV0YXRpb25MaXN0RW50cnkiLCJtb3ZlVG9TaWJsaW5nSW5kZXgiLCJwZXJtdXRhdGlvbkxpc3RFbmQiLCJmcmFtZXMiLCJmcmFtZVR5cGUiLCJpbnNlcnRFbGVtZW50IiwidGV4dCIsImluc2VydFRleHQiLCJhdHRyaWJ1dGUiLCJpbnNlcnRDb21wb25lbnQiLCJyZWdpb24iLCJpbnNlcnRGcmFtZVJhbmdlIiwic3VidHJlZUxlbmd0aCIsImVsZW1lbnRSZWZlcmVuY2VDYXB0dXJlIiwiZWxlbWVudFJlZmVyZW5jZUNhcHR1cmVJZCIsIm1hcmt1cCIsIm5hbWVkRXZlbnQiLCJlbGVtZW50TmFtZSIsIm5ld0RvbUVsZW1lbnRSYXciLCJuZXdFbGVtZW50IiwiaW5zZXJ0ZWQiLCJkZXNjZW5kYW50c0VuZEluZGV4RXhjbCIsImRlc2NlbmRhbnRJbmRleCIsImRlc2NlbmRhbnRGcmFtZSIsIkhUTUxPcHRpb25FbGVtZW50IiwiY2hpbGRDb21wb25lbnRJZCIsInRleHRGcmFtZSIsImNyZWF0ZVRleHROb2RlIiwibWFya3VwRnJhbWUiLCJtYXJrdXBDb250YWluZXIiLCJwYXJzZWRNYXJrdXAiLCJtYXJrdXBDb250ZW50IiwiaW5uZXJIVE1MIiwiY29udGVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJvbGRTY3JpcHRFbGVtIiwibmV3U2NyaXB0RWxlbSIsImdldEF0dHJpYnV0ZU5hbWVzIiwiYXR0cmliTmFtZSIsInJlcGxhY2VDaGlsZCIsImxvZ2ljYWxTaWJsaW5nSW5kZXgiLCJmaXJzdENoaWxkIiwidG9Eb21FbGVtZW50IiwiYXR0cmlidXRlRnJhbWUiLCJhdHRyaWJ1dGVFdmVudEhhbmRsZXJJZCIsInN0cmlwT25QcmVmaXgiLCJhdHRyaWJ1dGVWYWx1ZSIsInN0YXJ0SW5kZXgiLCJlbmRJbmRleEV4Y2wiLCJvcmlnQ2hpbGRJbmRleCIsImNvdW50RGVzY2VuZGFudEZyYW1lcyIsInZhbHVlT3JOdWxsVG9SZW1vdmUiLCJlbmRzV2l0aCIsIm5vcm1hbGl6ZUlucHV0VmFsdWUiLCJ0cnlBcHBseVZhbHVlUHJvcGVydHkiLCJ0cnlBcHBseUNoZWNrZWRQcm9wZXJ0eSIsInRyeUFwcGx5U3BlY2lhbFByb3BlcnR5IiwiYXBwbHlJbnRlcm5hbEF0dHJpYnV0ZSIsImludGVybmFsQXR0cmlidXRlTmFtZVByZWZpeCIsImludGVybmFsQXR0cmlidXRlTmFtZSIsImV2ZW50U3RvcFByb3BhZ2F0aW9uQXR0cmlidXRlTmFtZVByZWZpeCIsImV2ZW50UHJldmVudERlZmF1bHRBdHRyaWJ1dGVOYW1lUHJlZml4IiwiaXNJbnRlcmFjdGl2ZSIsImJyb3dzZXJSZW5kZXJlcnMiLCJpbnRlcmFjdGl2ZVJvdXRlclJlbmRlcmVySWQiLCJ0ZXN0QW5jaG9yIiwic2hvdWxkUmVzZXRTY3JvbGxBZnRlck5leHRCYXRjaCIsImhyZWYiLCJiYXNlVXJpV2l0aG91dFRyYWlsaW5nU2xhc2giLCJiYXNlVXJpIiwibGFzdEluZGV4T2YiLCJuZXh0Q2hhciIsImNoYXJBdCIsInNjcm9sbFRvRWxlbWVudCIsImdldEVsZW1lbnRCeUlkIiwic2Nyb2xsSW50b1ZpZXciLCJyZWxhdGl2ZVVyaSIsImdldEludGVyYWN0aXZlUm91dGVyUmVuZGVyZXJJZCIsImhhc1JlZ2lzdGVyZWROYXZpZ2F0aW9uRXZlbnRMaXN0ZW5lcnMiLCJjdXJyZW50SGlzdG9yeUluZGV4IiwiY3VycmVudExvY2F0aW9uQ2hhbmdpbmdDYWxsSWQiLCJuYXZpZ2F0aW9uQ2FsbGJhY2tzIiwicG9wU3RhdGVDYWxsYmFjayIsImFzeW5jIiwic3RhdGUiLCJpZ25vcmVQZW5kaW5nTmF2aWdhdGlvbiIsImNhbGxiYWNrcyIsImdldEludGVyYWN0aXZlUm91dGVyTmF2aWdhdGlvbkNhbGxiYWNrcyIsImhhc0xvY2F0aW9uQ2hhbmdpbmdFdmVudExpc3RlbmVycyIsIl9pbmRleCIsInVzZXJTdGF0ZSIsImRlbHRhIiwidXJpIiwibmF2aWdhdGVIaXN0b3J5V2l0aG91dFBvcFN0YXRlQ2FsbGJhY2siLCJub3RpZnlMb2NhdGlvbkNoYW5naW5nIiwibm90aWZ5TG9jYXRpb25DaGFuZ2VkIiwicmVzb2x2ZUN1cnJlbnROYXZpZ2F0aW9uIiwiaW50ZXJuYWxGdW5jdGlvbnMiLCJsaXN0ZW5Gb3JOYXZpZ2F0aW9uRXZlbnRzIiwibG9jYXRpb25DaGFuZ2VkQ2FsbGJhY2siLCJsb2NhdGlvbkNoYW5naW5nQ2FsbGJhY2siLCJsb2NhdGlvbkNoYW5nZWQiLCJsb2NhdGlvbkNoYW5naW5nIiwib25Qb3BTdGF0ZSIsImhpc3RvcnkiLCJlbmFibGVOYXZpZ2F0aW9uSW50ZXJjZXB0aW9uIiwic2V0SGFzTG9jYXRpb25DaGFuZ2luZ0xpc3RlbmVycyIsImhhc0xpc3RlbmVycyIsImVuZExvY2F0aW9uQ2hhbmdpbmciLCJjYWxsSWQiLCJzaG91bGRDb250aW51ZU5hdmlnYXRpb24iLCJuYXZpZ2F0ZVRvIiwibmF2aWdhdGVUb0NvcmUiLCJyZWZyZXNoIiwiZm9yY2VSZWxvYWQiLCJyZWxvYWQiLCJnZXRCYXNlVVJJIiwiZ2V0TG9jYXRpb25IcmVmIiwic2tpcExvY2F0aW9uQ2hhbmdpbmdDYWxsYmFjayIsImFic29sdXRlVXJpIiwiZm9yY2VMb2FkIiwic2hvdWxkVXNlQ2xpZW50U2lkZVJvdXRpbmciLCJyZXBsYWNlSGlzdG9yeUVudHJ5IiwiaGlzdG9yeUVudHJ5U3RhdGUiLCJwZXJmb3JtUHJvZ3JhbW1hdGljRW5oYW5jZWROYXZpZ2F0aW9uIiwicmVwbGFjZSIsInRlbXBvcmFyeVVyaSIsInJlcGxhY2VTdGF0ZSIsInBlcmZvcm1FeHRlcm5hbE5hdmlnYXRpb24iLCJhYnNvbHV0ZUludGVybmFsSHJlZiIsImludGVyY2VwdGVkTGluayIsImhhc2giLCJvcmlnaW4iLCJwYXRobmFtZSIsInNlYXJjaCIsImlzU2FtZVBhZ2VXaXRoSGFzaCIsInNhdmVUb0Jyb3dzZXJIaXN0b3J5IiwiaGFzaEluZGV4IiwicGVyZm9ybVNjcm9sbFRvRWxlbWVudE9uVGhlU2FtZVBhZ2UiLCJwdXNoU3RhdGUiLCJvbGRQb3BTdGF0ZUNhbGxiYWNrIiwiZ28iLCJpbnRlcmNlcHRlZCIsImludGVybmFsRGVzdGluYXRpb25IcmVmIiwiYWxsIiwiZG9tRnVuY3Rpb25zIiwicHJldmVudFNjcm9sbCIsIlNWR0VsZW1lbnQiLCJmb2N1c0J5U2VsZWN0b3IiLCJ0YWJJbmRleCIsIlZpcnR1YWxpemUiLCJkb3ROZXRIZWxwZXIiLCJzcGFjZXJCZWZvcmUiLCJzcGFjZXJBZnRlciIsInJvb3RNYXJnaW4iLCJzY3JvbGxDb250YWluZXIiLCJmaW5kQ2xvc2VzdFNjcm9sbENvbnRhaW5lciIsImRvY3VtZW50RWxlbWVudCIsInN0eWxlIiwib3ZlcmZsb3dBbmNob3IiLCJyYW5nZUJldHdlZW5TcGFjZXJzIiwiY3JlYXRlUmFuZ2UiLCJpc1ZhbGlkVGFibGVFbGVtZW50IiwiZGlzcGxheSIsImludGVyc2VjdGlvbk9ic2VydmVyIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyeSIsImlzSW50ZXJzZWN0aW5nIiwic2V0U3RhcnRBZnRlciIsInNldEVuZEJlZm9yZSIsInNwYWNlclNlcGFyYXRpb24iLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjb250YWluZXJTaXplIiwicm9vdEJvdW5kcyIsImludGVyc2VjdGlvblJlY3QiLCJ0b3AiLCJib3VuZGluZ0NsaWVudFJlY3QiLCJvZmZzZXRIZWlnaHQiLCJib3R0b20iLCJyb290Iiwib2JzZXJ2ZSIsIm11dGF0aW9uT2JzZXJ2ZXJCZWZvcmUiLCJjcmVhdGVTcGFjZXJNdXRhdGlvbk9ic2VydmVyIiwibXV0YXRpb25PYnNlcnZlckFmdGVyIiwib2JzZXJ2ZXJzQnlEb3ROZXRPYmplY3RJZCIsImdldE9ic2VydmVyc01hcEVudHJ5Iiwic3BhY2VyIiwib2JzZXJ2ZXJPcHRpb25zIiwiYXR0cmlidXRlcyIsIm11dGF0aW9uT2JzZXJ2ZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwibXV0YXRpb25zIiwib2JzZXJ2ZXIiLCJkaXNjb25uZWN0IiwidW5vYnNlcnZlIiwiSFRNTFRhYmxlRWxlbWVudCIsIkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50Iiwib2JzZXJ2ZXJzIiwiZGlzcGF0Y2hlck9ic2VydmVyc0J5RG90TmV0SWRQcm9wbmFtZSIsImJvZHkiLCJnZXRDb21wdXRlZFN0eWxlIiwib3ZlcmZsb3dZIiwiZG90TmV0SGVscGVyRGlzcGF0Y2hlciIsImRvdE5ldEhlbHBlcklkIiwiUGFnZVRpdGxlIiwiZ2V0QW5kUmVtb3ZlRXhpc3RpbmdUaXRsZSIsInRpdGxlRWxlbWVudHMiLCJoZWFkIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJleGlzdGluZ1RpdGxlIiwiY3VycmVudFRpdGxlRWxlbWVudCIsIklucHV0RmlsZSIsImluaXQiLCJfYmxhem9ySW5wdXRGaWxlTmV4dEZpbGVJZCIsIl9ibGF6b3JGaWxlc0J5SWQiLCJmaWxlTGlzdCIsImZpbGUiLCJsYXN0TW9kaWZpZWQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJjb250ZW50VHlwZSIsInJlYWRQcm9taXNlIiwiYmxvYiIsInRvSW1hZ2VGaWxlIiwiZmlsZUlkIiwiZm9ybWF0IiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJvcmlnaW5hbEZpbGUiLCJnZXRGaWxlQnlJZCIsImxvYWRlZEltYWdlIiwib3JpZ2luYWxGaWxlSW1hZ2UiLCJJbWFnZSIsIm9ubG9hZCIsInJldm9rZU9iamVjdFVSTCIsInNyYyIsIm9uZXJyb3IiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXNpemVkSW1hZ2VCbG9iIiwiZGVzaXJlZFdpZHRoUmF0aW8iLCJNYXRoIiwibWluIiwiZGVzaXJlZEhlaWdodFJhdGlvIiwiY2hvc2VuU2l6ZVJhdGlvIiwiY2FudmFzIiwicm91bmQiLCJnZXRDb250ZXh0IiwiZHJhd0ltYWdlIiwidG9CbG9iIiwicmVhZEZpbGVEYXRhIiwicmVnaXN0ZXJlZExvY2tzIiwiTmF2aWdhdGlvbkxvY2siLCJlbmFibGVOYXZpZ2F0aW9uUHJvbXB0Iiwib25CZWZvcmVVbmxvYWQiLCJkaXNhYmxlTmF2aWdhdGlvblByb21wdCIsInRyYW5zbWl0dGluZ0RvdE5ldFRvSlNTdHJlYW1zIiwiQmxhem9yIiwiZm9yY2VMb2FkT3JPcHRpb25zIiwicmVwbGFjZUlmVXNpbmdPbGRPdmVybG9hZCIsInJlZ2lzdGVyQ3VzdG9tRXZlbnRUeXBlIiwiYWxpYXNHcm91cCIsInJvb3RDb21wb25lbnRzIiwicnVudGltZSIsIl9pbnRlcm5hbCIsIm5hdmlnYXRpb25NYW5hZ2VyIiwibmF2aWdhdGlvbk1hbmFnZXJJbnRlcm5hbEZ1bmN0aW9ucyIsImRvbVdyYXBwZXIiLCJnZXRKU0RhdGFTdHJlYW1DaHVuayIsInBvc2l0aW9uIiwibmV4dENodW5rU2l6ZSIsImNodW5rQmxvYiIsInNsaWNlIiwiZ2V0Q2h1bmtGcm9tQmxvYiIsImJ5dGVPZmZzZXQiLCJnZXRDaHVua0Zyb21BcnJheUJ1ZmZlclZpZXciLCJhdHRhY2hXZWJSZW5kZXJlckludGVyb3AiLCJqc0NvbXBvbmVudFBhcmFtZXRlcnMiLCJqc0NvbXBvbmVudEluaXRpYWxpemVycyIsImtleXMiLCJtYW5hZ2VySW5zdGFuY2UiLCJpbml0aWFsaXplcklkZW50aWZpZXIiLCJjb21wb25lbnRJZGVudGlmaWVycyIsImluaXRpYWxpemVyRnVuYyIsImVuYWJsZUpTUm9vdENvbXBvbmVudHMiLCJsaXN0ZW5lciIsImludm9rZVJlbmRlcmVyQXR0YWNoZWRMaXN0ZW5lcnMiLCJoYXNGYWlsZWQiLCJuYXRpdmVEZWNvZGVyIiwiVGV4dERlY29kZXIiLCJkZWNvZGVVdGY4IiwiZGVjb2RlIiwiYnl0ZXMiLCJwb3MiLCJsZW4iLCJvdXQiLCJzdWJzdHJpbmdzIiwiYnl0ZTEiLCJieXRlMiIsImJ5dGUzIiwiY29kZXBvaW50IiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiYXBwbHkiLCJqb2luIiwidWludDY0SGlnaFBhcnRTaGlmdCIsInBvdyIsIm1heFNhZmVOdW1iZXJIaWdoUGFydCIsInJlYWRJbnQzMkxFIiwicmVhZFVpbnQzMkxFIiwicmVhZFVpbnQ2NExFIiwiaGlnaFBhcnQiLCJPdXRPZlByb2Nlc3NSZW5kZXJCYXRjaCIsImJhdGNoRGF0YSIsInN0cmluZ1JlYWRlciIsIk91dE9mUHJvY2Vzc1N0cmluZ1JlYWRlciIsImFycmF5UmFuZ2VSZWFkZXIiLCJPdXRPZlByb2Nlc3NBcnJheVJhbmdlUmVhZGVyIiwiT3V0T2ZQcm9jZXNzQXJyYXlCdWlsZGVyU2VnbWVudFJlYWRlciIsIk91dE9mUHJvY2Vzc1JlbmRlclRyZWVEaWZmUmVhZGVyIiwiT3V0T2ZQcm9jZXNzUmVuZGVyVHJlZUVkaXRSZWFkZXIiLCJPdXRPZlByb2Nlc3NSZW5kZXJUcmVlRnJhbWVSZWFkZXIiLCJ1cGRhdGVkQ29tcG9uZW50cyIsImRpc3Bvc2VkQ29tcG9uZW50SWRzIiwiZGlzcG9zZWRFdmVudEhhbmRsZXJJZHMiLCJ1cGRhdGVkQ29tcG9uZW50c0VudHJ5IiwidGFibGVFbnRyeVBvcyIsImRpc3Bvc2VkQ29tcG9uZW50SWRzRW50cnkiLCJlbnRyeVBvcyIsImRpc3Bvc2VkRXZlbnRIYW5kbGVySWRzRW50cnkiLCJiYXRjaERhdGFVaW50OCIsImRpZmYiLCJzdHJpbmdJbmRleCIsInJlYWRTdHJpbmciLCJzdHJpbmdUYWJsZVN0YXJ0SW5kZXgiLCJzdHJpbmdUYWJsZUVudHJ5UG9zIiwibnVtVXRmOEJ5dGVzIiwiYnl0ZSIsInJlYWRMRUIxMjgiLCJjaGFyc1N0YXJ0IiwidXRmOERhdGEiLCJhcnJheVJhbmdlIiwiX2FycmF5QnVpbGRlclNlZ21lbnQiLCJhcnJheUJ1aWxkZXJTZWdtZW50IiwiaXBjTWVzc2FnZVByZWZpeCIsImFwcGxpY2F0aW9uSXNUZXJtaW5hdGVkIiwic2VuZFJlbmRlckNvbXBsZXRlZCIsImJhdGNoSWQiLCJlcnJvck9yTnVsbCIsInNlbmQiLCJzZW5kQmVnaW5JbnZva2VEb3ROZXRGcm9tSlMiLCJzZW5kRW5kSW52b2tlSlNGcm9tRG90TmV0Iiwic3VjY2VlZGVkIiwiZGF0YUJhc2U2NEVuY29kZWQiLCJjaGFyQnl0ZXMiLCJidG9hIiwiYmFzZTY0RW5jb2RlQnl0ZUFycmF5Iiwic2VuZExvY2F0aW9uQ2hhbmdlZCIsInNlbmRMb2NhdGlvbkNoYW5naW5nIiwibWVzc2FnZVR5cGUiLCJzZXJpYWxpemVkTWVzc2FnZSIsInRyeVNlcmlhbGl6ZU1lc3NhZ2UiLCJleHRlcm5hbCIsInNlbmRNZXNzYWdlIiwiV2ViUmVuZGVyZXJJZCIsIkxvZ0xldmVsIiwicmVjZWl2ZUJhc2U2NEJ5dGVBcnJheSIsImJhc2U2NERhdGEiLCJiYXNlNjRUb0FycmF5QnVmZmVyIiwiZGlzcGF0Y2hlciIsImJhc2U2NCIsImJpbmFyeVN0cmluZyIsImF0b2IiLCJjaGFyQ29kZUF0IiwiSlNJbml0aWFsaXplciIsInNpbmdsZVJ1bnRpbWUiLCJsb2dnZXIiLCJhZnRlcnN0YXJ0ZWRDYWxsYmFja3MiLCJ3ZWJSZW5kZXJlcklkIiwiYWZ0ZXJTdGFydGVkQ2FsbGJhY2tzIiwiaW1wb3J0SW5pdGlhbGl6ZXJzQXN5bmMiLCJpbml0aWFsaXplckZpbGVzIiwiaW5pdGlhbGl6ZXJBcmd1bWVudHMiLCJqc0luaXRpYWxpemVyIiwiYWRqdXN0ZWRQYXRoIiwiYmFzZSIsImFkanVzdFBhdGgiLCJpbml0aWFsaXplciIsImJlZm9yZVN0YXJ0IiwiYWZ0ZXJTdGFydGVkIiwiYmVmb3JlV2ViQXNzZW1ibHlTdGFydCIsImFmdGVyV2ViQXNzZW1ibHlTdGFydGVkIiwiYmVmb3JlU2VydmVyU3RhcnQiLCJhZnRlclNlcnZlclN0YXJ0ZWQiLCJmaW5hbEJlZm9yZVN0YXJ0IiwiU2VydmVyIiwiV2ViQXNzZW1ibHkiLCJmaW5hbEFmdGVyU3RhcnRlZCIsInJ1bkNsYXNzaWNJbml0aWFsaXplcnMiLCJpbml0aWFsaXplck1vZHVsZSIsImJlZm9yZVdlYlN0YXJ0IiwiYWZ0ZXJXZWJTdGFydGVkIiwiaGFzT25seUNsYXNzaWNJbml0aWFsaXplcnMiLCJydW5MZWdhY3lJbml0aWFsaXplcnMiLCJlbmFibGVDbGFzc2ljSW5pdGlhbGl6ZXJzIiwibG9nIiwiV2FybmluZyIsImluaXRpYWxpemVycyIsImVuc3VyZUluaXRpYWxpemVycyIsIndlYkFzc2VtYmx5IiwiY2lyY3VpdCIsInJ1bk11bHRpUnVudGltZUluaXRpYWxpemVycyIsImltcG9ydEFuZEludm9rZUluaXRpYWxpemVyIiwiaW52b2tlQWZ0ZXJTdGFydGVkQ2FsbGJhY2tzIiwiYmxhem9yIiwiYXR0YWNoZWQiLCJzdGFydGVkIiwiYm9vdCIsImpzSW5pdGlhbGl6ZXJzUmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImNyZWRlbnRpYWxzIiwiY2FjaGUiLCJmZXRjaEFuZEludm9rZUluaXRpYWxpemVycyIsIm1lc3NhZ2VIYW5kbGVycyIsIkF0dGFjaFRvRG9jdW1lbnQiLCJlbGVtZW50U2VsZWN0b3IiLCJiZWZvcmVFbGVtZW50U2VsZWN0b3IiLCJhZnRlckVsZW1lbnRTZWxlY3RvciIsImNvbnRhaW5lciIsImdldEFuZFJlbW92ZVBlbmRpbmdSb290Q29tcG9uZW50Q29udGFpbmVyIiwiYnJvd3NlclJlbmRlcmVyIiwiYXR0YWNoUm9vdENvbXBvbmVudFRvRWxlbWVudCIsIldlYlZpZXciLCJSZW5kZXJCYXRjaCIsImJhdGNoRGF0YUJhc2U2NCIsInVwZGF0ZWRDb21wb25lbnRzUmFuZ2UiLCJ1cGRhdGVkQ29tcG9uZW50c1ZhbHVlcyIsInVwZGF0ZWRDb21wb25lbnRzTGVuZ3RoIiwicmVmZXJlbmNlRnJhbWVzVmFsdWVzIiwiZGlzcG9zZWRDb21wb25lbnRJZHNSYW5nZSIsImRpc3Bvc2VkQ29tcG9uZW50SWRzVmFsdWVzIiwiZGlzcG9zZWRDb21wb25lbnRJZHNMZW5ndGgiLCJkaXNwb3NlZEV2ZW50SGFuZGxlcklkc1JhbmdlIiwiZGlzcG9zZWRFdmVudEhhbmRsZXJJZHNWYWx1ZXMiLCJkaXNwb3NlZEV2ZW50SGFuZGxlcklkc0xlbmd0aCIsInNjcm9sbFRvIiwicmVuZGVyQmF0Y2giLCJOb3RpZnlVbmhhbmRsZWRFeGNlcHRpb24iLCJzdGFja1RyYWNlIiwiZXJyb3JVaSIsIm9uY2xpY2siLCJkaXNtaXNzIiwic2hvd0Vycm9yTm90aWZpY2F0aW9uIiwiQmVnaW5JbnZva2VKUyIsIkVuZEludm9rZURvdE5ldCIsIlNlbmRCeXRlQXJyYXlUb0pTIiwiTmF2aWdhdGUiLCJuYXZpZ2F0aW9uTWFuYWdlckZ1bmN0aW9ucyIsIlJlZnJlc2giLCJTZXRIYXNMb2NhdGlvbkNoYW5naW5nTGlzdGVuZXJzIiwiRW5kTG9jYXRpb25DaGFuZ2luZyIsInJlY2VpdmVNZXNzYWdlIiwicGFyc2VkTWVzc2FnZSIsIm1lc3NhZ2VBZnRlclByZWZpeCIsInRyeURlc2VyaWFsaXplTWVzc2FnZSIsInN0YXJ0SXBjUmVjZWl2ZXIiLCJyZWNlaXZlV2ViVmlld0RvdE5ldERhdGFTdHJlYW0iLCJieXRlc1JlYWQiLCJlcnJvck1lc3NhZ2UiLCJzdHJlYW1Db250cm9sbGVyIiwicmVhZGFibGVTdHJlYW0iLCJSZWFkYWJsZVN0cmVhbSIsInN0YXJ0IiwiY29udHJvbGxlciIsImNsb3NlIiwiZW5xdWV1ZSIsInN1YmFycmF5IiwicmVjZWl2ZURvdE5ldERhdGFTdHJlYW0iLCJleHBvcnRzIiwiY3VycmVudFNjcmlwdCJdLCJtYXBwaW5ncyI6IjBCQUdPLElBQUlBLEVDZ0VDQyxFQWNBQyxHRDdFWixTQUFXRixHQUNQLE1BQU1HLEVBQWUsR0FDZkMsRUFBZ0IsZUFDaEJDLEVBQXFCLGlCQUNyQkMsRUFBa0IsV0FDbEJDLEVBQXFCLGlCQUNyQkMsRUFBNkIsNEJB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
